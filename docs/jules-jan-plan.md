# JAN (Jenova Agent Nexus) - Comprehensive Project Plan (Generated by Jules, July 2024)

## 1. Overall Vision & Goals

*   **JAN Platform:** Develop JAN as an integrated platform for creating, managing, and utilizing AI agents (like CodeSwarm) for complex tasks, with a focus on software development use cases.
*   **Core Engine (CodeSwarm):** Continue to stabilize and enhance the CodeSwarm multi-agent system (Admin, Dev, Revisor) as the primary task execution engine within JAN.
*   **Tooling & Extensibility:**
    *   **Easy MCP Creator:** Implement a feature within JAN to allow users to easily integrate, configure, and manage various MCP-compliant tools and services (e.g., from fastapi-mcp, GitIngest, DesktopCommander, Code Executor). This may involve Docker management.
    *   **Custom Tools:** Allow users to define and add their own custom ADK FunctionTools to agents.
*   **Knowledge & Reasoning:**
    *   **RAG Implementation:** Integrate robust Retrieval Augmented Generation (RAG) capabilities for agents to access and reason over diverse knowledge sources (codebases, documentation, issue trackers, best practices).
*   **ADK/A2A/Gemini Foundation:** Ensure the entire system remains aligned with Google's ADK, Gemini models, and potentially A2A for inter-agent/service communication.
*   **User Interface (Conceptual):** Acknowledge the user's mention of an "agents page" in JAN for agent creation and management (details of UI implementation are likely outside current AI scope but backend support is needed).
*   **Testing & Robustness:** Implement comprehensive testing at various levels.
*   **Documentation:** Maintain thorough and up-to-date documentation for users and developers.

## 2. Phased Development Plan

### Phase 0: Foundation & Stabilization (Largely Completed by CodeSwarm Refactor)

*   Recap of CodeSwarm stabilization: ADK 1.1.1, `gemini-2.5-flash-preview-05-20` model compatibility, refined AdminAgent with granular/action-oriented task output, orchestrator-managed tool execution (including `write_file` for Dev/AdminLogger and `execute_python_script` with user confirmation via `input()`), path duplication fixes, `.env` configuration, and robust logging.
*   **Deliverable:** Stable CodeSwarm engine capable of basic file creation and controlled script execution.

### Phase 1: Documentation & Knowledge Management Foundation

*   **Task 1.1: Create Foundational Documentation (`lessons.md`, `jules_project_summary.md`):** (Completed)
*   **Task 1.2: Update `tasklist.md`:** (Completed) Add future considerations from recent discussions.
*   **Task 1.3: RAG - Knowledge Base Setup (Initial):**
    *   Define strategy for ingesting and indexing initial knowledge sources for CodeSwarm agents (e.g., the `/docs` folder itself, key ADK/A2A documentation).
    *   Implement initial RAG tools (e.g., `search_internal_docs`, `get_internal_doc_content`) for agents, similar to `kb_tools.py` discussed in `recomendations.md`.
    *   Test CodeSwarm agents using these RAG tools for simple queries.
*   **Task 1.4: Comprehensive Documentation Overhaul (Part 1 - Core Docs):**
    *   Review and refactor `docs/project.md`, `docs/plan.md` (the old one), and `docs/mcp.md` to align with the JAN vision and current understanding.
    *   Consolidate relevant information from `docs/sugestions.md` and `docs/recomendations.md` into this new `jules-jan-plan.md` and the updated core docs.
    *   Update `README.md` at the root of the project and `codeswarm/readme.md`.

### Phase 2: "Easy MCP Creator" & Enhanced Tooling

*   **Task 2.1: Research `fastapi-mcp` and selected MCPs:**
    *   Clone and analyze the `tadata-org/fastapi_mcp` repository.
    *   Review 1-2 selected MCPs from `docs/mcp.md` (e.g., a code executor MCP and a Git-related MCP) to understand their deployment and API.
*   **Task 2.2: Design "Easy MCP Creator" Backend Components:**
    *   Define how JAN will manage configurations for these external MCP services (e.g., storing API keys, service URLs, Docker image names).
    *   Design the mechanism for JAN to potentially manage Docker containers for these MCPs (e.g., generating docker-compose snippets, or interacting with Docker API if JAN backend has rights - this needs careful security consideration).
*   **Task 2.3: Implement ADK `McpTool` Integration:**
    *   Develop generic ADK `McpTool` wrappers or configuration mechanisms within CodeSwarm/JAN to allow agents to use tools from these managed MCP services.
    *   Test CodeSwarm agents using at least one external MCP tool via this integration.
*   **Task 2.4: Advanced ADK Tools for CodeSwarm:**
    *   Implement tools for static code analysis (e.g., wrapping a linter) as suggested in `docs/sugestions.md`.
    *   Implement tools for unit test generation (skeletons) and/or execution.

### Phase 3: Advanced ADK Features & Orchestration

*   **Task 3.1: Session Persistence with `FileStore`:**
    *   Implement `FileStore` for `InMemorySessionService` to persist ADK sessions, allowing work to be resumed.
*   **Task 3.2: Advanced Agent Orchestration (Experimental):**
    *   Explore using ADK `WorkflowAgent` (e.g., `SequentialAgent`, `LoopAgent`) to formalize parts of the CodeSwarm orchestration currently in `main_adk_controller.py`.
*   **Task 3.3: ADK Upgrade Path Research:**
    *   Investigate upgrading `google-adk` from 1.1.1 to a newer version. Document potential breaking changes and benefits. (Actual upgrade is a larger, separate plan).

### Phase 4: Testing & Evaluation

*   **Task 4.1: Backend Unit & Integration Tests:**
    *   Write unit tests for key functions in `tool_logic.py`, `adk_config.py`, `adk_setup.py`.
    *   Write integration tests for the CodeSwarm `main_adk_controller.py` workflow with mock goals and file system interactions.
*   **Task 4.2: ADK Evaluation Framework:**
    *   Set up test cases using ADK's evaluation framework (as mentioned in `docs/adkdocs/adk-a2a-documentation-condensed.md` and `docs/sugestions.md`).
    *   Evaluate CodeSwarm agent performance on predefined tasks.
*   **Task 4.3: Frontend Testing Strategy (Conceptual):**
    *   Define a strategy for testing JAN's frontend if/when it's developed. This might involve manual testing checklists or identifying areas where UI automation could be applied (actual UI automation is likely out of scope for current AI capabilities).

### Phase 5: Ongoing Documentation & Refinement

*   **Task 5.1: Continuous Documentation Updates:**
    *   Update `docs/jules-jan-plan.md`, `docs/tasklist.md`, `docs/changelog.log`, and `docs/lessons.md` throughout the project.
    *   Refactor other documents in `/docs` as new features are implemented or understanding evolves.
*   **Task 5.2: User Manual for JAN (Conceptual):**
    *   Outline and begin drafting a user manual for JAN, explaining how to use its features (agent creation, MCP tool integration, etc.).

## 3. Documentation Strategy

*   **`docs/jules-jan-plan.md` (This Document):** Overall long-term strategic plan.
*   **`docs/tasklist.md`:** Detailed breakdown of current and upcoming short-term tasks, derived from `jules-jan-plan.md`.
*   **`docs/changelog.log`:** Chronological list of significant changes, features implemented, and bugs fixed.
*   **`docs/lessons.md`:** Consolidated learnings about ADK, A2A, Gemini, MCPs, and project-specific challenges.
*   **Refactored `/docs` Directory:** Other `.md` files in `/docs` will be reviewed, updated, or consolidated to provide clear, accurate, and well-organized information about the JAN project, its components (like CodeSwarm), and relevant technologies. Deprecated/outdated info will be removed or archived.

## 4. Testing Strategy (Overview)

*   **Backend:** Unit tests for individual modules, integration tests for agent workflows (CodeSwarm), and evaluation using ADK's framework.
*   **Frontend (Conceptual):** Manual testing checklists initially. Explore UI automation possibilities as the UI develops.
*   **Tooling:** Test ADK tools and MCP integrations thoroughly.

This plan is a living document and will be updated as the project progresses and new information becomes available.
```
