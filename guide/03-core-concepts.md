# Core Concepts

Understanding CodeSwarm requires familiarity with its core data models and operational concepts.

## Glossary

*   **Agent**: An autonomous entity capable of using tools and processing natural language (defined in `codeswarm/agents.py`).
*   **Round**: A complete cycle of planning, execution, and review. The system can run for multiple rounds to iteratively build complex software.
*   **Session State**: A dictionary holding global context (e.g., project goal, summaries of previous rounds).
*   **Task**: A specific unit of work assigned to a Dev/Revisor pair.

## Data Models

CodeSwarm uses Pydantic models to ensure structured communication between agents. These are defined in `codeswarm/models.py` and `codeswarm/structures.py`.

### TaskNode

The `TaskNode` represents a node in the project's task tree.

*   **File**: `codeswarm/structures.py`
*   **Key Fields**:
    *   `id`: Unique identifier (UUID).
    *   `status`: Current state (`PENDING`, `IN_PROGRESS`, `APPROVED`, `REJECTED`).
    *   `description`: What needs to be done.
    *   `file_path`: The file associated with the task.
    *   `dev_output` / `revisor_output`: Results from the agents.

### TaskAssignment

The `TaskAssignment` is the instruction packet generated by the AdminAgent.

*   **File**: `codeswarm/models.py`
*   **Key Fields**:
    *   `dev_id`: ID of the developer agent.
    *   `file_to_edit_or_create`: Target file path.
    *   `dev_task_description`: Instructions for the developer.
    *   `revisor_focus_areas`: Instructions for the reviewer.

## Knowledge Base (KB)

The Knowledge Base consists of specialized JSON modules in `codeswarm/prompts/kb/`.

*   **Purpose**: These files contain reasoning frameworks and role-specific guidelines (e.g., `kb_role_software_engineer.json`).
*   **Mechanism**: `codeswarm/agents.py` loads these files and injects them into the system instructions of the agents, ensuring they follow best practices.

## State Persistence

The system's state is serialized to `codeswarm_state.json` in the project directory.

*   **Content**: Contains the full `TaskTree` and `session_state`.
*   **Usage**: `AgentOS.load_state()` reads this file on startup, allowing the system to resume or continue working on an existing project.
