"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/nuqs";
exports.ids = ["vendor-chunks/nuqs"];
exports.modules = {

/***/ "(rsc)/./node_modules/nuqs/dist/adapters/next/app.js":
/*!*****************************************************!*\
  !*** ./node_modules/nuqs/dist/adapters/next/app.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NuqsAdapter: () => (/* binding */ NuqsAdapter)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server.edge */ "(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.js");

const NuqsAdapter = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call NuqsAdapter() from the server but NuqsAdapter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/suportesaude/YUICHI/00-agentmaker/agent-ui/node_modules/nuqs/dist/adapters/next/app.js",
"NuqsAdapter",
);

/***/ }),

/***/ "(ssr)/./node_modules/nuqs/dist/adapters/next/app.js":
/*!*****************************************************!*\
  !*** ./node_modules/nuqs/dist/adapters/next/app.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NuqsAdapter: () => (/* binding */ NuqsAdapter)\n/* harmony export */ });\n/* harmony import */ var _context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../context-B9lexhKS.js */ \"(ssr)/./node_modules/nuqs/dist/context-B9lexhKS.js\");\n/* harmony import */ var _impl_app_DmCqg7o4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../impl.app-DmCqg7o4.js */ \"(ssr)/./node_modules/nuqs/dist/impl.app-DmCqg7o4.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* __next_internal_client_entry_do_not_use__ NuqsAdapter auto */ \n\n\n\n\n\n//#region src/adapters/next/app.ts\nconst Provider = (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.createAdapterProvider)(_impl_app_DmCqg7o4_js__WEBPACK_IMPORTED_MODULE_2__.useNuqsNextAppRouterAdapter);\nfunction NuqsAdapter({ children, ...adapterProps }) {\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Provider, {\n        ...adapterProps,\n        children: [\n            /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Suspense, {\n                key: \"nuqs-adapter-suspense-navspy\",\n                children: /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_impl_app_DmCqg7o4_js__WEBPACK_IMPORTED_MODULE_2__.NavigationSpy)\n            }),\n            children\n        ]\n    });\n}\n//#endregion\n //# sourceMappingURL=app.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2FkYXB0ZXJzL25leHQvYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBU0EsTUFBTSxXQUFXLDJFQUFxQixDQUFDLDhFQUEyQixDQUFDO0FBRW5FLFNBQWdCLFlBQVksRUFDMUIsVUFDQSxHQUFHLGdCQUdZO0lBQ2YscUJBQU8sb0RBQWEsQ0FBQyxVQUFVO1FBQzdCLEdBQUc7UUFDSCxVQUFVOzBCQUNSLG9EQUFhLENBQUMsMkNBQVEsRUFBRTtnQkFDdEIsS0FBSztnQkFDTCx3QkFBVSxvREFBYSxDQUFDLGdFQUFhLENBQUM7YUFDdkMsQ0FBQztZQUNGO1NBQ0Q7S0FDRixDQUFDIiwic291cmNlcyI6WyIvaG9tZS9zdXBvcnRlc2F1ZGUvc3JjL2FkYXB0ZXJzL25leHQvYXBwLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNyZWF0ZUVsZW1lbnQsXG4gIFN1c3BlbnNlLFxuICB0eXBlIFJlYWN0RWxlbWVudCxcbiAgdHlwZSBSZWFjdE5vZGVcbn0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBjcmVhdGVBZGFwdGVyUHJvdmlkZXIsIHR5cGUgQWRhcHRlclByb3BzIH0gZnJvbSAnLi4vbGliL2NvbnRleHQnXG5pbXBvcnQgeyBOYXZpZ2F0aW9uU3B5LCB1c2VOdXFzTmV4dEFwcFJvdXRlckFkYXB0ZXIgfSBmcm9tICcuL2ltcGwuYXBwJ1xuXG5jb25zdCBQcm92aWRlciA9IGNyZWF0ZUFkYXB0ZXJQcm92aWRlcih1c2VOdXFzTmV4dEFwcFJvdXRlckFkYXB0ZXIpXG5cbmV4cG9ydCBmdW5jdGlvbiBOdXFzQWRhcHRlcih7XG4gIGNoaWxkcmVuLFxuICAuLi5hZGFwdGVyUHJvcHNcbn06IEFkYXB0ZXJQcm9wcyAmIHtcbiAgY2hpbGRyZW46IFJlYWN0Tm9kZVxufSk6IFJlYWN0RWxlbWVudCB7XG4gIHJldHVybiBjcmVhdGVFbGVtZW50KFByb3ZpZGVyLCB7XG4gICAgLi4uYWRhcHRlclByb3BzLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICBjcmVhdGVFbGVtZW50KFN1c3BlbnNlLCB7XG4gICAgICAgIGtleTogJ251cXMtYWRhcHRlci1zdXNwZW5zZS1uYXZzcHknLFxuICAgICAgICBjaGlsZHJlbjogY3JlYXRlRWxlbWVudChOYXZpZ2F0aW9uU3B5KVxuICAgICAgfSksXG4gICAgICBjaGlsZHJlblxuICAgIF1cbiAgfSlcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/adapters/next/app.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/nuqs/dist/compare-CpGtKTbG.js":
/*!****************************************************!*\
  !*** ./node_modules/nuqs/dist/compare-CpGtKTbG.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compareQuery: () => (/* binding */ compareQuery)\n/* harmony export */ });\n//#region src/lib/compare.ts\nfunction compareQuery(a, b) {\n\tif (a === b) return true;\n\tif (a === null || b === null) return false;\n\tif (typeof a === \"string\" || typeof b === \"string\") return false;\n\tif (a.length !== b.length) return false;\n\treturn a.every((value, index) => value === b[index]);\n}\n\n//#endregion\n\n//# sourceMappingURL=compare-CpGtKTbG.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2NvbXBhcmUtQ3BHdEtUYkcuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDd0I7QUFDeEIiLCJzb3VyY2VzIjpbIi9ob21lL3N1cG9ydGVzYXVkZS9ZVUlDSEkvMDAtYWdlbnRtYWtlci9hZ2VudC11aS9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2NvbXBhcmUtQ3BHdEtUYkcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8jcmVnaW9uIHNyYy9saWIvY29tcGFyZS50c1xuZnVuY3Rpb24gY29tcGFyZVF1ZXJ5KGEsIGIpIHtcblx0aWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXHRpZiAoYSA9PT0gbnVsbCB8fCBiID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdGlmICh0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgYiA9PT0gXCJzdHJpbmdcIikgcmV0dXJuIGZhbHNlO1xuXHRpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cdHJldHVybiBhLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlID09PSBiW2luZGV4XSk7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY29tcGFyZVF1ZXJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wYXJlLUNwR3RLVGJHLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/compare-CpGtKTbG.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/nuqs/dist/context-B9lexhKS.js":
/*!****************************************************!*\
  !*** ./node_modules/nuqs/dist/context-B9lexhKS.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   context: () => (/* binding */ context),\n/* harmony export */   createAdapterProvider: () => (/* binding */ createAdapterProvider),\n/* harmony export */   debug: () => (/* binding */ debug),\n/* harmony export */   error: () => (/* binding */ error),\n/* harmony export */   renderQueryString: () => (/* binding */ renderQueryString),\n/* harmony export */   useAdapter: () => (/* binding */ useAdapter),\n/* harmony export */   useAdapterDefaultOptions: () => (/* binding */ useAdapterDefaultOptions),\n/* harmony export */   useAdapterProcessUrlSearchParams: () => (/* binding */ useAdapterProcessUrlSearchParams),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n//#region src/lib/debug.ts\nconst debugEnabled = isDebugEnabled();\nfunction debug(message, ...args) {\n\tif (!debugEnabled) return;\n\tconst msg = sprintf(message, ...args);\n\tperformance.mark(msg);\n\ttry {\n\t\tconsole.log(message, ...args);\n\t} catch {\n\t\tconsole.log(msg);\n\t}\n}\nfunction warn(message, ...args) {\n\tif (!debugEnabled) return;\n\tconsole.warn(message, ...args);\n}\nfunction sprintf(base, ...args) {\n\treturn base.replace(/%[sfdO]/g, (match) => {\n\t\tconst arg = args.shift();\n\t\treturn match === \"%O\" && arg ? JSON.stringify(arg).replace(/\"([^\"]+)\":/g, \"$1:\") : String(arg);\n\t});\n}\nfunction isDebugEnabled() {\n\ttry {\n\t\tconst test = \"nuqs-localStorage-test\";\n\t\tif (typeof localStorage === \"undefined\") return false;\n\t\tlocalStorage.setItem(test, test);\n\t\tconst isStorageAvailable = localStorage.getItem(test) === test;\n\t\tlocalStorage.removeItem(test);\n\t\treturn isStorageAvailable && (localStorage.getItem(\"debug\") || \"\").includes(\"nuqs\");\n\t} catch {\n\t\treturn false;\n\t}\n}\n\n//#endregion\n//#region src/lib/errors.ts\nconst errors = {\n\t303: \"Multiple adapter contexts detected. This might happen in monorepos.\",\n\t404: \"nuqs requires an adapter to work with your framework.\",\n\t409: \"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.\",\n\t414: \"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.\",\n\t422: \"Invalid options combination: `limitUrlUpdates: debounce` should be used in SSR scenarios, with `shallow: false`\",\n\t429: \"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O\",\n\t500: \"Empty search params cache. Search params can't be accessed in Layouts.\",\n\t501: \"Search params cache already populated. Have you called `parse` twice?\"\n};\nfunction error(code) {\n\treturn `[nuqs] ${errors[code]}\n  See https://nuqs.dev/NUQS-${code}`;\n}\n\n//#endregion\n//#region src/lib/url-encoding.ts\nfunction renderQueryString(search) {\n\tif (search.size === 0) return \"\";\n\tconst query = [];\n\tfor (const [key, value] of search.entries()) {\n\t\tconst safeKey = key.replace(/#/g, \"%23\").replace(/&/g, \"%26\").replace(/\\+/g, \"%2B\").replace(/=/g, \"%3D\").replace(/\\?/g, \"%3F\");\n\t\tquery.push(`${safeKey}=${encodeQueryValue(value)}`);\n\t}\n\tconst queryString = \"?\" + query.join(\"&\");\n\twarnIfURLIsTooLong(queryString);\n\treturn queryString;\n}\nfunction encodeQueryValue(input) {\n\treturn input.replace(/%/g, \"%25\").replace(/\\+/g, \"%2B\").replace(/ /g, \"+\").replace(/#/g, \"%23\").replace(/&/g, \"%26\").replace(/\"/g, \"%22\").replace(/'/g, \"%27\").replace(/`/g, \"%60\").replace(/</g, \"%3C\").replace(/>/g, \"%3E\").replace(/[\\x00-\\x1F]/g, (char) => encodeURIComponent(char));\n}\nconst URL_MAX_LENGTH = 2e3;\nfunction warnIfURLIsTooLong(queryString) {\n\tif (false) {}\n\tif (typeof location === \"undefined\") return;\n\tconst url = new URL(location.href);\n\turl.search = queryString;\n\tif (url.href.length > URL_MAX_LENGTH) console.warn(error(414));\n}\n\n//#endregion\n//#region src/adapters/lib/context.ts\nconst context = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({ useAdapter() {\n\tthrow new Error(error(404));\n} });\ncontext.displayName = \"NuqsAdapterContext\";\nif (debugEnabled && typeof window !== \"undefined\") {\n\tif (window.__NuqsAdapterContext && window.__NuqsAdapterContext !== context) console.error(error(303));\n\twindow.__NuqsAdapterContext = context;\n}\n/**\n* Create a custom adapter (context provider) for nuqs to work with your framework / router.\n*\n* Adapters are based on React Context,\n*\n* @param useAdapter\n* @returns\n*/\nfunction createAdapterProvider(useAdapter$1) {\n\treturn ({ children, defaultOptions, processUrlSearchParams,...props }) => (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(context.Provider, {\n\t\t...props,\n\t\tvalue: {\n\t\t\tuseAdapter: useAdapter$1,\n\t\t\tdefaultOptions,\n\t\t\tprocessUrlSearchParams\n\t\t}\n\t}, children);\n}\nfunction useAdapter(watchKeys) {\n\tconst value = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(context);\n\tif (!(\"useAdapter\" in value)) throw new Error(error(404));\n\treturn value.useAdapter(watchKeys);\n}\nconst useAdapterDefaultOptions = () => (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(context).defaultOptions;\nconst useAdapterProcessUrlSearchParams = () => (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(context).processUrlSearchParams;\n\n//#endregion\n\n//# sourceMappingURL=context-B9lexhKS.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2NvbnRleHQtQjlsZXhoS1MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFpRTs7QUFFakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsOEJBQThCLEtBQUs7QUFDbkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsUUFBUSxHQUFHLHdCQUF3QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssS0FBcUMsRUFBRSxFQUFPO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixvREFBYSxHQUFHO0FBQ2hDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDJEQUEyRCxLQUFLLG9EQUFhO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsZUFBZSxpREFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsaURBQVU7QUFDakQsK0NBQStDLGlEQUFVOztBQUV6RDtBQUN5SjtBQUN6SiIsInNvdXJjZXMiOlsiL2hvbWUvc3Vwb3J0ZXNhdWRlL1lVSUNISS8wMC1hZ2VudG1ha2VyL2FnZW50LXVpL25vZGVfbW9kdWxlcy9udXFzL2Rpc3QvY29udGV4dC1COWxleGhLUy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBjcmVhdGVFbGVtZW50LCB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vI3JlZ2lvbiBzcmMvbGliL2RlYnVnLnRzXG5jb25zdCBkZWJ1Z0VuYWJsZWQgPSBpc0RlYnVnRW5hYmxlZCgpO1xuZnVuY3Rpb24gZGVidWcobWVzc2FnZSwgLi4uYXJncykge1xuXHRpZiAoIWRlYnVnRW5hYmxlZCkgcmV0dXJuO1xuXHRjb25zdCBtc2cgPSBzcHJpbnRmKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuXHRwZXJmb3JtYW5jZS5tYXJrKG1zZyk7XG5cdHRyeSB7XG5cdFx0Y29uc29sZS5sb2cobWVzc2FnZSwgLi4uYXJncyk7XG5cdH0gY2F0Y2gge1xuXHRcdGNvbnNvbGUubG9nKG1zZyk7XG5cdH1cbn1cbmZ1bmN0aW9uIHdhcm4obWVzc2FnZSwgLi4uYXJncykge1xuXHRpZiAoIWRlYnVnRW5hYmxlZCkgcmV0dXJuO1xuXHRjb25zb2xlLndhcm4obWVzc2FnZSwgLi4uYXJncyk7XG59XG5mdW5jdGlvbiBzcHJpbnRmKGJhc2UsIC4uLmFyZ3MpIHtcblx0cmV0dXJuIGJhc2UucmVwbGFjZSgvJVtzZmRPXS9nLCAobWF0Y2gpID0+IHtcblx0XHRjb25zdCBhcmcgPSBhcmdzLnNoaWZ0KCk7XG5cdFx0cmV0dXJuIG1hdGNoID09PSBcIiVPXCIgJiYgYXJnID8gSlNPTi5zdHJpbmdpZnkoYXJnKS5yZXBsYWNlKC9cIihbXlwiXSspXCI6L2csIFwiJDE6XCIpIDogU3RyaW5nKGFyZyk7XG5cdH0pO1xufVxuZnVuY3Rpb24gaXNEZWJ1Z0VuYWJsZWQoKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgdGVzdCA9IFwibnVxcy1sb2NhbFN0b3JhZ2UtdGVzdFwiO1xuXHRcdGlmICh0eXBlb2YgbG9jYWxTdG9yYWdlID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZmFsc2U7XG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0odGVzdCwgdGVzdCk7XG5cdFx0Y29uc3QgaXNTdG9yYWdlQXZhaWxhYmxlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGVzdCkgPT09IHRlc3Q7XG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGVzdCk7XG5cdFx0cmV0dXJuIGlzU3RvcmFnZUF2YWlsYWJsZSAmJiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJkZWJ1Z1wiKSB8fCBcIlwiKS5pbmNsdWRlcyhcIm51cXNcIik7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvbGliL2Vycm9ycy50c1xuY29uc3QgZXJyb3JzID0ge1xuXHQzMDM6IFwiTXVsdGlwbGUgYWRhcHRlciBjb250ZXh0cyBkZXRlY3RlZC4gVGhpcyBtaWdodCBoYXBwZW4gaW4gbW9ub3JlcG9zLlwiLFxuXHQ0MDQ6IFwibnVxcyByZXF1aXJlcyBhbiBhZGFwdGVyIHRvIHdvcmsgd2l0aCB5b3VyIGZyYW1ld29yay5cIixcblx0NDA5OiBcIk11bHRpcGxlIHZlcnNpb25zIG9mIHRoZSBsaWJyYXJ5IGFyZSBsb2FkZWQuIFRoaXMgbWF5IGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci4gQ3VycmVudGx5IHVzaW5nIGAlc2AsIGJ1dCBgJXNgICh2aWEgdGhlICVzIGFkYXB0ZXIpIHdhcyBhYm91dCB0byBsb2FkIG9uIHRvcC5cIixcblx0NDE0OiBcIk1heCBzYWZlIFVSTCBsZW5ndGggZXhjZWVkZWQuIFNvbWUgYnJvd3NlcnMgbWF5IG5vdCBiZSBhYmxlIHRvIGFjY2VwdCB0aGlzIFVSTC4gQ29uc2lkZXIgbGltaXRpbmcgdGhlIGFtb3VudCBvZiBzdGF0ZSBzdG9yZWQgaW4gdGhlIFVSTC5cIixcblx0NDIyOiBcIkludmFsaWQgb3B0aW9ucyBjb21iaW5hdGlvbjogYGxpbWl0VXJsVXBkYXRlczogZGVib3VuY2VgIHNob3VsZCBiZSB1c2VkIGluIFNTUiBzY2VuYXJpb3MsIHdpdGggYHNoYWxsb3c6IGZhbHNlYFwiLFxuXHQ0Mjk6IFwiVVJMIHVwZGF0ZSByYXRlLWxpbWl0ZWQgYnkgdGhlIGJyb3dzZXIuIENvbnNpZGVyIGluY3JlYXNpbmcgYHRocm90dGxlTXNgIGZvciBrZXkocykgYCVzYC4gJU9cIixcblx0NTAwOiBcIkVtcHR5IHNlYXJjaCBwYXJhbXMgY2FjaGUuIFNlYXJjaCBwYXJhbXMgY2FuJ3QgYmUgYWNjZXNzZWQgaW4gTGF5b3V0cy5cIixcblx0NTAxOiBcIlNlYXJjaCBwYXJhbXMgY2FjaGUgYWxyZWFkeSBwb3B1bGF0ZWQuIEhhdmUgeW91IGNhbGxlZCBgcGFyc2VgIHR3aWNlP1wiXG59O1xuZnVuY3Rpb24gZXJyb3IoY29kZSkge1xuXHRyZXR1cm4gYFtudXFzXSAke2Vycm9yc1tjb2RlXX1cbiAgU2VlIGh0dHBzOi8vbnVxcy5kZXYvTlVRUy0ke2NvZGV9YDtcbn1cblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL2xpYi91cmwtZW5jb2RpbmcudHNcbmZ1bmN0aW9uIHJlbmRlclF1ZXJ5U3RyaW5nKHNlYXJjaCkge1xuXHRpZiAoc2VhcmNoLnNpemUgPT09IDApIHJldHVybiBcIlwiO1xuXHRjb25zdCBxdWVyeSA9IFtdO1xuXHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBzZWFyY2guZW50cmllcygpKSB7XG5cdFx0Y29uc3Qgc2FmZUtleSA9IGtleS5yZXBsYWNlKC8jL2csIFwiJTIzXCIpLnJlcGxhY2UoLyYvZywgXCIlMjZcIikucmVwbGFjZSgvXFwrL2csIFwiJTJCXCIpLnJlcGxhY2UoLz0vZywgXCIlM0RcIikucmVwbGFjZSgvXFw/L2csIFwiJTNGXCIpO1xuXHRcdHF1ZXJ5LnB1c2goYCR7c2FmZUtleX09JHtlbmNvZGVRdWVyeVZhbHVlKHZhbHVlKX1gKTtcblx0fVxuXHRjb25zdCBxdWVyeVN0cmluZyA9IFwiP1wiICsgcXVlcnkuam9pbihcIiZcIik7XG5cdHdhcm5JZlVSTElzVG9vTG9uZyhxdWVyeVN0cmluZyk7XG5cdHJldHVybiBxdWVyeVN0cmluZztcbn1cbmZ1bmN0aW9uIGVuY29kZVF1ZXJ5VmFsdWUoaW5wdXQpIHtcblx0cmV0dXJuIGlucHV0LnJlcGxhY2UoLyUvZywgXCIlMjVcIikucmVwbGFjZSgvXFwrL2csIFwiJTJCXCIpLnJlcGxhY2UoLyAvZywgXCIrXCIpLnJlcGxhY2UoLyMvZywgXCIlMjNcIikucmVwbGFjZSgvJi9nLCBcIiUyNlwiKS5yZXBsYWNlKC9cIi9nLCBcIiUyMlwiKS5yZXBsYWNlKC8nL2csIFwiJTI3XCIpLnJlcGxhY2UoL2AvZywgXCIlNjBcIikucmVwbGFjZSgvPC9nLCBcIiUzQ1wiKS5yZXBsYWNlKC8+L2csIFwiJTNFXCIpLnJlcGxhY2UoL1tcXHgwMC1cXHgxRl0vZywgKGNoYXIpID0+IGVuY29kZVVSSUNvbXBvbmVudChjaGFyKSk7XG59XG5jb25zdCBVUkxfTUFYX0xFTkdUSCA9IDJlMztcbmZ1bmN0aW9uIHdhcm5JZlVSTElzVG9vTG9uZyhxdWVyeVN0cmluZykge1xuXHRpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiKSByZXR1cm47XG5cdGlmICh0eXBlb2YgbG9jYXRpb24gPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjtcblx0Y29uc3QgdXJsID0gbmV3IFVSTChsb2NhdGlvbi5ocmVmKTtcblx0dXJsLnNlYXJjaCA9IHF1ZXJ5U3RyaW5nO1xuXHRpZiAodXJsLmhyZWYubGVuZ3RoID4gVVJMX01BWF9MRU5HVEgpIGNvbnNvbGUud2FybihlcnJvcig0MTQpKTtcbn1cblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL2FkYXB0ZXJzL2xpYi9jb250ZXh0LnRzXG5jb25zdCBjb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7IHVzZUFkYXB0ZXIoKSB7XG5cdHRocm93IG5ldyBFcnJvcihlcnJvcig0MDQpKTtcbn0gfSk7XG5jb250ZXh0LmRpc3BsYXlOYW1lID0gXCJOdXFzQWRhcHRlckNvbnRleHRcIjtcbmlmIChkZWJ1Z0VuYWJsZWQgJiYgdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRpZiAod2luZG93Ll9fTnVxc0FkYXB0ZXJDb250ZXh0ICYmIHdpbmRvdy5fX051cXNBZGFwdGVyQ29udGV4dCAhPT0gY29udGV4dCkgY29uc29sZS5lcnJvcihlcnJvcigzMDMpKTtcblx0d2luZG93Ll9fTnVxc0FkYXB0ZXJDb250ZXh0ID0gY29udGV4dDtcbn1cbi8qKlxuKiBDcmVhdGUgYSBjdXN0b20gYWRhcHRlciAoY29udGV4dCBwcm92aWRlcikgZm9yIG51cXMgdG8gd29yayB3aXRoIHlvdXIgZnJhbWV3b3JrIC8gcm91dGVyLlxuKlxuKiBBZGFwdGVycyBhcmUgYmFzZWQgb24gUmVhY3QgQ29udGV4dCxcbipcbiogQHBhcmFtIHVzZUFkYXB0ZXJcbiogQHJldHVybnNcbiovXG5mdW5jdGlvbiBjcmVhdGVBZGFwdGVyUHJvdmlkZXIodXNlQWRhcHRlciQxKSB7XG5cdHJldHVybiAoeyBjaGlsZHJlbiwgZGVmYXVsdE9wdGlvbnMsIHByb2Nlc3NVcmxTZWFyY2hQYXJhbXMsLi4ucHJvcHMgfSkgPT4gY3JlYXRlRWxlbWVudChjb250ZXh0LlByb3ZpZGVyLCB7XG5cdFx0Li4ucHJvcHMsXG5cdFx0dmFsdWU6IHtcblx0XHRcdHVzZUFkYXB0ZXI6IHVzZUFkYXB0ZXIkMSxcblx0XHRcdGRlZmF1bHRPcHRpb25zLFxuXHRcdFx0cHJvY2Vzc1VybFNlYXJjaFBhcmFtc1xuXHRcdH1cblx0fSwgY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gdXNlQWRhcHRlcih3YXRjaEtleXMpIHtcblx0Y29uc3QgdmFsdWUgPSB1c2VDb250ZXh0KGNvbnRleHQpO1xuXHRpZiAoIShcInVzZUFkYXB0ZXJcIiBpbiB2YWx1ZSkpIHRocm93IG5ldyBFcnJvcihlcnJvcig0MDQpKTtcblx0cmV0dXJuIHZhbHVlLnVzZUFkYXB0ZXIod2F0Y2hLZXlzKTtcbn1cbmNvbnN0IHVzZUFkYXB0ZXJEZWZhdWx0T3B0aW9ucyA9ICgpID0+IHVzZUNvbnRleHQoY29udGV4dCkuZGVmYXVsdE9wdGlvbnM7XG5jb25zdCB1c2VBZGFwdGVyUHJvY2Vzc1VybFNlYXJjaFBhcmFtcyA9ICgpID0+IHVzZUNvbnRleHQoY29udGV4dCkucHJvY2Vzc1VybFNlYXJjaFBhcmFtcztcblxuLy8jZW5kcmVnaW9uXG5leHBvcnQgeyBjb250ZXh0LCBjcmVhdGVBZGFwdGVyUHJvdmlkZXIsIGRlYnVnLCBlcnJvciwgcmVuZGVyUXVlcnlTdHJpbmcsIHVzZUFkYXB0ZXIsIHVzZUFkYXB0ZXJEZWZhdWx0T3B0aW9ucywgdXNlQWRhcHRlclByb2Nlc3NVcmxTZWFyY2hQYXJhbXMsIHdhcm4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHQtQjlsZXhoS1MuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/context-B9lexhKS.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/nuqs/dist/debounce-F8USatWE.js":
/*!*****************************************************!*\
  !*** ./node_modules/nuqs/dist/debounce-F8USatWE.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createEmitter: () => (/* binding */ createEmitter),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   debounceController: () => (/* binding */ debounceController),\n/* harmony export */   defaultRateLimit: () => (/* binding */ defaultRateLimit),\n/* harmony export */   globalThrottleQueue: () => (/* binding */ globalThrottleQueue),\n/* harmony export */   isAbsentFromUrl: () => (/* binding */ isAbsentFromUrl),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   write: () => (/* binding */ write)\n/* harmony export */ });\n/* harmony import */ var _context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./context-B9lexhKS.js */ \"(ssr)/./node_modules/nuqs/dist/context-B9lexhKS.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n\n//#region src/lib/queues/rate-limiting.ts\nfunction getDefaultThrottle() {\n\tif (typeof window === \"undefined\") return 50;\n\tif (!Boolean(window.GestureEvent)) return 50;\n\ttry {\n\t\tconst match = navigator.userAgent?.match(/version\\/([\\d\\.]+) safari/i);\n\t\treturn parseFloat(match[1]) >= 17 ? 120 : 320;\n\t} catch {\n\t\treturn 320;\n\t}\n}\nfunction throttle(timeMs) {\n\treturn {\n\t\tmethod: \"throttle\",\n\t\ttimeMs\n\t};\n}\nfunction debounce(timeMs) {\n\treturn {\n\t\tmethod: \"debounce\",\n\t\ttimeMs\n\t};\n}\nconst defaultRateLimit = throttle(getDefaultThrottle());\n\n//#endregion\n//#region src/lib/search-params.ts\nfunction isAbsentFromUrl(query) {\n\treturn query === null || Array.isArray(query) && query.length === 0;\n}\nfunction write(serialized, key, searchParams) {\n\tif (typeof serialized === \"string\") searchParams.set(key, serialized);\n\telse {\n\t\tsearchParams.delete(key);\n\t\tfor (const v of serialized) searchParams.append(key, v);\n\t\tif (!searchParams.has(key)) searchParams.set(key, \"\");\n\t}\n\treturn searchParams;\n}\n\n//#endregion\n//#region src/lib/emitter.ts\nfunction createEmitter() {\n\tconst all = /* @__PURE__ */ new Map();\n\treturn {\n\t\ton(type, handler) {\n\t\t\tconst handlers = all.get(type) || [];\n\t\t\thandlers.push(handler);\n\t\t\tall.set(type, handlers);\n\t\t\treturn () => this.off(type, handler);\n\t\t},\n\t\toff(type, handler) {\n\t\t\tconst handlers = all.get(type);\n\t\t\tif (handlers) all.set(type, handlers.filter((h) => h !== handler));\n\t\t},\n\t\temit(type, event) {\n\t\t\tall.get(type)?.forEach((handler) => handler(event));\n\t\t}\n\t};\n}\n\n//#endregion\n//#region src/lib/timeout.ts\nfunction timeout(callback, ms, signal) {\n\tfunction onTick() {\n\t\tcallback();\n\t\tsignal.removeEventListener(\"abort\", onAbort);\n\t}\n\tconst id = setTimeout(onTick, ms);\n\tfunction onAbort() {\n\t\tclearTimeout(id);\n\t\tsignal.removeEventListener(\"abort\", onAbort);\n\t}\n\tsignal.addEventListener(\"abort\", onAbort);\n}\n\n//#endregion\n//#region src/lib/with-resolvers.ts\nfunction withResolvers() {\n\tconst P = Promise;\n\tif (Promise.hasOwnProperty(\"withResolvers\")) return Promise.withResolvers();\n\tlet resolve = () => {};\n\tlet reject = () => {};\n\treturn {\n\t\tpromise: new P((res, rej) => {\n\t\t\tresolve = res;\n\t\t\treject = rej;\n\t\t}),\n\t\tresolve,\n\t\treject\n\t};\n}\n\n//#endregion\n//#region src/lib/compose.ts\nfunction compose(fns, final) {\n\tlet next = final;\n\tfor (let i = fns.length - 1; i >= 0; i--) {\n\t\tconst fn = fns[i];\n\t\tif (!fn) continue;\n\t\tconst prev = next;\n\t\tnext = () => fn(prev);\n\t}\n\tnext();\n}\n\n//#endregion\n//#region src/lib/queues/throttle.ts\nfunction getSearchParamsSnapshotFromLocation() {\n\treturn new URLSearchParams(location.search);\n}\nvar ThrottledQueue = class {\n\tupdateMap = /* @__PURE__ */ new Map();\n\toptions = {\n\t\thistory: \"replace\",\n\t\tscroll: false,\n\t\tshallow: true\n\t};\n\ttimeMs = defaultRateLimit.timeMs;\n\ttransitions = /* @__PURE__ */ new Set();\n\tresolvers = null;\n\tcontroller = null;\n\tlastFlushedAt = 0;\n\tresetQueueOnNextPush = false;\n\tpush({ key, query, options }, timeMs = defaultRateLimit.timeMs) {\n\t\tif (this.resetQueueOnNextPush) {\n\t\t\tthis.reset();\n\t\t\tthis.resetQueueOnNextPush = false;\n\t\t}\n\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs gtq] Enqueueing %s=%s %O\", key, query, options);\n\t\tthis.updateMap.set(key, query);\n\t\tif (options.history === \"push\") this.options.history = \"push\";\n\t\tif (options.scroll) this.options.scroll = true;\n\t\tif (options.shallow === false) this.options.shallow = false;\n\t\tif (options.startTransition) this.transitions.add(options.startTransition);\n\t\tif (!Number.isFinite(this.timeMs) || timeMs > this.timeMs) this.timeMs = timeMs;\n\t}\n\tgetQueuedQuery(key) {\n\t\treturn this.updateMap.get(key);\n\t}\n\tgetPendingPromise({ getSearchParamsSnapshot = getSearchParamsSnapshotFromLocation }) {\n\t\treturn this.resolvers?.promise ?? Promise.resolve(getSearchParamsSnapshot());\n\t}\n\tflush({ getSearchParamsSnapshot = getSearchParamsSnapshotFromLocation, rateLimitFactor = 1,...adapter }, processUrlSearchParams) {\n\t\tthis.controller ??= new AbortController();\n\t\tif (!Number.isFinite(this.timeMs)) {\n\t\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs gtq] Skipping flush due to throttleMs=Infinity\");\n\t\t\treturn Promise.resolve(getSearchParamsSnapshot());\n\t\t}\n\t\tif (this.resolvers) return this.resolvers.promise;\n\t\tthis.resolvers = withResolvers();\n\t\tconst flushNow = () => {\n\t\t\tthis.lastFlushedAt = performance.now();\n\t\t\tconst [search, error$1] = this.applyPendingUpdates({\n\t\t\t\t...adapter,\n\t\t\t\tautoResetQueueOnUpdate: adapter.autoResetQueueOnUpdate ?? true,\n\t\t\t\tgetSearchParamsSnapshot\n\t\t\t}, processUrlSearchParams);\n\t\t\tif (error$1 === null) {\n\t\t\t\tthis.resolvers.resolve(search);\n\t\t\t\tthis.resetQueueOnNextPush = true;\n\t\t\t} else this.resolvers.reject(search);\n\t\t\tthis.resolvers = null;\n\t\t};\n\t\tconst runOnNextTick = () => {\n\t\t\tconst timeSinceLastFlush = performance.now() - this.lastFlushedAt;\n\t\t\tconst timeMs = this.timeMs;\n\t\t\tconst flushInMs = rateLimitFactor * Math.max(0, timeMs - timeSinceLastFlush);\n\t\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(`[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)`, flushInMs, timeMs, rateLimitFactor);\n\t\t\tif (flushInMs === 0) flushNow();\n\t\t\telse timeout(flushNow, flushInMs, this.controller.signal);\n\t\t};\n\t\ttimeout(runOnNextTick, 0, this.controller.signal);\n\t\treturn this.resolvers.promise;\n\t}\n\tabort() {\n\t\tthis.controller?.abort();\n\t\tthis.controller = new AbortController();\n\t\tthis.resolvers?.resolve(new URLSearchParams());\n\t\tthis.resolvers = null;\n\t\treturn this.reset();\n\t}\n\treset() {\n\t\tconst queuedKeys = Array.from(this.updateMap.keys());\n\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs gtq] Resetting queue %s\", JSON.stringify(Object.fromEntries(this.updateMap)));\n\t\tthis.updateMap.clear();\n\t\tthis.transitions.clear();\n\t\tthis.options = {\n\t\t\thistory: \"replace\",\n\t\t\tscroll: false,\n\t\t\tshallow: true\n\t\t};\n\t\tthis.timeMs = defaultRateLimit.timeMs;\n\t\treturn queuedKeys;\n\t}\n\tapplyPendingUpdates(adapter, processUrlSearchParams) {\n\t\tconst { updateUrl, getSearchParamsSnapshot } = adapter;\n\t\tlet search = getSearchParamsSnapshot();\n\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(`[nuqs gtq] Applying %d pending update(s) on top of %s`, this.updateMap.size, search.toString());\n\t\tif (this.updateMap.size === 0) return [search, null];\n\t\tconst items = Array.from(this.updateMap.entries());\n\t\tconst options = { ...this.options };\n\t\tconst transitions = Array.from(this.transitions);\n\t\tif (adapter.autoResetQueueOnUpdate) this.reset();\n\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs gtq] Flushing queue %O with options %O\", items, options);\n\t\tfor (const [key, value] of items) if (value === null) search.delete(key);\n\t\telse search = write(value, key, search);\n\t\tif (processUrlSearchParams) search = processUrlSearchParams(search);\n\t\ttry {\n\t\t\tcompose(transitions, () => {\n\t\t\t\tupdateUrl(search, options);\n\t\t\t});\n\t\t\treturn [search, null];\n\t\t} catch (err) {\n\t\t\tconsole.error((0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.error)(429), items.map(([key]) => key).join(), err);\n\t\t\treturn [search, err];\n\t\t}\n\t}\n};\nconst globalThrottleQueue = new ThrottledQueue();\n\n//#endregion\n//#region src/lib/queues/useSyncExternalStores.ts\n/**\n* Like `useSyncExternalStore`, but for subscribing to multiple keys.\n*\n* Each key becomes the key of the returned object,\n* and the value is the result of calling `getKeySnapshot` with that key.\n*\n* @param keys - A list of keys to subscribe to.\n* @param subscribeKey - A function that takes a key and a callback,\n* subscribes to an external store using that key (calling the callback when\n* state changes occur), and returns a function to unsubscribe from that key.\n* @param getKeySnapshot - A function that takes a key and returns the snapshot for that key.\n* It will be called on the server and on the client, so it needs to handle both\n* environments.\n*/\nfunction useSyncExternalStores(keys, subscribeKey, getKeySnapshot) {\n\tconst snapshot = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n\t\tconst record = Object.fromEntries(keys.map((key) => [key, getKeySnapshot(key)]));\n\t\treturn [JSON.stringify(record), record];\n\t}, [keys.join(\",\"), getKeySnapshot]);\n\tconst cacheRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n\tif (cacheRef.current === null) cacheRef.current = snapshot();\n\tconst subscribe = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((callback) => {\n\t\tconst off = keys.map((key) => subscribeKey(key, callback));\n\t\treturn () => off.forEach((unsubscribe) => unsubscribe());\n\t}, [keys.join(\",\"), subscribeKey]);\n\treturn (0,react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore)(subscribe, () => {\n\t\tconst [cacheKey, record] = snapshot();\n\t\tif (cacheRef.current[0] === cacheKey) return cacheRef.current[1];\n\t\tcacheRef.current = [cacheKey, record];\n\t\treturn record;\n\t}, () => cacheRef.current[1]);\n}\n\n//#endregion\n//#region src/lib/queues/debounce.ts\nvar DebouncedPromiseQueue = class {\n\tcallback;\n\tresolvers = withResolvers();\n\tcontroller = new AbortController();\n\tqueuedValue = void 0;\n\tconstructor(callback) {\n\t\tthis.callback = callback;\n\t}\n\tabort() {\n\t\tthis.controller.abort();\n\t\tthis.queuedValue = void 0;\n\t}\n\tpush(value, timeMs) {\n\t\tthis.queuedValue = value;\n\t\tthis.controller.abort();\n\t\tthis.controller = new AbortController();\n\t\ttimeout(() => {\n\t\t\tconst outputResolvers = this.resolvers;\n\t\t\ttry {\n\t\t\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs dq] Flushing debounce queue\", value);\n\t\t\t\tconst callbackPromise = this.callback(value);\n\t\t\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs dq] Reset debounce queue %O\", this.queuedValue);\n\t\t\t\tthis.queuedValue = void 0;\n\t\t\t\tthis.resolvers = withResolvers();\n\t\t\t\tcallbackPromise.then((output) => outputResolvers.resolve(output)).catch((error$1) => outputResolvers.reject(error$1));\n\t\t\t} catch (error$1) {\n\t\t\t\tthis.queuedValue = void 0;\n\t\t\t\toutputResolvers.reject(error$1);\n\t\t\t}\n\t\t}, timeMs, this.controller.signal);\n\t\treturn this.resolvers.promise;\n\t}\n};\nvar DebounceController = class {\n\tthrottleQueue;\n\tqueues = /* @__PURE__ */ new Map();\n\tqueuedQuerySync = createEmitter();\n\tconstructor(throttleQueue = new ThrottledQueue()) {\n\t\tthis.throttleQueue = throttleQueue;\n\t}\n\tuseQueuedQueries(keys) {\n\t\treturn useSyncExternalStores(keys, (key, callback) => this.queuedQuerySync.on(key, callback), (key) => this.getQueuedQuery(key));\n\t}\n\tpush(update, timeMs, adapter) {\n\t\tif (!Number.isFinite(timeMs)) {\n\t\t\tconst getSnapshot = adapter.getSearchParamsSnapshot ?? getSearchParamsSnapshotFromLocation;\n\t\t\treturn Promise.resolve(getSnapshot());\n\t\t}\n\t\tconst key = update.key;\n\t\tif (!this.queues.has(key)) {\n\t\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs dqc] Creating debounce queue for `%s`\", key);\n\t\t\tconst queue = new DebouncedPromiseQueue((update$1) => {\n\t\t\t\tthis.throttleQueue.push(update$1);\n\t\t\t\treturn this.throttleQueue.flush(adapter).finally(() => {\n\t\t\t\t\tif (this.queues.get(update$1.key)?.queuedValue === void 0) {\n\t\t\t\t\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs dqc] Cleaning up empty queue for `%s`\", update$1.key);\n\t\t\t\t\t\tthis.queues.delete(update$1.key);\n\t\t\t\t\t}\n\t\t\t\t\tthis.queuedQuerySync.emit(update$1.key);\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.queues.set(key, queue);\n\t\t}\n\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs dqc] Enqueueing debounce update %O\", update);\n\t\tconst promise = this.queues.get(key).push(update, timeMs);\n\t\tthis.queuedQuerySync.emit(key);\n\t\treturn promise;\n\t}\n\tabort(key) {\n\t\tconst queue = this.queues.get(key);\n\t\tif (!queue) return (passThrough) => passThrough;\n\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs dqc] Aborting debounce queue %s=%s\", key, queue.queuedValue?.query);\n\t\tthis.queues.delete(key);\n\t\tqueue.abort();\n\t\tthis.queuedQuerySync.emit(key);\n\t\treturn (promise) => {\n\t\t\tpromise.then(queue.resolvers.resolve, queue.resolvers.reject);\n\t\t\treturn promise;\n\t\t};\n\t}\n\tabortAll() {\n\t\tfor (const [key, queue] of this.queues.entries()) {\n\t\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_1__.debug)(\"[nuqs dqc] Aborting debounce queue %s=%s\", key, queue.queuedValue?.query);\n\t\t\tqueue.abort();\n\t\t\tqueue.resolvers.resolve(new URLSearchParams());\n\t\t\tthis.queuedQuerySync.emit(key);\n\t\t}\n\t\tthis.queues.clear();\n\t}\n\tgetQueuedQuery(key) {\n\t\tconst debouncedQueued = this.queues.get(key)?.queuedValue?.query;\n\t\tif (debouncedQueued !== void 0) return debouncedQueued;\n\t\treturn this.throttleQueue.getQueuedQuery(key);\n\t}\n};\nconst debounceController = new DebounceController(globalThrottleQueue);\n\n//#endregion\n\n//# sourceMappingURL=debounce-F8USatWE.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2RlYm91bmNlLUY4VVNhdFdFLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBcUQ7QUFDYTs7QUFFbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsUUFBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFCQUFxQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsMkRBQUs7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwrREFBK0Q7QUFDcEY7QUFDQTtBQUNBLFNBQVMsK0ZBQStGO0FBQ3hHO0FBQ0E7QUFDQSxHQUFHLDJEQUFLO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsMkRBQUs7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDJEQUFLO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUNBQXFDO0FBQy9DO0FBQ0EsRUFBRSwyREFBSztBQUNQO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBLEVBQUUsMkRBQUs7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0osaUJBQWlCLDJEQUFLO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrREFBVztBQUM3QjtBQUNBO0FBQ0EsRUFBRTtBQUNGLGtCQUFrQiw2Q0FBTTtBQUN4QjtBQUNBLG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0EsRUFBRTtBQUNGLFFBQVEsMkRBQW9CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksMkRBQUs7QUFDVDtBQUNBLElBQUksMkRBQUs7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLDJEQUFLO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLDJEQUFLO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0EsRUFBRSwyREFBSztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSwyREFBSztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRywyREFBSztBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ2dJO0FBQ2hJIiwic291cmNlcyI6WyIvaG9tZS9zdXBvcnRlc2F1ZGUvWVVJQ0hJLzAwLWFnZW50bWFrZXIvYWdlbnQtdWkvbm9kZV9tb2R1bGVzL251cXMvZGlzdC9kZWJvdW5jZS1GOFVTYXRXRS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWJ1ZywgZXJyb3IgfSBmcm9tIFwiLi9jb250ZXh0LUI5bGV4aEtTLmpzXCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VTeW5jRXh0ZXJuYWxTdG9yZSB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyNyZWdpb24gc3JjL2xpYi9xdWV1ZXMvcmF0ZS1saW1pdGluZy50c1xuZnVuY3Rpb24gZ2V0RGVmYXVsdFRocm90dGxlKCkge1xuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIDUwO1xuXHRpZiAoIUJvb2xlYW4od2luZG93Lkdlc3R1cmVFdmVudCkpIHJldHVybiA1MDtcblx0dHJ5IHtcblx0XHRjb25zdCBtYXRjaCA9IG5hdmlnYXRvci51c2VyQWdlbnQ/Lm1hdGNoKC92ZXJzaW9uXFwvKFtcXGRcXC5dKykgc2FmYXJpL2kpO1xuXHRcdHJldHVybiBwYXJzZUZsb2F0KG1hdGNoWzFdKSA+PSAxNyA/IDEyMCA6IDMyMDtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIDMyMDtcblx0fVxufVxuZnVuY3Rpb24gdGhyb3R0bGUodGltZU1zKSB7XG5cdHJldHVybiB7XG5cdFx0bWV0aG9kOiBcInRocm90dGxlXCIsXG5cdFx0dGltZU1zXG5cdH07XG59XG5mdW5jdGlvbiBkZWJvdW5jZSh0aW1lTXMpIHtcblx0cmV0dXJuIHtcblx0XHRtZXRob2Q6IFwiZGVib3VuY2VcIixcblx0XHR0aW1lTXNcblx0fTtcbn1cbmNvbnN0IGRlZmF1bHRSYXRlTGltaXQgPSB0aHJvdHRsZShnZXREZWZhdWx0VGhyb3R0bGUoKSk7XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9saWIvc2VhcmNoLXBhcmFtcy50c1xuZnVuY3Rpb24gaXNBYnNlbnRGcm9tVXJsKHF1ZXJ5KSB7XG5cdHJldHVybiBxdWVyeSA9PT0gbnVsbCB8fCBBcnJheS5pc0FycmF5KHF1ZXJ5KSAmJiBxdWVyeS5sZW5ndGggPT09IDA7XG59XG5mdW5jdGlvbiB3cml0ZShzZXJpYWxpemVkLCBrZXksIHNlYXJjaFBhcmFtcykge1xuXHRpZiAodHlwZW9mIHNlcmlhbGl6ZWQgPT09IFwic3RyaW5nXCIpIHNlYXJjaFBhcmFtcy5zZXQoa2V5LCBzZXJpYWxpemVkKTtcblx0ZWxzZSB7XG5cdFx0c2VhcmNoUGFyYW1zLmRlbGV0ZShrZXkpO1xuXHRcdGZvciAoY29uc3QgdiBvZiBzZXJpYWxpemVkKSBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgdik7XG5cdFx0aWYgKCFzZWFyY2hQYXJhbXMuaGFzKGtleSkpIHNlYXJjaFBhcmFtcy5zZXQoa2V5LCBcIlwiKTtcblx0fVxuXHRyZXR1cm4gc2VhcmNoUGFyYW1zO1xufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvbGliL2VtaXR0ZXIudHNcbmZ1bmN0aW9uIGNyZWF0ZUVtaXR0ZXIoKSB7XG5cdGNvbnN0IGFsbCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5cdHJldHVybiB7XG5cdFx0b24odHlwZSwgaGFuZGxlcikge1xuXHRcdFx0Y29uc3QgaGFuZGxlcnMgPSBhbGwuZ2V0KHR5cGUpIHx8IFtdO1xuXHRcdFx0aGFuZGxlcnMucHVzaChoYW5kbGVyKTtcblx0XHRcdGFsbC5zZXQodHlwZSwgaGFuZGxlcnMpO1xuXHRcdFx0cmV0dXJuICgpID0+IHRoaXMub2ZmKHR5cGUsIGhhbmRsZXIpO1xuXHRcdH0sXG5cdFx0b2ZmKHR5cGUsIGhhbmRsZXIpIHtcblx0XHRcdGNvbnN0IGhhbmRsZXJzID0gYWxsLmdldCh0eXBlKTtcblx0XHRcdGlmIChoYW5kbGVycykgYWxsLnNldCh0eXBlLCBoYW5kbGVycy5maWx0ZXIoKGgpID0+IGggIT09IGhhbmRsZXIpKTtcblx0XHR9LFxuXHRcdGVtaXQodHlwZSwgZXZlbnQpIHtcblx0XHRcdGFsbC5nZXQodHlwZSk/LmZvckVhY2goKGhhbmRsZXIpID0+IGhhbmRsZXIoZXZlbnQpKTtcblx0XHR9XG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9saWIvdGltZW91dC50c1xuZnVuY3Rpb24gdGltZW91dChjYWxsYmFjaywgbXMsIHNpZ25hbCkge1xuXHRmdW5jdGlvbiBvblRpY2soKSB7XG5cdFx0Y2FsbGJhY2soKTtcblx0XHRzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uQWJvcnQpO1xuXHR9XG5cdGNvbnN0IGlkID0gc2V0VGltZW91dChvblRpY2ssIG1zKTtcblx0ZnVuY3Rpb24gb25BYm9ydCgpIHtcblx0XHRjbGVhclRpbWVvdXQoaWQpO1xuXHRcdHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25BYm9ydCk7XG5cdH1cblx0c2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvbkFib3J0KTtcbn1cblxuLy8jZW5kcmVnaW9uXG4vLyNyZWdpb24gc3JjL2xpYi93aXRoLXJlc29sdmVycy50c1xuZnVuY3Rpb24gd2l0aFJlc29sdmVycygpIHtcblx0Y29uc3QgUCA9IFByb21pc2U7XG5cdGlmIChQcm9taXNlLmhhc093blByb3BlcnR5KFwid2l0aFJlc29sdmVyc1wiKSkgcmV0dXJuIFByb21pc2Uud2l0aFJlc29sdmVycygpO1xuXHRsZXQgcmVzb2x2ZSA9ICgpID0+IHt9O1xuXHRsZXQgcmVqZWN0ID0gKCkgPT4ge307XG5cdHJldHVybiB7XG5cdFx0cHJvbWlzZTogbmV3IFAoKHJlcywgcmVqKSA9PiB7XG5cdFx0XHRyZXNvbHZlID0gcmVzO1xuXHRcdFx0cmVqZWN0ID0gcmVqO1xuXHRcdH0pLFxuXHRcdHJlc29sdmUsXG5cdFx0cmVqZWN0XG5cdH07XG59XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9saWIvY29tcG9zZS50c1xuZnVuY3Rpb24gY29tcG9zZShmbnMsIGZpbmFsKSB7XG5cdGxldCBuZXh0ID0gZmluYWw7XG5cdGZvciAobGV0IGkgPSBmbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRjb25zdCBmbiA9IGZuc1tpXTtcblx0XHRpZiAoIWZuKSBjb250aW51ZTtcblx0XHRjb25zdCBwcmV2ID0gbmV4dDtcblx0XHRuZXh0ID0gKCkgPT4gZm4ocHJldik7XG5cdH1cblx0bmV4dCgpO1xufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvbGliL3F1ZXVlcy90aHJvdHRsZS50c1xuZnVuY3Rpb24gZ2V0U2VhcmNoUGFyYW1zU25hcHNob3RGcm9tTG9jYXRpb24oKSB7XG5cdHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7XG59XG52YXIgVGhyb3R0bGVkUXVldWUgPSBjbGFzcyB7XG5cdHVwZGF0ZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5cdG9wdGlvbnMgPSB7XG5cdFx0aGlzdG9yeTogXCJyZXBsYWNlXCIsXG5cdFx0c2Nyb2xsOiBmYWxzZSxcblx0XHRzaGFsbG93OiB0cnVlXG5cdH07XG5cdHRpbWVNcyA9IGRlZmF1bHRSYXRlTGltaXQudGltZU1zO1xuXHR0cmFuc2l0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG5cdHJlc29sdmVycyA9IG51bGw7XG5cdGNvbnRyb2xsZXIgPSBudWxsO1xuXHRsYXN0Rmx1c2hlZEF0ID0gMDtcblx0cmVzZXRRdWV1ZU9uTmV4dFB1c2ggPSBmYWxzZTtcblx0cHVzaCh7IGtleSwgcXVlcnksIG9wdGlvbnMgfSwgdGltZU1zID0gZGVmYXVsdFJhdGVMaW1pdC50aW1lTXMpIHtcblx0XHRpZiAodGhpcy5yZXNldFF1ZXVlT25OZXh0UHVzaCkge1xuXHRcdFx0dGhpcy5yZXNldCgpO1xuXHRcdFx0dGhpcy5yZXNldFF1ZXVlT25OZXh0UHVzaCA9IGZhbHNlO1xuXHRcdH1cblx0XHRkZWJ1ZyhcIltudXFzIGd0cV0gRW5xdWV1ZWluZyAlcz0lcyAlT1wiLCBrZXksIHF1ZXJ5LCBvcHRpb25zKTtcblx0XHR0aGlzLnVwZGF0ZU1hcC5zZXQoa2V5LCBxdWVyeSk7XG5cdFx0aWYgKG9wdGlvbnMuaGlzdG9yeSA9PT0gXCJwdXNoXCIpIHRoaXMub3B0aW9ucy5oaXN0b3J5ID0gXCJwdXNoXCI7XG5cdFx0aWYgKG9wdGlvbnMuc2Nyb2xsKSB0aGlzLm9wdGlvbnMuc2Nyb2xsID0gdHJ1ZTtcblx0XHRpZiAob3B0aW9ucy5zaGFsbG93ID09PSBmYWxzZSkgdGhpcy5vcHRpb25zLnNoYWxsb3cgPSBmYWxzZTtcblx0XHRpZiAob3B0aW9ucy5zdGFydFRyYW5zaXRpb24pIHRoaXMudHJhbnNpdGlvbnMuYWRkKG9wdGlvbnMuc3RhcnRUcmFuc2l0aW9uKTtcblx0XHRpZiAoIU51bWJlci5pc0Zpbml0ZSh0aGlzLnRpbWVNcykgfHwgdGltZU1zID4gdGhpcy50aW1lTXMpIHRoaXMudGltZU1zID0gdGltZU1zO1xuXHR9XG5cdGdldFF1ZXVlZFF1ZXJ5KGtleSkge1xuXHRcdHJldHVybiB0aGlzLnVwZGF0ZU1hcC5nZXQoa2V5KTtcblx0fVxuXHRnZXRQZW5kaW5nUHJvbWlzZSh7IGdldFNlYXJjaFBhcmFtc1NuYXBzaG90ID0gZ2V0U2VhcmNoUGFyYW1zU25hcHNob3RGcm9tTG9jYXRpb24gfSkge1xuXHRcdHJldHVybiB0aGlzLnJlc29sdmVycz8ucHJvbWlzZSA/PyBQcm9taXNlLnJlc29sdmUoZ2V0U2VhcmNoUGFyYW1zU25hcHNob3QoKSk7XG5cdH1cblx0Zmx1c2goeyBnZXRTZWFyY2hQYXJhbXNTbmFwc2hvdCA9IGdldFNlYXJjaFBhcmFtc1NuYXBzaG90RnJvbUxvY2F0aW9uLCByYXRlTGltaXRGYWN0b3IgPSAxLC4uLmFkYXB0ZXIgfSwgcHJvY2Vzc1VybFNlYXJjaFBhcmFtcykge1xuXHRcdHRoaXMuY29udHJvbGxlciA/Pz0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXHRcdGlmICghTnVtYmVyLmlzRmluaXRlKHRoaXMudGltZU1zKSkge1xuXHRcdFx0ZGVidWcoXCJbbnVxcyBndHFdIFNraXBwaW5nIGZsdXNoIGR1ZSB0byB0aHJvdHRsZU1zPUluZmluaXR5XCIpO1xuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShnZXRTZWFyY2hQYXJhbXNTbmFwc2hvdCgpKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMucmVzb2x2ZXJzKSByZXR1cm4gdGhpcy5yZXNvbHZlcnMucHJvbWlzZTtcblx0XHR0aGlzLnJlc29sdmVycyA9IHdpdGhSZXNvbHZlcnMoKTtcblx0XHRjb25zdCBmbHVzaE5vdyA9ICgpID0+IHtcblx0XHRcdHRoaXMubGFzdEZsdXNoZWRBdCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRcdFx0Y29uc3QgW3NlYXJjaCwgZXJyb3IkMV0gPSB0aGlzLmFwcGx5UGVuZGluZ1VwZGF0ZXMoe1xuXHRcdFx0XHQuLi5hZGFwdGVyLFxuXHRcdFx0XHRhdXRvUmVzZXRRdWV1ZU9uVXBkYXRlOiBhZGFwdGVyLmF1dG9SZXNldFF1ZXVlT25VcGRhdGUgPz8gdHJ1ZSxcblx0XHRcdFx0Z2V0U2VhcmNoUGFyYW1zU25hcHNob3Rcblx0XHRcdH0sIHByb2Nlc3NVcmxTZWFyY2hQYXJhbXMpO1xuXHRcdFx0aWYgKGVycm9yJDEgPT09IG51bGwpIHtcblx0XHRcdFx0dGhpcy5yZXNvbHZlcnMucmVzb2x2ZShzZWFyY2gpO1xuXHRcdFx0XHR0aGlzLnJlc2V0UXVldWVPbk5leHRQdXNoID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB0aGlzLnJlc29sdmVycy5yZWplY3Qoc2VhcmNoKTtcblx0XHRcdHRoaXMucmVzb2x2ZXJzID0gbnVsbDtcblx0XHR9O1xuXHRcdGNvbnN0IHJ1bk9uTmV4dFRpY2sgPSAoKSA9PiB7XG5cdFx0XHRjb25zdCB0aW1lU2luY2VMYXN0Rmx1c2ggPSBwZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMubGFzdEZsdXNoZWRBdDtcblx0XHRcdGNvbnN0IHRpbWVNcyA9IHRoaXMudGltZU1zO1xuXHRcdFx0Y29uc3QgZmx1c2hJbk1zID0gcmF0ZUxpbWl0RmFjdG9yICogTWF0aC5tYXgoMCwgdGltZU1zIC0gdGltZVNpbmNlTGFzdEZsdXNoKTtcblx0XHRcdGRlYnVnKGBbbnVxcyBndHFdIFNjaGVkdWxpbmcgZmx1c2ggaW4gJWYgbXMuIFRocm90dGxlZCBhdCAlZiBtcyAoeCVmKWAsIGZsdXNoSW5NcywgdGltZU1zLCByYXRlTGltaXRGYWN0b3IpO1xuXHRcdFx0aWYgKGZsdXNoSW5NcyA9PT0gMCkgZmx1c2hOb3coKTtcblx0XHRcdGVsc2UgdGltZW91dChmbHVzaE5vdywgZmx1c2hJbk1zLCB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsKTtcblx0XHR9O1xuXHRcdHRpbWVvdXQocnVuT25OZXh0VGljaywgMCwgdGhpcy5jb250cm9sbGVyLnNpZ25hbCk7XG5cdFx0cmV0dXJuIHRoaXMucmVzb2x2ZXJzLnByb21pc2U7XG5cdH1cblx0YWJvcnQoKSB7XG5cdFx0dGhpcy5jb250cm9sbGVyPy5hYm9ydCgpO1xuXHRcdHRoaXMuY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblx0XHR0aGlzLnJlc29sdmVycz8ucmVzb2x2ZShuZXcgVVJMU2VhcmNoUGFyYW1zKCkpO1xuXHRcdHRoaXMucmVzb2x2ZXJzID0gbnVsbDtcblx0XHRyZXR1cm4gdGhpcy5yZXNldCgpO1xuXHR9XG5cdHJlc2V0KCkge1xuXHRcdGNvbnN0IHF1ZXVlZEtleXMgPSBBcnJheS5mcm9tKHRoaXMudXBkYXRlTWFwLmtleXMoKSk7XG5cdFx0ZGVidWcoXCJbbnVxcyBndHFdIFJlc2V0dGluZyBxdWV1ZSAlc1wiLCBKU09OLnN0cmluZ2lmeShPYmplY3QuZnJvbUVudHJpZXModGhpcy51cGRhdGVNYXApKSk7XG5cdFx0dGhpcy51cGRhdGVNYXAuY2xlYXIoKTtcblx0XHR0aGlzLnRyYW5zaXRpb25zLmNsZWFyKCk7XG5cdFx0dGhpcy5vcHRpb25zID0ge1xuXHRcdFx0aGlzdG9yeTogXCJyZXBsYWNlXCIsXG5cdFx0XHRzY3JvbGw6IGZhbHNlLFxuXHRcdFx0c2hhbGxvdzogdHJ1ZVxuXHRcdH07XG5cdFx0dGhpcy50aW1lTXMgPSBkZWZhdWx0UmF0ZUxpbWl0LnRpbWVNcztcblx0XHRyZXR1cm4gcXVldWVkS2V5cztcblx0fVxuXHRhcHBseVBlbmRpbmdVcGRhdGVzKGFkYXB0ZXIsIHByb2Nlc3NVcmxTZWFyY2hQYXJhbXMpIHtcblx0XHRjb25zdCB7IHVwZGF0ZVVybCwgZ2V0U2VhcmNoUGFyYW1zU25hcHNob3QgfSA9IGFkYXB0ZXI7XG5cdFx0bGV0IHNlYXJjaCA9IGdldFNlYXJjaFBhcmFtc1NuYXBzaG90KCk7XG5cdFx0ZGVidWcoYFtudXFzIGd0cV0gQXBwbHlpbmcgJWQgcGVuZGluZyB1cGRhdGUocykgb24gdG9wIG9mICVzYCwgdGhpcy51cGRhdGVNYXAuc2l6ZSwgc2VhcmNoLnRvU3RyaW5nKCkpO1xuXHRcdGlmICh0aGlzLnVwZGF0ZU1hcC5zaXplID09PSAwKSByZXR1cm4gW3NlYXJjaCwgbnVsbF07XG5cdFx0Y29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKHRoaXMudXBkYXRlTWFwLmVudHJpZXMoKSk7XG5cdFx0Y29uc3Qgb3B0aW9ucyA9IHsgLi4udGhpcy5vcHRpb25zIH07XG5cdFx0Y29uc3QgdHJhbnNpdGlvbnMgPSBBcnJheS5mcm9tKHRoaXMudHJhbnNpdGlvbnMpO1xuXHRcdGlmIChhZGFwdGVyLmF1dG9SZXNldFF1ZXVlT25VcGRhdGUpIHRoaXMucmVzZXQoKTtcblx0XHRkZWJ1ZyhcIltudXFzIGd0cV0gRmx1c2hpbmcgcXVldWUgJU8gd2l0aCBvcHRpb25zICVPXCIsIGl0ZW1zLCBvcHRpb25zKTtcblx0XHRmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBpdGVtcykgaWYgKHZhbHVlID09PSBudWxsKSBzZWFyY2guZGVsZXRlKGtleSk7XG5cdFx0ZWxzZSBzZWFyY2ggPSB3cml0ZSh2YWx1ZSwga2V5LCBzZWFyY2gpO1xuXHRcdGlmIChwcm9jZXNzVXJsU2VhcmNoUGFyYW1zKSBzZWFyY2ggPSBwcm9jZXNzVXJsU2VhcmNoUGFyYW1zKHNlYXJjaCk7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbXBvc2UodHJhbnNpdGlvbnMsICgpID0+IHtcblx0XHRcdFx0dXBkYXRlVXJsKHNlYXJjaCwgb3B0aW9ucyk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBbc2VhcmNoLCBudWxsXTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IoNDI5KSwgaXRlbXMubWFwKChba2V5XSkgPT4ga2V5KS5qb2luKCksIGVycik7XG5cdFx0XHRyZXR1cm4gW3NlYXJjaCwgZXJyXTtcblx0XHR9XG5cdH1cbn07XG5jb25zdCBnbG9iYWxUaHJvdHRsZVF1ZXVlID0gbmV3IFRocm90dGxlZFF1ZXVlKCk7XG5cbi8vI2VuZHJlZ2lvblxuLy8jcmVnaW9uIHNyYy9saWIvcXVldWVzL3VzZVN5bmNFeHRlcm5hbFN0b3Jlcy50c1xuLyoqXG4qIExpa2UgYHVzZVN5bmNFeHRlcm5hbFN0b3JlYCwgYnV0IGZvciBzdWJzY3JpYmluZyB0byBtdWx0aXBsZSBrZXlzLlxuKlxuKiBFYWNoIGtleSBiZWNvbWVzIHRoZSBrZXkgb2YgdGhlIHJldHVybmVkIG9iamVjdCxcbiogYW5kIHRoZSB2YWx1ZSBpcyB0aGUgcmVzdWx0IG9mIGNhbGxpbmcgYGdldEtleVNuYXBzaG90YCB3aXRoIHRoYXQga2V5LlxuKlxuKiBAcGFyYW0ga2V5cyAtIEEgbGlzdCBvZiBrZXlzIHRvIHN1YnNjcmliZSB0by5cbiogQHBhcmFtIHN1YnNjcmliZUtleSAtIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIGtleSBhbmQgYSBjYWxsYmFjayxcbiogc3Vic2NyaWJlcyB0byBhbiBleHRlcm5hbCBzdG9yZSB1c2luZyB0aGF0IGtleSAoY2FsbGluZyB0aGUgY2FsbGJhY2sgd2hlblxuKiBzdGF0ZSBjaGFuZ2VzIG9jY3VyKSwgYW5kIHJldHVybnMgYSBmdW5jdGlvbiB0byB1bnN1YnNjcmliZSBmcm9tIHRoYXQga2V5LlxuKiBAcGFyYW0gZ2V0S2V5U25hcHNob3QgLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBrZXkgYW5kIHJldHVybnMgdGhlIHNuYXBzaG90IGZvciB0aGF0IGtleS5cbiogSXQgd2lsbCBiZSBjYWxsZWQgb24gdGhlIHNlcnZlciBhbmQgb24gdGhlIGNsaWVudCwgc28gaXQgbmVlZHMgdG8gaGFuZGxlIGJvdGhcbiogZW52aXJvbm1lbnRzLlxuKi9cbmZ1bmN0aW9uIHVzZVN5bmNFeHRlcm5hbFN0b3JlcyhrZXlzLCBzdWJzY3JpYmVLZXksIGdldEtleVNuYXBzaG90KSB7XG5cdGNvbnN0IHNuYXBzaG90ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuXHRcdGNvbnN0IHJlY29yZCA9IE9iamVjdC5mcm9tRW50cmllcyhrZXlzLm1hcCgoa2V5KSA9PiBba2V5LCBnZXRLZXlTbmFwc2hvdChrZXkpXSkpO1xuXHRcdHJldHVybiBbSlNPTi5zdHJpbmdpZnkocmVjb3JkKSwgcmVjb3JkXTtcblx0fSwgW2tleXMuam9pbihcIixcIiksIGdldEtleVNuYXBzaG90XSk7XG5cdGNvbnN0IGNhY2hlUmVmID0gdXNlUmVmKG51bGwpO1xuXHRpZiAoY2FjaGVSZWYuY3VycmVudCA9PT0gbnVsbCkgY2FjaGVSZWYuY3VycmVudCA9IHNuYXBzaG90KCk7XG5cdGNvbnN0IHN1YnNjcmliZSA9IHVzZUNhbGxiYWNrKChjYWxsYmFjaykgPT4ge1xuXHRcdGNvbnN0IG9mZiA9IGtleXMubWFwKChrZXkpID0+IHN1YnNjcmliZUtleShrZXksIGNhbGxiYWNrKSk7XG5cdFx0cmV0dXJuICgpID0+IG9mZi5mb3JFYWNoKCh1bnN1YnNjcmliZSkgPT4gdW5zdWJzY3JpYmUoKSk7XG5cdH0sIFtrZXlzLmpvaW4oXCIsXCIpLCBzdWJzY3JpYmVLZXldKTtcblx0cmV0dXJuIHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgKCkgPT4ge1xuXHRcdGNvbnN0IFtjYWNoZUtleSwgcmVjb3JkXSA9IHNuYXBzaG90KCk7XG5cdFx0aWYgKGNhY2hlUmVmLmN1cnJlbnRbMF0gPT09IGNhY2hlS2V5KSByZXR1cm4gY2FjaGVSZWYuY3VycmVudFsxXTtcblx0XHRjYWNoZVJlZi5jdXJyZW50ID0gW2NhY2hlS2V5LCByZWNvcmRdO1xuXHRcdHJldHVybiByZWNvcmQ7XG5cdH0sICgpID0+IGNhY2hlUmVmLmN1cnJlbnRbMV0pO1xufVxuXG4vLyNlbmRyZWdpb25cbi8vI3JlZ2lvbiBzcmMvbGliL3F1ZXVlcy9kZWJvdW5jZS50c1xudmFyIERlYm91bmNlZFByb21pc2VRdWV1ZSA9IGNsYXNzIHtcblx0Y2FsbGJhY2s7XG5cdHJlc29sdmVycyA9IHdpdGhSZXNvbHZlcnMoKTtcblx0Y29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblx0cXVldWVkVmFsdWUgPSB2b2lkIDA7XG5cdGNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuXHR9XG5cdGFib3J0KCkge1xuXHRcdHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuXHRcdHRoaXMucXVldWVkVmFsdWUgPSB2b2lkIDA7XG5cdH1cblx0cHVzaCh2YWx1ZSwgdGltZU1zKSB7XG5cdFx0dGhpcy5xdWV1ZWRWYWx1ZSA9IHZhbHVlO1xuXHRcdHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuXHRcdHRoaXMuY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblx0XHR0aW1lb3V0KCgpID0+IHtcblx0XHRcdGNvbnN0IG91dHB1dFJlc29sdmVycyA9IHRoaXMucmVzb2x2ZXJzO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZGVidWcoXCJbbnVxcyBkcV0gRmx1c2hpbmcgZGVib3VuY2UgcXVldWVcIiwgdmFsdWUpO1xuXHRcdFx0XHRjb25zdCBjYWxsYmFja1Byb21pc2UgPSB0aGlzLmNhbGxiYWNrKHZhbHVlKTtcblx0XHRcdFx0ZGVidWcoXCJbbnVxcyBkcV0gUmVzZXQgZGVib3VuY2UgcXVldWUgJU9cIiwgdGhpcy5xdWV1ZWRWYWx1ZSk7XG5cdFx0XHRcdHRoaXMucXVldWVkVmFsdWUgPSB2b2lkIDA7XG5cdFx0XHRcdHRoaXMucmVzb2x2ZXJzID0gd2l0aFJlc29sdmVycygpO1xuXHRcdFx0XHRjYWxsYmFja1Byb21pc2UudGhlbigob3V0cHV0KSA9PiBvdXRwdXRSZXNvbHZlcnMucmVzb2x2ZShvdXRwdXQpKS5jYXRjaCgoZXJyb3IkMSkgPT4gb3V0cHV0UmVzb2x2ZXJzLnJlamVjdChlcnJvciQxKSk7XG5cdFx0XHR9IGNhdGNoIChlcnJvciQxKSB7XG5cdFx0XHRcdHRoaXMucXVldWVkVmFsdWUgPSB2b2lkIDA7XG5cdFx0XHRcdG91dHB1dFJlc29sdmVycy5yZWplY3QoZXJyb3IkMSk7XG5cdFx0XHR9XG5cdFx0fSwgdGltZU1zLCB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsKTtcblx0XHRyZXR1cm4gdGhpcy5yZXNvbHZlcnMucHJvbWlzZTtcblx0fVxufTtcbnZhciBEZWJvdW5jZUNvbnRyb2xsZXIgPSBjbGFzcyB7XG5cdHRocm90dGxlUXVldWU7XG5cdHF1ZXVlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5cdHF1ZXVlZFF1ZXJ5U3luYyA9IGNyZWF0ZUVtaXR0ZXIoKTtcblx0Y29uc3RydWN0b3IodGhyb3R0bGVRdWV1ZSA9IG5ldyBUaHJvdHRsZWRRdWV1ZSgpKSB7XG5cdFx0dGhpcy50aHJvdHRsZVF1ZXVlID0gdGhyb3R0bGVRdWV1ZTtcblx0fVxuXHR1c2VRdWV1ZWRRdWVyaWVzKGtleXMpIHtcblx0XHRyZXR1cm4gdXNlU3luY0V4dGVybmFsU3RvcmVzKGtleXMsIChrZXksIGNhbGxiYWNrKSA9PiB0aGlzLnF1ZXVlZFF1ZXJ5U3luYy5vbihrZXksIGNhbGxiYWNrKSwgKGtleSkgPT4gdGhpcy5nZXRRdWV1ZWRRdWVyeShrZXkpKTtcblx0fVxuXHRwdXNoKHVwZGF0ZSwgdGltZU1zLCBhZGFwdGVyKSB7XG5cdFx0aWYgKCFOdW1iZXIuaXNGaW5pdGUodGltZU1zKSkge1xuXHRcdFx0Y29uc3QgZ2V0U25hcHNob3QgPSBhZGFwdGVyLmdldFNlYXJjaFBhcmFtc1NuYXBzaG90ID8/IGdldFNlYXJjaFBhcmFtc1NuYXBzaG90RnJvbUxvY2F0aW9uO1xuXHRcdFx0cmV0dXJuIFByb21pc2UucmVzb2x2ZShnZXRTbmFwc2hvdCgpKTtcblx0XHR9XG5cdFx0Y29uc3Qga2V5ID0gdXBkYXRlLmtleTtcblx0XHRpZiAoIXRoaXMucXVldWVzLmhhcyhrZXkpKSB7XG5cdFx0XHRkZWJ1ZyhcIltudXFzIGRxY10gQ3JlYXRpbmcgZGVib3VuY2UgcXVldWUgZm9yIGAlc2BcIiwga2V5KTtcblx0XHRcdGNvbnN0IHF1ZXVlID0gbmV3IERlYm91bmNlZFByb21pc2VRdWV1ZSgodXBkYXRlJDEpID0+IHtcblx0XHRcdFx0dGhpcy50aHJvdHRsZVF1ZXVlLnB1c2godXBkYXRlJDEpO1xuXHRcdFx0XHRyZXR1cm4gdGhpcy50aHJvdHRsZVF1ZXVlLmZsdXNoKGFkYXB0ZXIpLmZpbmFsbHkoKCkgPT4ge1xuXHRcdFx0XHRcdGlmICh0aGlzLnF1ZXVlcy5nZXQodXBkYXRlJDEua2V5KT8ucXVldWVkVmFsdWUgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRcdFx0ZGVidWcoXCJbbnVxcyBkcWNdIENsZWFuaW5nIHVwIGVtcHR5IHF1ZXVlIGZvciBgJXNgXCIsIHVwZGF0ZSQxLmtleSk7XG5cdFx0XHRcdFx0XHR0aGlzLnF1ZXVlcy5kZWxldGUodXBkYXRlJDEua2V5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy5xdWV1ZWRRdWVyeVN5bmMuZW1pdCh1cGRhdGUkMS5rZXkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5xdWV1ZXMuc2V0KGtleSwgcXVldWUpO1xuXHRcdH1cblx0XHRkZWJ1ZyhcIltudXFzIGRxY10gRW5xdWV1ZWluZyBkZWJvdW5jZSB1cGRhdGUgJU9cIiwgdXBkYXRlKTtcblx0XHRjb25zdCBwcm9taXNlID0gdGhpcy5xdWV1ZXMuZ2V0KGtleSkucHVzaCh1cGRhdGUsIHRpbWVNcyk7XG5cdFx0dGhpcy5xdWV1ZWRRdWVyeVN5bmMuZW1pdChrZXkpO1xuXHRcdHJldHVybiBwcm9taXNlO1xuXHR9XG5cdGFib3J0KGtleSkge1xuXHRcdGNvbnN0IHF1ZXVlID0gdGhpcy5xdWV1ZXMuZ2V0KGtleSk7XG5cdFx0aWYgKCFxdWV1ZSkgcmV0dXJuIChwYXNzVGhyb3VnaCkgPT4gcGFzc1Rocm91Z2g7XG5cdFx0ZGVidWcoXCJbbnVxcyBkcWNdIEFib3J0aW5nIGRlYm91bmNlIHF1ZXVlICVzPSVzXCIsIGtleSwgcXVldWUucXVldWVkVmFsdWU/LnF1ZXJ5KTtcblx0XHR0aGlzLnF1ZXVlcy5kZWxldGUoa2V5KTtcblx0XHRxdWV1ZS5hYm9ydCgpO1xuXHRcdHRoaXMucXVldWVkUXVlcnlTeW5jLmVtaXQoa2V5KTtcblx0XHRyZXR1cm4gKHByb21pc2UpID0+IHtcblx0XHRcdHByb21pc2UudGhlbihxdWV1ZS5yZXNvbHZlcnMucmVzb2x2ZSwgcXVldWUucmVzb2x2ZXJzLnJlamVjdCk7XG5cdFx0XHRyZXR1cm4gcHJvbWlzZTtcblx0XHR9O1xuXHR9XG5cdGFib3J0QWxsKCkge1xuXHRcdGZvciAoY29uc3QgW2tleSwgcXVldWVdIG9mIHRoaXMucXVldWVzLmVudHJpZXMoKSkge1xuXHRcdFx0ZGVidWcoXCJbbnVxcyBkcWNdIEFib3J0aW5nIGRlYm91bmNlIHF1ZXVlICVzPSVzXCIsIGtleSwgcXVldWUucXVldWVkVmFsdWU/LnF1ZXJ5KTtcblx0XHRcdHF1ZXVlLmFib3J0KCk7XG5cdFx0XHRxdWV1ZS5yZXNvbHZlcnMucmVzb2x2ZShuZXcgVVJMU2VhcmNoUGFyYW1zKCkpO1xuXHRcdFx0dGhpcy5xdWV1ZWRRdWVyeVN5bmMuZW1pdChrZXkpO1xuXHRcdH1cblx0XHR0aGlzLnF1ZXVlcy5jbGVhcigpO1xuXHR9XG5cdGdldFF1ZXVlZFF1ZXJ5KGtleSkge1xuXHRcdGNvbnN0IGRlYm91bmNlZFF1ZXVlZCA9IHRoaXMucXVldWVzLmdldChrZXkpPy5xdWV1ZWRWYWx1ZT8ucXVlcnk7XG5cdFx0aWYgKGRlYm91bmNlZFF1ZXVlZCAhPT0gdm9pZCAwKSByZXR1cm4gZGVib3VuY2VkUXVldWVkO1xuXHRcdHJldHVybiB0aGlzLnRocm90dGxlUXVldWUuZ2V0UXVldWVkUXVlcnkoa2V5KTtcblx0fVxufTtcbmNvbnN0IGRlYm91bmNlQ29udHJvbGxlciA9IG5ldyBEZWJvdW5jZUNvbnRyb2xsZXIoZ2xvYmFsVGhyb3R0bGVRdWV1ZSk7XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgY3JlYXRlRW1pdHRlciwgZGVib3VuY2UsIGRlYm91bmNlQ29udHJvbGxlciwgZGVmYXVsdFJhdGVMaW1pdCwgZ2xvYmFsVGhyb3R0bGVRdWV1ZSwgaXNBYnNlbnRGcm9tVXJsLCB0aHJvdHRsZSwgd3JpdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYm91bmNlLUY4VVNhdFdFLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/debounce-F8USatWE.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/nuqs/dist/impl.app-DmCqg7o4.js":
/*!*****************************************************!*\
  !*** ./node_modules/nuqs/dist/impl.app-DmCqg7o4.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NavigationSpy: () => (/* binding */ NavigationSpy),\n/* harmony export */   useNuqsNextAppRouterAdapter: () => (/* binding */ useNuqsNextAppRouterAdapter)\n/* harmony export */ });\n/* harmony import */ var _context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./context-B9lexhKS.js */ \"(ssr)/./node_modules/nuqs/dist/context-B9lexhKS.js\");\n/* harmony import */ var _reset_CvWA16Vh_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reset-CvWA16Vh.js */ \"(ssr)/./node_modules/nuqs/dist/reset-CvWA16Vh.js\");\n/* harmony import */ var _patch_history_D_NXxM_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./patch-history-D_NXxM--.js */ \"(ssr)/./node_modules/nuqs/dist/patch-history-D_NXxM--.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var next_navigation_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation.js */ \"(ssr)/./node_modules/next/dist/api/navigation.js\");\n\n\n\n\n\n\n//#region src/adapters/next/impl.app.ts\nconst NUM_HISTORY_CALLS_PER_UPDATE = 3;\nlet mutex = 0;\nfunction onPopState() {\n\tmutex = 0;\n\t(0,_reset_CvWA16Vh_js__WEBPACK_IMPORTED_MODULE_2__.resetQueues)();\n}\nfunction onHistoryStateUpdate() {\n\tmutex--;\n\tif (mutex <= 0) {\n\t\tmutex = 0;\n\t\tqueueMicrotask(_reset_CvWA16Vh_js__WEBPACK_IMPORTED_MODULE_2__.resetQueues);\n\t}\n}\nfunction patchHistory() {\n\tif (!(0,_patch_history_D_NXxM_js__WEBPACK_IMPORTED_MODULE_3__.shouldPatchHistory)(\"next/app\")) return;\n\tconst originalReplaceState = history.replaceState;\n\tconst originalPushState = history.pushState;\n\thistory.replaceState = function nuqs_replaceState(state, title, url) {\n\t\tonHistoryStateUpdate();\n\t\treturn originalReplaceState.call(history, state, title, url);\n\t};\n\thistory.pushState = function nuqs_pushState(state, title, url) {\n\t\tonHistoryStateUpdate();\n\t\treturn originalPushState.call(history, state, title, url);\n\t};\n\t(0,_patch_history_D_NXxM_js__WEBPACK_IMPORTED_MODULE_3__.markHistoryAsPatched)(\"next/app\");\n}\nfunction NavigationSpy() {\n\t(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n\t\tpatchHistory();\n\t\twindow.addEventListener(\"popstate\", onPopState);\n\t\treturn () => window.removeEventListener(\"popstate\", onPopState);\n\t}, []);\n\treturn null;\n}\nfunction useNuqsNextAppRouterAdapter() {\n\tconst router = (0,next_navigation_js__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n\tconst searchParams = (0,next_navigation_js__WEBPACK_IMPORTED_MODULE_1__.useSearchParams)();\n\tconst [optimisticSearchParams, setOptimisticSearchParams] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useOptimistic)(searchParams);\n\tconst updateUrl = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((search, options) => {\n\t\t(0,react__WEBPACK_IMPORTED_MODULE_0__.startTransition)(() => {\n\t\t\tif (!options.shallow) setOptimisticSearchParams(search);\n\t\t\tconst url = renderURL(search);\n\t\t\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_4__.debug)(\"[nuqs next/app] Updating url: %s\", url);\n\t\t\tconst updateMethod = options.history === \"push\" ? history.pushState : history.replaceState;\n\t\t\tmutex = NUM_HISTORY_CALLS_PER_UPDATE;\n\t\t\tupdateMethod.call(history, null, \"\", url);\n\t\t\tif (options.scroll) window.scrollTo(0, 0);\n\t\t\tif (!options.shallow) router.replace(url, { scroll: false });\n\t\t});\n\t}, []);\n\treturn {\n\t\tsearchParams: optimisticSearchParams,\n\t\tupdateUrl,\n\t\trateLimitFactor: NUM_HISTORY_CALLS_PER_UPDATE,\n\t\tautoResetQueueOnUpdate: false\n\t};\n}\nfunction renderURL(search) {\n\tconst { origin, pathname, hash } = location;\n\treturn origin + pathname + (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_4__.renderQueryString)(search) + hash;\n}\n\n//#endregion\n\n//# sourceMappingURL=impl.app-DmCqg7o4.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2ltcGwuYXBwLURtQ3FnN280LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBaUU7QUFDZjtBQUNxQztBQUNSO0FBQ2Y7O0FBRWhFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLCtEQUFXO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiwyREFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxNQUFNLDRFQUFrQjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsOEVBQW9CO0FBQ3JCO0FBQ0E7QUFDQSxDQUFDLGdEQUFTO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2REFBUztBQUN6QixzQkFBc0IsbUVBQWU7QUFDckMsNkRBQTZELG9EQUFhO0FBQzFFLG1CQUFtQixrREFBVztBQUM5QixFQUFFLHNEQUFlO0FBQ2pCO0FBQ0E7QUFDQSxHQUFHLDJEQUFLO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsZUFBZTtBQUM5RCxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlCQUF5QjtBQUNsQyw0QkFBNEIsdUVBQWlCO0FBQzdDOztBQUVBO0FBQ3NEO0FBQ3REIiwic291cmNlcyI6WyIvaG9tZS9zdXBvcnRlc2F1ZGUvWVVJQ0hJLzAwLWFnZW50bWFrZXIvYWdlbnQtdWkvbm9kZV9tb2R1bGVzL251cXMvZGlzdC9pbXBsLmFwcC1EbUNxZzdvNC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZWJ1ZywgcmVuZGVyUXVlcnlTdHJpbmcgfSBmcm9tIFwiLi9jb250ZXh0LUI5bGV4aEtTLmpzXCI7XG5pbXBvcnQgeyByZXNldFF1ZXVlcyB9IGZyb20gXCIuL3Jlc2V0LUN2V0ExNlZoLmpzXCI7XG5pbXBvcnQgeyBtYXJrSGlzdG9yeUFzUGF0Y2hlZCwgc2hvdWxkUGF0Y2hIaXN0b3J5IH0gZnJvbSBcIi4vcGF0Y2gtaGlzdG9yeS1EX05YeE0tLS5qc1wiO1xuaW1wb3J0IHsgc3RhcnRUcmFuc2l0aW9uLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VPcHRpbWlzdGljIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVNlYXJjaFBhcmFtcyB9IGZyb20gXCJuZXh0L25hdmlnYXRpb24uanNcIjtcblxuLy8jcmVnaW9uIHNyYy9hZGFwdGVycy9uZXh0L2ltcGwuYXBwLnRzXG5jb25zdCBOVU1fSElTVE9SWV9DQUxMU19QRVJfVVBEQVRFID0gMztcbmxldCBtdXRleCA9IDA7XG5mdW5jdGlvbiBvblBvcFN0YXRlKCkge1xuXHRtdXRleCA9IDA7XG5cdHJlc2V0UXVldWVzKCk7XG59XG5mdW5jdGlvbiBvbkhpc3RvcnlTdGF0ZVVwZGF0ZSgpIHtcblx0bXV0ZXgtLTtcblx0aWYgKG11dGV4IDw9IDApIHtcblx0XHRtdXRleCA9IDA7XG5cdFx0cXVldWVNaWNyb3Rhc2socmVzZXRRdWV1ZXMpO1xuXHR9XG59XG5mdW5jdGlvbiBwYXRjaEhpc3RvcnkoKSB7XG5cdGlmICghc2hvdWxkUGF0Y2hIaXN0b3J5KFwibmV4dC9hcHBcIikpIHJldHVybjtcblx0Y29uc3Qgb3JpZ2luYWxSZXBsYWNlU3RhdGUgPSBoaXN0b3J5LnJlcGxhY2VTdGF0ZTtcblx0Y29uc3Qgb3JpZ2luYWxQdXNoU3RhdGUgPSBoaXN0b3J5LnB1c2hTdGF0ZTtcblx0aGlzdG9yeS5yZXBsYWNlU3RhdGUgPSBmdW5jdGlvbiBudXFzX3JlcGxhY2VTdGF0ZShzdGF0ZSwgdGl0bGUsIHVybCkge1xuXHRcdG9uSGlzdG9yeVN0YXRlVXBkYXRlKCk7XG5cdFx0cmV0dXJuIG9yaWdpbmFsUmVwbGFjZVN0YXRlLmNhbGwoaGlzdG9yeSwgc3RhdGUsIHRpdGxlLCB1cmwpO1xuXHR9O1xuXHRoaXN0b3J5LnB1c2hTdGF0ZSA9IGZ1bmN0aW9uIG51cXNfcHVzaFN0YXRlKHN0YXRlLCB0aXRsZSwgdXJsKSB7XG5cdFx0b25IaXN0b3J5U3RhdGVVcGRhdGUoKTtcblx0XHRyZXR1cm4gb3JpZ2luYWxQdXNoU3RhdGUuY2FsbChoaXN0b3J5LCBzdGF0ZSwgdGl0bGUsIHVybCk7XG5cdH07XG5cdG1hcmtIaXN0b3J5QXNQYXRjaGVkKFwibmV4dC9hcHBcIik7XG59XG5mdW5jdGlvbiBOYXZpZ2F0aW9uU3B5KCkge1xuXHR1c2VFZmZlY3QoKCkgPT4ge1xuXHRcdHBhdGNoSGlzdG9yeSgpO1xuXHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgb25Qb3BTdGF0ZSk7XG5cdFx0cmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgb25Qb3BTdGF0ZSk7XG5cdH0sIFtdKTtcblx0cmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiB1c2VOdXFzTmV4dEFwcFJvdXRlckFkYXB0ZXIoKSB7XG5cdGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXHRjb25zdCBzZWFyY2hQYXJhbXMgPSB1c2VTZWFyY2hQYXJhbXMoKTtcblx0Y29uc3QgW29wdGltaXN0aWNTZWFyY2hQYXJhbXMsIHNldE9wdGltaXN0aWNTZWFyY2hQYXJhbXNdID0gdXNlT3B0aW1pc3RpYyhzZWFyY2hQYXJhbXMpO1xuXHRjb25zdCB1cGRhdGVVcmwgPSB1c2VDYWxsYmFjaygoc2VhcmNoLCBvcHRpb25zKSA9PiB7XG5cdFx0c3RhcnRUcmFuc2l0aW9uKCgpID0+IHtcblx0XHRcdGlmICghb3B0aW9ucy5zaGFsbG93KSBzZXRPcHRpbWlzdGljU2VhcmNoUGFyYW1zKHNlYXJjaCk7XG5cdFx0XHRjb25zdCB1cmwgPSByZW5kZXJVUkwoc2VhcmNoKTtcblx0XHRcdGRlYnVnKFwiW251cXMgbmV4dC9hcHBdIFVwZGF0aW5nIHVybDogJXNcIiwgdXJsKTtcblx0XHRcdGNvbnN0IHVwZGF0ZU1ldGhvZCA9IG9wdGlvbnMuaGlzdG9yeSA9PT0gXCJwdXNoXCIgPyBoaXN0b3J5LnB1c2hTdGF0ZSA6IGhpc3RvcnkucmVwbGFjZVN0YXRlO1xuXHRcdFx0bXV0ZXggPSBOVU1fSElTVE9SWV9DQUxMU19QRVJfVVBEQVRFO1xuXHRcdFx0dXBkYXRlTWV0aG9kLmNhbGwoaGlzdG9yeSwgbnVsbCwgXCJcIiwgdXJsKTtcblx0XHRcdGlmIChvcHRpb25zLnNjcm9sbCkgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuXHRcdFx0aWYgKCFvcHRpb25zLnNoYWxsb3cpIHJvdXRlci5yZXBsYWNlKHVybCwgeyBzY3JvbGw6IGZhbHNlIH0pO1xuXHRcdH0pO1xuXHR9LCBbXSk7XG5cdHJldHVybiB7XG5cdFx0c2VhcmNoUGFyYW1zOiBvcHRpbWlzdGljU2VhcmNoUGFyYW1zLFxuXHRcdHVwZGF0ZVVybCxcblx0XHRyYXRlTGltaXRGYWN0b3I6IE5VTV9ISVNUT1JZX0NBTExTX1BFUl9VUERBVEUsXG5cdFx0YXV0b1Jlc2V0UXVldWVPblVwZGF0ZTogZmFsc2Vcblx0fTtcbn1cbmZ1bmN0aW9uIHJlbmRlclVSTChzZWFyY2gpIHtcblx0Y29uc3QgeyBvcmlnaW4sIHBhdGhuYW1lLCBoYXNoIH0gPSBsb2NhdGlvbjtcblx0cmV0dXJuIG9yaWdpbiArIHBhdGhuYW1lICsgcmVuZGVyUXVlcnlTdHJpbmcoc2VhcmNoKSArIGhhc2g7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgTmF2aWdhdGlvblNweSwgdXNlTnVxc05leHRBcHBSb3V0ZXJBZGFwdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbXBsLmFwcC1EbUNxZzdvNC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/impl.app-DmCqg7o4.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/nuqs/dist/index.js":
/*!*****************************************!*\
  !*** ./node_modules/nuqs/dist/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createLoader: () => (/* binding */ createLoader),\n/* harmony export */   createMultiParser: () => (/* binding */ createMultiParser),\n/* harmony export */   createParser: () => (/* binding */ createParser),\n/* harmony export */   createSerializer: () => (/* binding */ createSerializer),\n/* harmony export */   createStandardSchemaV1: () => (/* binding */ createStandardSchemaV1),\n/* harmony export */   debounce: () => (/* reexport safe */ _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.debounce),\n/* harmony export */   defaultRateLimit: () => (/* reexport safe */ _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.defaultRateLimit),\n/* harmony export */   parseAsArrayOf: () => (/* binding */ parseAsArrayOf),\n/* harmony export */   parseAsBoolean: () => (/* binding */ parseAsBoolean),\n/* harmony export */   parseAsFloat: () => (/* binding */ parseAsFloat),\n/* harmony export */   parseAsHex: () => (/* binding */ parseAsHex),\n/* harmony export */   parseAsIndex: () => (/* binding */ parseAsIndex),\n/* harmony export */   parseAsInteger: () => (/* binding */ parseAsInteger),\n/* harmony export */   parseAsIsoDate: () => (/* binding */ parseAsIsoDate),\n/* harmony export */   parseAsIsoDateTime: () => (/* binding */ parseAsIsoDateTime),\n/* harmony export */   parseAsJson: () => (/* binding */ parseAsJson),\n/* harmony export */   parseAsNativeArrayOf: () => (/* binding */ parseAsNativeArrayOf),\n/* harmony export */   parseAsNumberLiteral: () => (/* binding */ parseAsNumberLiteral),\n/* harmony export */   parseAsString: () => (/* binding */ parseAsString),\n/* harmony export */   parseAsStringEnum: () => (/* binding */ parseAsStringEnum),\n/* harmony export */   parseAsStringLiteral: () => (/* binding */ parseAsStringLiteral),\n/* harmony export */   parseAsTimestamp: () => (/* binding */ parseAsTimestamp),\n/* harmony export */   throttle: () => (/* reexport safe */ _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.throttle),\n/* harmony export */   useQueryState: () => (/* binding */ useQueryState),\n/* harmony export */   useQueryStates: () => (/* binding */ useQueryStates)\n/* harmony export */ });\n/* harmony import */ var _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./debounce-F8USatWE.js */ \"(ssr)/./node_modules/nuqs/dist/debounce-F8USatWE.js\");\n/* harmony import */ var _context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./context-B9lexhKS.js */ \"(ssr)/./node_modules/nuqs/dist/context-B9lexhKS.js\");\n/* harmony import */ var _compare_CpGtKTbG_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./compare-CpGtKTbG.js */ \"(ssr)/./node_modules/nuqs/dist/compare-CpGtKTbG.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* __next_internal_client_entry_do_not_use__ createLoader,createMultiParser,createParser,createSerializer,createStandardSchemaV1,debounce,defaultRateLimit,parseAsArrayOf,parseAsBoolean,parseAsFloat,parseAsHex,parseAsIndex,parseAsInteger,parseAsIsoDate,parseAsIsoDateTime,parseAsJson,parseAsNativeArrayOf,parseAsNumberLiteral,parseAsString,parseAsStringEnum,parseAsStringLiteral,parseAsTimestamp,throttle,useQueryState,useQueryStates auto */ \n\n\n\n//#region src/loader.ts\nfunction createLoader(parsers, { urlKeys = {} } = {}) {\n    function loadSearchParams(input, { strict = false } = {}) {\n        if (input instanceof Promise) return input.then((i)=>loadSearchParams(i, {\n                strict\n            }));\n        const searchParams = extractSearchParams(input);\n        const result = {};\n        for (const [key, parser] of Object.entries(parsers)){\n            const urlKey = urlKeys[key] ?? key;\n            const query = parser.type === \"multi\" ? searchParams.getAll(urlKey) : searchParams.get(urlKey);\n            if ((0,_debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.isAbsentFromUrl)(query)) {\n                result[key] = parser.defaultValue ?? null;\n                continue;\n            }\n            let parsedValue;\n            try {\n                parsedValue = parser.parse(query);\n            } catch (error$1) {\n                if (strict) throw new Error(`[nuqs] Error while parsing query \\`${query}\\` for key \\`${key}\\`: ${error$1}`);\n                parsedValue = null;\n            }\n            if (strict && query && parsedValue === null) throw new Error(`[nuqs] Failed to parse query \\`${query}\\` for key \\`${key}\\` (got null)`);\n            result[key] = parsedValue ?? parser.defaultValue ?? null;\n        }\n        return result;\n    }\n    return loadSearchParams;\n}\nfunction extractSearchParams(input) {\n    try {\n        if (input instanceof Request) return input.url ? new URL(input.url).searchParams : new URLSearchParams();\n        if (input instanceof URL) return input.searchParams;\n        if (input instanceof URLSearchParams) return input;\n        if (typeof input === \"object\") {\n            const searchParams = new URLSearchParams();\n            for (const [key, value] of Object.entries(input))if (Array.isArray(value)) for (const v of value)searchParams.append(key, v);\n            else if (value !== void 0) searchParams.set(key, value);\n            return searchParams;\n        }\n        if (typeof input === \"string\") {\n            if (URL.hasOwnProperty(\"canParse\") && URL.canParse(input)) return new URL(input).searchParams;\n            return new URLSearchParams(input);\n        }\n    } catch  {}\n    return new URLSearchParams();\n}\n//#endregion\n//#region src/lib/safe-parse.ts\nfunction safeParse(parser, value, key) {\n    try {\n        return parser(value);\n    } catch (error$1) {\n        (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.warn)(\"[nuqs] Error while parsing value `%s`: %O\" + (key ? \" (for key `%s`)\" : \"\"), value, error$1, key);\n        return null;\n    }\n}\n//#endregion\n//#region src/parsers.ts\n/**\n* Wrap a set of parse/serialize functions into a builder pattern parser\n* you can pass to one of the hooks, making its default value type safe.\n*/ function createParser(parser) {\n    function parseServerSideNullable(value) {\n        if (typeof value === \"undefined\") return null;\n        let str = \"\";\n        if (Array.isArray(value)) {\n            if (value[0] === void 0) return null;\n            str = value[0];\n        }\n        if (typeof value === \"string\") str = value;\n        return safeParse(parser.parse, str);\n    }\n    return {\n        type: \"single\",\n        eq: (a, b)=>a === b,\n        ...parser,\n        parseServerSide: parseServerSideNullable,\n        withDefault (defaultValue) {\n            return {\n                ...this,\n                defaultValue,\n                parseServerSide (value) {\n                    return parseServerSideNullable(value) ?? defaultValue;\n                }\n            };\n        },\n        withOptions (options) {\n            return {\n                ...this,\n                ...options\n            };\n        }\n    };\n}\nfunction createMultiParser(parser) {\n    function parseServerSideNullable(value) {\n        if (typeof value === \"undefined\") return null;\n        return safeParse(parser.parse, Array.isArray(value) ? value : [\n            value\n        ]);\n    }\n    return {\n        type: \"multi\",\n        eq: (a, b)=>a === b,\n        ...parser,\n        parseServerSide: parseServerSideNullable,\n        withDefault (defaultValue) {\n            return {\n                ...this,\n                defaultValue,\n                parseServerSide (value) {\n                    return parseServerSideNullable(value) ?? defaultValue;\n                }\n            };\n        },\n        withOptions (options) {\n            return {\n                ...this,\n                ...options\n            };\n        }\n    };\n}\nconst parseAsString = createParser({\n    parse: (v)=>v,\n    serialize: String\n});\nconst parseAsInteger = createParser({\n    parse: (v)=>{\n        const int = parseInt(v);\n        return int == int ? int : null;\n    },\n    serialize: (v)=>\"\" + Math.round(v)\n});\nconst parseAsIndex = createParser({\n    parse: (v)=>{\n        const int = parseInt(v);\n        return int == int ? int - 1 : null;\n    },\n    serialize: (v)=>\"\" + Math.round(v + 1)\n});\nconst parseAsHex = createParser({\n    parse: (v)=>{\n        const int = parseInt(v, 16);\n        return int == int ? int : null;\n    },\n    serialize: (v)=>{\n        const hex = Math.round(v).toString(16);\n        return (hex.length & 1 ? \"0\" : \"\") + hex;\n    }\n});\nconst parseAsFloat = createParser({\n    parse: (v)=>{\n        const float = parseFloat(v);\n        return float == float ? float : null;\n    },\n    serialize: String\n});\nconst parseAsBoolean = createParser({\n    parse: (v)=>v === \"true\",\n    serialize: String\n});\nfunction compareDates(a, b) {\n    return a.valueOf() === b.valueOf();\n}\n/**\n* Querystring encoded as the number of milliseconds since epoch,\n* and returned as a Date object.\n*/ const parseAsTimestamp = createParser({\n    parse: (v)=>{\n        const ms = parseInt(v);\n        return ms == ms ? new Date(ms) : null;\n    },\n    serialize: (v)=>\"\" + v.valueOf(),\n    eq: compareDates\n});\n/**\n* Querystring encoded as an ISO-8601 string (UTC),\n* and returned as a Date object.\n*/ const parseAsIsoDateTime = createParser({\n    parse: (v)=>{\n        const date = new Date(v);\n        return date.valueOf() == date.valueOf() ? date : null;\n    },\n    serialize: (v)=>v.toISOString(),\n    eq: compareDates\n});\n/**\n* Querystring encoded as an ISO-8601 string (UTC)\n* without the time zone offset, and returned as\n* a Date object.\n*\n* The Date is parsed without the time zone offset,\n* making it at 00:00:00 UTC.\n*/ const parseAsIsoDate = createParser({\n    parse: (v)=>{\n        const date = new Date(v.slice(0, 10));\n        return date.valueOf() == date.valueOf() ? date : null;\n    },\n    serialize: (v)=>v.toISOString().slice(0, 10),\n    eq: compareDates\n});\n/**\n* String-based enums provide better type-safety for known sets of values.\n* You will need to pass the parseAsStringEnum function a list of your enum values\n* in order to validate the query string. Anything else will return `null`,\n* or your default value if specified.\n*\n* Example:\n* ```ts\n* enum Direction {\n*   up = 'UP',\n*   down = 'DOWN',\n*   left = 'LEFT',\n*   right = 'RIGHT'\n* }\n*\n* const [direction, setDirection] = useQueryState(\n*   'direction',\n*    parseAsStringEnum<Direction>(Object.values(Direction)) // pass a list of allowed values\n*      .withDefault(Direction.up)\n* )\n* ```\n*\n* Note: the query string value will be the value of the enum, not its name\n* (example above: `direction=UP`).\n*\n* @param validValues The values you want to accept\n*/ function parseAsStringEnum(validValues) {\n    return parseAsStringLiteral(validValues);\n}\n/**\n* String-based literals provide better type-safety for known sets of values.\n* You will need to pass the parseAsStringLiteral function a list of your string values\n* in order to validate the query string. Anything else will return `null`,\n* or your default value if specified.\n*\n* Example:\n* ```ts\n* const colors = [\"red\", \"green\", \"blue\"] as const\n*\n* const [color, setColor] = useQueryState(\n*   'color',\n*    parseAsStringLiteral(colors) // pass a readonly list of allowed values\n*      .withDefault(\"red\")\n* )\n* ```\n*\n* @param validValues The values you want to accept\n*/ function parseAsStringLiteral(validValues) {\n    return createParser({\n        parse: (query)=>{\n            const asConst = query;\n            return validValues.includes(asConst) ? asConst : null;\n        },\n        serialize: String\n    });\n}\n/**\n* Number-based literals provide better type-safety for known sets of values.\n* You will need to pass the parseAsNumberLiteral function a list of your number values\n* in order to validate the query string. Anything else will return `null`,\n* or your default value if specified.\n*\n* Example:\n* ```ts\n* const diceSides = [1, 2, 3, 4, 5, 6] as const\n*\n* const [side, setSide] = useQueryState(\n*   'side',\n*    parseAsNumberLiteral(diceSides) // pass a readonly list of allowed values\n*      .withDefault(4)\n* )\n* ```\n*\n* @param validValues The values you want to accept\n*/ function parseAsNumberLiteral(validValues) {\n    return createParser({\n        parse: (query)=>{\n            const asConst = parseFloat(query);\n            if (validValues.includes(asConst)) return asConst;\n            return null;\n        },\n        serialize: String\n    });\n}\n/**\n* Encode any object shape into the querystring value as JSON.\n* Note: you may want to use `useQueryStates` for finer control over\n* multiple related query keys.\n*\n* @param runtimeParser Runtime parser (eg: Zod schema or Standard Schema) to validate after JSON.parse\n*/ function parseAsJson(validator) {\n    return createParser({\n        parse: (query)=>{\n            try {\n                const obj = JSON.parse(query);\n                if (\"~standard\" in validator) {\n                    const result = validator[\"~standard\"].validate(obj);\n                    if (result instanceof Promise) throw new Error(\"[nuqs] Only synchronous Standard Schemas are supported in parseAsJson.\");\n                    return result.issues ? null : result.value;\n                }\n                return validator(obj);\n            } catch  {\n                return null;\n            }\n        },\n        serialize: (value)=>JSON.stringify(value),\n        eq (a, b) {\n            return a === b || JSON.stringify(a) === JSON.stringify(b);\n        }\n    });\n}\n/**\n* A comma-separated list of items.\n* Items are URI-encoded for safety, so they may not look nice in the URL.\n*\n* @param itemParser Parser for each individual item in the array\n* @param separator The character to use to separate items (default ',')\n*/ function parseAsArrayOf(itemParser, separator = \",\") {\n    const itemEq = itemParser.eq ?? ((a, b)=>a === b);\n    const encodedSeparator = encodeURIComponent(separator);\n    return createParser({\n        parse: (query)=>{\n            if (query === \"\") return [];\n            return query.split(separator).map((item, index)=>safeParse(itemParser.parse, item.replaceAll(encodedSeparator, separator), `[${index}]`)).filter((value)=>value !== null && value !== void 0);\n        },\n        serialize: (values)=>values.map((value)=>{\n                return (itemParser.serialize ? itemParser.serialize(value) : String(value)).replaceAll(separator, encodedSeparator);\n            }).join(separator),\n        eq (a, b) {\n            if (a === b) return true;\n            if (a.length !== b.length) return false;\n            return a.every((value, index)=>itemEq(value, b[index]));\n        }\n    });\n}\nfunction parseAsNativeArrayOf(itemParser) {\n    const itemEq = itemParser.eq ?? ((a, b)=>a === b);\n    return createMultiParser({\n        parse: (query)=>{\n            const parsed = query.map((item, index)=>safeParse(itemParser.parse, item, `[${index}]`)).filter((value)=>value !== null && value !== void 0);\n            return parsed.length === 0 ? null : parsed;\n        },\n        serialize: (values)=>{\n            return (Array.isArray(values) ? values : [\n                values\n            ]).flatMap((value)=>{\n                const serialized = itemParser.serialize?.(value) ?? String(value);\n                return typeof serialized === \"string\" ? [\n                    serialized\n                ] : [\n                    ...serialized\n                ];\n            });\n        },\n        eq (a, b) {\n            if (a === b) return true;\n            if (a.length !== b.length) return false;\n            return a.every((value, index)=>itemEq(value, b[index]));\n        }\n    }).withDefault([]);\n}\n//#endregion\n//#region src/serializer.ts\nfunction createSerializer(parsers, { clearOnDefault = true, urlKeys = {}, processUrlSearchParams } = {}) {\n    function serialize(arg1BaseOrValues, arg2values = {}) {\n        let [base, search] = isBase(arg1BaseOrValues) ? splitBase(arg1BaseOrValues) : [\n            \"\",\n            new URLSearchParams()\n        ];\n        const values = isBase(arg1BaseOrValues) ? arg2values : arg1BaseOrValues;\n        if (values === null) {\n            for(const key in parsers){\n                const urlKey = urlKeys[key] ?? key;\n                search.delete(urlKey);\n            }\n            if (processUrlSearchParams) search = processUrlSearchParams(search);\n            return base + (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.renderQueryString)(search);\n        }\n        for(const key in parsers){\n            const parser = parsers[key];\n            const value = values[key];\n            if (!parser || value === void 0) continue;\n            const urlKey = urlKeys[key] ?? key;\n            const isMatchingDefault = parser.defaultValue !== void 0 && (parser.eq ?? ((a, b)=>a === b))(value, parser.defaultValue);\n            if (value === null || (parser.clearOnDefault ?? clearOnDefault ?? true) && isMatchingDefault) search.delete(urlKey);\n            else {\n                const serialized = parser.serialize(value);\n                search = (0,_debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.write)(serialized, urlKey, search);\n            }\n        }\n        if (processUrlSearchParams) search = processUrlSearchParams(search);\n        return base + (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.renderQueryString)(search);\n    }\n    return serialize;\n}\nfunction isBase(base) {\n    return typeof base === \"string\" || base instanceof URLSearchParams || base instanceof URL;\n}\nfunction splitBase(base) {\n    if (typeof base === \"string\") {\n        const [path = \"\", ...search] = base.split(\"?\");\n        return [\n            path,\n            new URLSearchParams(search.join(\"?\"))\n        ];\n    } else if (base instanceof URLSearchParams) return [\n        \"\",\n        new URLSearchParams(base)\n    ];\n    else return [\n        base.origin + base.pathname,\n        new URLSearchParams(base.searchParams)\n    ];\n}\n//#endregion\n//#region src/standard-schema.ts\nfunction createStandardSchemaV1(parsers, { urlKeys, partialOutput = false } = {}) {\n    const serialize = createSerializer(parsers, {\n        urlKeys\n    });\n    const load = createLoader(parsers, {\n        urlKeys\n    });\n    return {\n        \"~standard\": {\n            version: 1,\n            vendor: \"nuqs\",\n            validate (input) {\n                try {\n                    const url = serialize(input);\n                    const value = load(url, {\n                        strict: true\n                    });\n                    if (partialOutput) {\n                        for(const key in value)if (!(key in input)) delete value[key];\n                    }\n                    return {\n                        value\n                    };\n                } catch (error$1) {\n                    return {\n                        issues: [\n                            {\n                                message: error$1 instanceof Error ? error$1.message : String(error$1)\n                            }\n                        ]\n                    };\n                }\n            }\n        }\n    };\n}\n//#endregion\n//#region src/lib/sync.ts\nconst emitter = (0,_debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.createEmitter)();\n//#endregion\n//#region src/useQueryStates.ts\nconst defaultUrlKeys = {};\n/**\n* Synchronise multiple query string arguments to React state in Next.js\n*\n* @param keys - An object describing the keys to synchronise and how to\n*               serialise and parse them.\n*               Use `parseAs(String|Integer|Float|...)` for quick shorthands.\n* @param options - Optional history mode, shallow routing and scroll restoration options.\n*/ function useQueryStates(keyMap, options = {}) {\n    const hookId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useId)();\n    const defaultOptions = (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.useAdapterDefaultOptions)();\n    const processUrlSearchParams = (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.useAdapterProcessUrlSearchParams)();\n    const { history = \"replace\", scroll = defaultOptions?.scroll ?? false, shallow = defaultOptions?.shallow ?? true, throttleMs = _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.defaultRateLimit.timeMs, limitUrlUpdates = defaultOptions?.limitUrlUpdates, clearOnDefault = defaultOptions?.clearOnDefault ?? true, startTransition: startTransition$1, urlKeys = defaultUrlKeys } = options;\n    const stateKeys = Object.keys(keyMap).join(\",\");\n    const resolvedUrlKeys = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useQueryStates.useMemo[resolvedUrlKeys]\": ()=>Object.fromEntries(Object.keys(keyMap).map({\n                \"useQueryStates.useMemo[resolvedUrlKeys]\": (key)=>[\n                        key,\n                        urlKeys[key] ?? key\n                    ]\n            }[\"useQueryStates.useMemo[resolvedUrlKeys]\"]))\n    }[\"useQueryStates.useMemo[resolvedUrlKeys]\"], [\n        stateKeys,\n        JSON.stringify(urlKeys)\n    ]);\n    const adapter = (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.useAdapter)(Object.values(resolvedUrlKeys));\n    const initialSearchParams = adapter.searchParams;\n    const queryRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});\n    const defaultValues = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n        \"useQueryStates.useMemo[defaultValues]\": ()=>Object.fromEntries(Object.keys(keyMap).map({\n                \"useQueryStates.useMemo[defaultValues]\": (key)=>[\n                        key,\n                        keyMap[key].defaultValue ?? null\n                    ]\n            }[\"useQueryStates.useMemo[defaultValues]\"]))\n    }[\"useQueryStates.useMemo[defaultValues]\"], [\n        Object.values(keyMap).map({\n            \"useQueryStates.useMemo[defaultValues]\": ({ defaultValue })=>defaultValue\n        }[\"useQueryStates.useMemo[defaultValues]\"]).join(\",\")\n    ]);\n    const queuedQueries = _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.debounceController.useQueuedQueries(Object.values(resolvedUrlKeys));\n    const [internalState, setInternalState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({\n        \"useQueryStates.useState\": ()=>{\n            const source = initialSearchParams ?? new URLSearchParams();\n            return parseMap(keyMap, urlKeys, source, queuedQueries).state;\n        }\n    }[\"useQueryStates.useState\"]);\n    const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(internalState);\n    (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.debug)(\"[nuq+ %s `%s`] render - state: %O, iSP: %s\", hookId, stateKeys, internalState, initialSearchParams);\n    if (Object.keys(queryRef.current).join(\"&\") !== Object.values(resolvedUrlKeys).join(\"&\")) {\n        const { state, hasChanged } = parseMap(keyMap, urlKeys, initialSearchParams, queuedQueries, queryRef.current, stateRef.current);\n        if (hasChanged) {\n            (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.debug)(\"[nuq+ %s `%s`] State changed: %O\", hookId, stateKeys, {\n                state,\n                initialSearchParams,\n                queuedQueries,\n                queryRef: queryRef.current,\n                stateRef: stateRef.current\n            });\n            stateRef.current = state;\n            setInternalState(state);\n        }\n        queryRef.current = Object.fromEntries(Object.entries(resolvedUrlKeys).map(([key, urlKey])=>{\n            const parser = keyMap[key];\n            return [\n                urlKey,\n                parser?.type === \"multi\" ? initialSearchParams?.getAll(urlKey) : initialSearchParams?.get(urlKey) ?? null\n            ];\n        }));\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useQueryStates.useEffect\": ()=>{\n            const { state, hasChanged } = parseMap(keyMap, urlKeys, initialSearchParams, queuedQueries, queryRef.current, stateRef.current);\n            if (hasChanged) {\n                (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.debug)(\"[nuq+ %s `%s`] State changed: %O\", hookId, stateKeys, {\n                    state,\n                    initialSearchParams,\n                    queuedQueries,\n                    queryRef: queryRef.current,\n                    stateRef: stateRef.current\n                });\n                stateRef.current = state;\n                setInternalState(state);\n            }\n        }\n    }[\"useQueryStates.useEffect\"], [\n        Object.values(resolvedUrlKeys).map({\n            \"useQueryStates.useEffect\": (key)=>`${key}=${initialSearchParams?.getAll(key)}`\n        }[\"useQueryStates.useEffect\"]).join(\"&\"),\n        JSON.stringify(queuedQueries)\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useQueryStates.useEffect\": ()=>{\n            const handlers = Object.keys(keyMap).reduce({\n                \"useQueryStates.useEffect.handlers\": (handlers$1, stateKey)=>{\n                    handlers$1[stateKey] = ({\n                        \"useQueryStates.useEffect.handlers\": ({ state, query })=>{\n                            setInternalState({\n                                \"useQueryStates.useEffect.handlers\": (currentState)=>{\n                                    const { defaultValue } = keyMap[stateKey];\n                                    const urlKey = resolvedUrlKeys[stateKey];\n                                    const nextValue = state ?? defaultValue ?? null;\n                                    const currentValue = currentState[stateKey] ?? defaultValue ?? null;\n                                    if (Object.is(currentValue, nextValue)) {\n                                        (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.debug)(\"[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). no change, skipping, resolved: %O\", hookId, stateKeys, urlKey, state, defaultValue, stateRef.current);\n                                        return currentState;\n                                    }\n                                    stateRef.current = {\n                                        ...stateRef.current,\n                                        [stateKey]: nextValue\n                                    };\n                                    queryRef.current[urlKey] = query;\n                                    (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.debug)(\"[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). updateInternalState, resolved: %O\", hookId, stateKeys, urlKey, state, defaultValue, stateRef.current);\n                                    return stateRef.current;\n                                }\n                            }[\"useQueryStates.useEffect.handlers\"]);\n                        }\n                    })[\"useQueryStates.useEffect.handlers\"];\n                    return handlers$1;\n                }\n            }[\"useQueryStates.useEffect.handlers\"], {});\n            for (const stateKey of Object.keys(keyMap)){\n                const urlKey = resolvedUrlKeys[stateKey];\n                (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.debug)(\"[nuq+ %s `%s`] Subscribing to sync for `%s`\", hookId, urlKey, stateKeys);\n                emitter.on(urlKey, handlers[stateKey]);\n            }\n            return ({\n                \"useQueryStates.useEffect\": ()=>{\n                    for (const stateKey of Object.keys(keyMap)){\n                        const urlKey = resolvedUrlKeys[stateKey];\n                        (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.debug)(\"[nuq+ %s `%s`] Unsubscribing to sync for `%s`\", hookId, urlKey, stateKeys);\n                        emitter.off(urlKey, handlers[stateKey]);\n                    }\n                }\n            })[\"useQueryStates.useEffect\"];\n        }\n    }[\"useQueryStates.useEffect\"], [\n        stateKeys,\n        resolvedUrlKeys\n    ]);\n    const update = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQueryStates.useCallback[update]\": (stateUpdater, callOptions = {})=>{\n            const nullMap = Object.fromEntries(Object.keys(keyMap).map({\n                \"useQueryStates.useCallback[update].nullMap\": (key)=>[\n                        key,\n                        null\n                    ]\n            }[\"useQueryStates.useCallback[update].nullMap\"]));\n            const newState = typeof stateUpdater === \"function\" ? stateUpdater(applyDefaultValues(stateRef.current, defaultValues)) ?? nullMap : stateUpdater ?? nullMap;\n            (0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.debug)(\"[nuq+ %s `%s`] setState: %O\", hookId, stateKeys, newState);\n            let returnedPromise = void 0;\n            let maxDebounceTime = 0;\n            let doFlush = false;\n            const debounceAborts = [];\n            for (let [stateKey, value] of Object.entries(newState)){\n                const parser = keyMap[stateKey];\n                const urlKey = resolvedUrlKeys[stateKey];\n                if (!parser) continue;\n                if ((callOptions.clearOnDefault ?? parser.clearOnDefault ?? clearOnDefault) && value !== null && parser.defaultValue !== void 0 && (parser.eq ?? ({\n                    \"useQueryStates.useCallback[update]\": (a, b)=>a === b\n                })[\"useQueryStates.useCallback[update]\"])(value, parser.defaultValue)) value = null;\n                const query = value === null ? null : (parser.serialize ?? String)(value);\n                emitter.emit(urlKey, {\n                    state: value,\n                    query\n                });\n                const update$1 = {\n                    key: urlKey,\n                    query,\n                    options: {\n                        history: callOptions.history ?? parser.history ?? history,\n                        shallow: callOptions.shallow ?? parser.shallow ?? shallow,\n                        scroll: callOptions.scroll ?? parser.scroll ?? scroll,\n                        startTransition: callOptions.startTransition ?? parser.startTransition ?? startTransition$1\n                    }\n                };\n                if (callOptions?.limitUrlUpdates?.method === \"debounce\" || limitUrlUpdates?.method === \"debounce\" || parser.limitUrlUpdates?.method === \"debounce\") {\n                    if (update$1.options.shallow === true) console.warn((0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_2__.error)(422));\n                    const timeMs = callOptions?.limitUrlUpdates?.timeMs ?? limitUrlUpdates?.timeMs ?? parser.limitUrlUpdates?.timeMs ?? _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.defaultRateLimit.timeMs;\n                    const debouncedPromise = _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.debounceController.push(update$1, timeMs, adapter);\n                    if (maxDebounceTime < timeMs) {\n                        returnedPromise = debouncedPromise;\n                        maxDebounceTime = timeMs;\n                    }\n                } else {\n                    const timeMs = callOptions?.limitUrlUpdates?.timeMs ?? parser?.limitUrlUpdates?.timeMs ?? limitUrlUpdates?.timeMs ?? callOptions.throttleMs ?? parser.throttleMs ?? throttleMs;\n                    debounceAborts.push(_debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.debounceController.abort(urlKey));\n                    _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.globalThrottleQueue.push(update$1, timeMs);\n                    doFlush = true;\n                }\n            }\n            const globalPromise = debounceAborts.reduce({\n                \"useQueryStates.useCallback[update].globalPromise\": (previous, fn)=>fn(previous)\n            }[\"useQueryStates.useCallback[update].globalPromise\"], doFlush ? _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.globalThrottleQueue.flush(adapter, processUrlSearchParams) : _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.globalThrottleQueue.getPendingPromise(adapter));\n            return returnedPromise ?? globalPromise;\n        }\n    }[\"useQueryStates.useCallback[update]\"], [\n        stateKeys,\n        history,\n        shallow,\n        scroll,\n        throttleMs,\n        limitUrlUpdates?.method,\n        limitUrlUpdates?.timeMs,\n        startTransition$1,\n        resolvedUrlKeys,\n        adapter.updateUrl,\n        adapter.getSearchParamsSnapshot,\n        adapter.rateLimitFactor,\n        processUrlSearchParams,\n        defaultValues\n    ]);\n    return [\n        (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)({\n            \"useQueryStates.useMemo\": ()=>applyDefaultValues(internalState, defaultValues)\n        }[\"useQueryStates.useMemo\"], [\n            internalState,\n            defaultValues\n        ]),\n        update\n    ];\n}\nfunction parseMap(keyMap, urlKeys, searchParams, queuedQueries, cachedQuery, cachedState) {\n    let hasChanged = false;\n    const state = Object.entries(keyMap).reduce((out, [stateKey, parser])=>{\n        const urlKey = urlKeys?.[stateKey] ?? stateKey;\n        const queuedQuery = queuedQueries[urlKey];\n        const fallbackValue = parser.type === \"multi\" ? [] : null;\n        const query = queuedQuery === void 0 ? (parser.type === \"multi\" ? searchParams?.getAll(urlKey) : searchParams?.get(urlKey)) ?? fallbackValue : queuedQuery;\n        if (cachedQuery && cachedState && (0,_compare_CpGtKTbG_js__WEBPACK_IMPORTED_MODULE_3__.compareQuery)(cachedQuery[urlKey] ?? fallbackValue, query)) {\n            out[stateKey] = cachedState[stateKey] ?? null;\n            return out;\n        }\n        hasChanged = true;\n        out[stateKey] = ((0,_debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.isAbsentFromUrl)(query) ? null : safeParse(parser.parse, query, urlKey)) ?? null;\n        if (cachedQuery) cachedQuery[urlKey] = query;\n        return out;\n    }, {});\n    if (!hasChanged) {\n        const keyMapKeys = Object.keys(keyMap);\n        const cachedStateKeys = Object.keys(cachedState ?? {});\n        hasChanged = keyMapKeys.length !== cachedStateKeys.length || keyMapKeys.some((key)=>!cachedStateKeys.includes(key));\n    }\n    return {\n        state,\n        hasChanged\n    };\n}\nfunction applyDefaultValues(state, defaults) {\n    return Object.fromEntries(Object.keys(state).map((key)=>[\n            key,\n            state[key] ?? defaults[key] ?? null\n        ]));\n}\n//#endregion\n//#region src/useQueryState.ts\n/**\n* React state hook synchronized with a URL query string in Next.js\n*\n* If used without a `defaultValue` supplied in the options, and the query is\n* missing in the URL, the state will be `null`.\n*\n* ### Behaviour with default values:\n*\n* _Note: the URL will **not** be updated with the default value if the query\n* is missing._\n*\n* Setting the value to `null` will clear the query in the URL, and return\n* the default value as state.\n*\n* Example usage:\n* ```ts\n*   // Blog posts filtering by tag\n*   const [tag, selectTag] = useQueryState('tag')\n*   const filteredPosts = posts.filter(post => tag ? post.tag === tag : true)\n*   const clearTag = () => selectTag(null)\n*\n*   // With default values\n*\n*   const [count, setCount] = useQueryState(\n*     'count',\n*     parseAsInteger.defaultValue(0)\n*   )\n*\n*   const increment = () => setCount(oldCount => oldCount + 1)\n*   const decrement = () => setCount(oldCount => oldCount - 1)\n*   const clearCountQuery = () => setCount(null)\n*\n*   // --\n*\n*   const [date, setDate] = useQueryState(\n*     'date',\n*     parseAsIsoDateTime.withDefault(new Date('2021-01-01'))\n*   )\n*\n*   const setToNow = () => setDate(new Date())\n*   const addOneHour = () => {\n*     setDate(oldDate => new Date(oldDate.valueOf() + 3600_000))\n*   }\n* ```\n* @param key The URL query string key to bind to\n* @param options - Parser (defines the state data type), optional default value and history mode.\n*/ function useQueryState(key, options = {}) {\n    const { parse, type, serialize, eq, defaultValue, ...hookOptions } = options;\n    const [{ [key]: state }, setState] = useQueryStates({\n        [key]: {\n            parse: parse ?? ({\n                \"useQueryState.useQueryStates\": (x)=>x\n            })[\"useQueryState.useQueryStates\"],\n            type,\n            serialize,\n            eq,\n            defaultValue\n        }\n    }, hookOptions);\n    const update = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useQueryState.useCallback[update]\": (stateUpdater, callOptions = {})=>setState({\n                \"useQueryState.useCallback[update]\": (old)=>({\n                        [key]: typeof stateUpdater === \"function\" ? stateUpdater(old[key]) : stateUpdater\n                    })\n            }[\"useQueryState.useCallback[update]\"], callOptions)\n    }[\"useQueryState.useCallback[update]\"], [\n        key,\n        setState\n    ]);\n    return [\n        state,\n        update\n    ];\n}\n//#endregion\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF3RUEsU0FBZ0IsYUFDZCxTQUNBLEVBQUUsVUFBVSxFQUFFLEtBQW1DLEVBQUUsRUFDMUI7SUFhekIsU0FBUyxpQkFDUCxPQUNBLEVBQUUsU0FBUyxVQUFpQyxFQUFFLEVBQzlDO1FBQ0EsSUFBSSxpQkFBaUIsUUFDbkIsUUFBTyxNQUFNLE1BQUssSUFBSyxpQkFBaUIsR0FBRztnQkFBRTtZQUFBLENBQVEsQ0FBQyxDQUFDO1FBRXpELE1BQU0sZUFBZSxvQkFBb0IsTUFBTTtRQUMvQyxNQUFNLFNBQVMsRUFBRTtRQUNqQixLQUFLLE1BQU0sQ0FBQyxLQUFLLFdBQVcsT0FBTyxRQUFRLFFBQVEsQ0FBRTtZQUNuRCxNQUFNLFNBQVMsUUFBUSxRQUFRO1lBQy9CLE1BQU0sUUFDSixPQUFPLFNBQVMsVUFDWixhQUFhLE9BQU8sT0FBTyxHQUMzQixhQUFhLElBQUksT0FBTztZQUM5QixJQUFJLHNFQUFlLENBQUMsTUFBTSxFQUFFO2dCQUMxQixPQUFPLE9BQU8sT0FBTyxnQkFBZ0I7Z0JBQ3JDOztZQUVGLElBQUk7WUFDSixJQUFJO2dCQUVGLGNBQWMsT0FBTyxNQUFNLE1BQWdDO3FCQUNwREEsU0FBTztnQkFDZCxJQUFJLE9BQ0YsT0FBTSxJQUFJLE1BQ1Isc0NBQXNDLE1BQU0sZUFBZSxJQUFJLE1BQU1BLFNBQUFBLENBQ3RFO2dCQUVILGNBQWM7O1lBRWhCLElBQUksVUFBVSxTQUFTLGdCQUFnQixLQUNyQyxPQUFNLElBQUksTUFDUixrQ0FBa0MsTUFBTSxlQUFlLElBQUksZUFDNUQ7WUFFSCxPQUFPLE9BQU8sZUFBZSxPQUFPLGdCQUFnQjs7UUFFdEQsT0FBTzs7SUFFVCxPQUFPOztBQUdULFNBQVMsb0JBQW9CLE9BQXFDO0lBQ2hFLElBQUk7UUFDRixJQUFJLGlCQUFpQixRQUNuQixRQUFPLE1BQU0s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OztBQUc5QixTQUFTLG1CQUNQLE9BQ0EsVUFDQTtJQUNBLE9BQU8sT0FBTyxZQUNaLE9BQU8sS0FBSyxNQUFNLENBQUMsS0FBSSxNQUFPO1lBQUM7WUFBSyxNQUFNLFFBQVEsU0FBUyxRQUFRO1NBQUssQ0FBQyxDQUMxRTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0N6UUgsU0FBZ0IsY0FDZCxLQUNBLFVBRUksRUFBRSxFQUNOO0lBQ0EsTUFBTSxFQUFFLE9BQU8sTUFBTSxXQUFXLElBQUksY0FBYyxHQUFHLGdCQUFnQjtJQUNyRSxNQUFNLENBQUMsR0FBRyxNQUFNLFNBQVMsWUFBWSxlQUNuQztRQUFBLENBQ0csTUFBTTtZQUNMLE9BQU87Z0RBQUEsQ0FBVyxJQUFXOztZQUM3QjtZQUNBO1lBQ0E7WUFDQTtTQUNEO0lBQUEsQ0FDRixFQUNELFlBQ0Q7SUFDRCxNQUFNLFNBQVMsa0RBQVc7NkNBQVgsQ0FDWixjQUE4QyxjQUF1QixFQUFFLEdBQ3RFO3FEQUFBLENBQ0UsT0FBUTt3QkFBQSxDQUNMLE1BQ0MsT0FBTyxpQkFBaUIsYUFHcEIsYUFBYSxJQUFJLEtBQUssR0FDdEI7b0JBQUEsRUFDUDtvREFDRCxZQUNEOzRDQUNIO1FBQUM7UUFBSztLQUFTLENBQ2hCO0lBQ0QsT0FBTztRQUFDO1FBQU87S0FBTyIsInNvdXJjZXMiOlsiL2hvbWUvc3Vwb3J0ZXNhdWRlL1lVSUNISS8wMC1hZ2VudG1ha2VyL3NyYy9sb2FkZXIudHMiLCIvaG9tZS9zdXBvcnRlc2F1ZGUvWVVJQ0hJLzAwLWFnZW50bWFrZXIvc3JjL2xpYi9zYWZlLXBhcnNlLnRzIiwiL2hvbWUvc3Vwb3J0ZXNhdWRlL1lVSUNISS8wMC1hZ2VudG1ha2VyL3NyYy9wYXJzZXJzLnRzIiwiL2hvbWUvc3Vwb3J0ZXNhdWRlL1lVSUNISS8wMC1hZ2VudG1ha2VyL3NyYy9zZXJpYWxpemVyLnRzIiwiL2hvbWUvc3Vwb3J0ZXNhdWRlL1lVSUNISS8wMC1hZ2VudG1ha2VyL3NyYy9zdGFuZGFyZC1zY2hlbWEudHMiLCIvaG9tZS9zdXBvcnRlc2F1ZGUvWVVJQ0hJLzAwLWFnZW50bWFrZXIvc3JjL2xpYi9zeW5jLnRzIiwiL2hvbWUvc3Vwb3J0ZXNhdWRlL1lVSUNISS8wMC1hZ2VudG1ha2VyL3NyYy91c2VRdWVyeVN0YXRlcy50cyIsIi9ob21lL3N1cG9ydGVzYXVkZS9ZVUlDSEkvMDAtYWdlbnRtYWtlci9zcmMvdXNlUXVlcnlTdGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFVybEtleXMgfSBmcm9tICcuL2RlZnMnXG5pbXBvcnQgeyBpc0Fic2VudEZyb21VcmwgfSBmcm9tICcuL2xpYi9zZWFyY2gtcGFyYW1zJ1xuaW1wb3J0IHR5cGUgeyBpbmZlclBhcnNlclR5cGUsIFBhcnNlck1hcCB9IGZyb20gJy4vcGFyc2VycydcblxuZXhwb3J0IHR5cGUgTG9hZGVySW5wdXQgPVxuICB8IFVSTFxuICB8IFJlcXVlc3RcbiAgfCBVUkxTZWFyY2hQYXJhbXNcbiAgfCBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZD5cbiAgfCBzdHJpbmdcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBVc2UgYENyZWF0ZUxvYWRlck9wdGlvbnNgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCB0eXBlIExvYWRlck9wdGlvbnM8UGFyc2VycyBleHRlbmRzIFBhcnNlck1hcD4gPSB7XG4gIHVybEtleXM/OiBVcmxLZXlzPFBhcnNlcnM+XG59XG5leHBvcnQgdHlwZSBDcmVhdGVMb2FkZXJPcHRpb25zPFAgZXh0ZW5kcyBQYXJzZXJNYXA+ID0gTG9hZGVyT3B0aW9uczxQPlxuZXhwb3J0IHR5cGUgTG9hZGVyRnVuY3Rpb25PcHRpb25zID0ge1xuICAvKipcbiAgICogV2hldGhlciB0byB1c2Ugc3RyaWN0IHBhcnNpbmcuIElmIHRydWUsIHRoZSBsb2FkZXIgd2lsbCB0aHJvdyBhbiBlcnJvciBpZlxuICAgKiBhbnkgb2YgdGhlIHBhcnNlcnMgZmFpbCB0byBwYXJzZSB0aGVpciByZXNwZWN0aXZlIHZhbHVlcy4gSWYgZmFsc2UsIHRoZVxuICAgKiBsb2FkZXIgd2lsbCByZXR1cm4gbnVsbCBvciB0aGVpciBkZWZhdWx0IHZhbHVlIGZvciBhbnkgZmFpbGVkIHBhcnNlcnMuXG4gICAqL1xuICBzdHJpY3Q/OiBib29sZWFuXG59XG5cbmV4cG9ydCB0eXBlIExvYWRlckZ1bmN0aW9uPFBhcnNlcnMgZXh0ZW5kcyBQYXJzZXJNYXA+ID0ge1xuICAvKipcbiAgICogTG9hZCAmIHBhcnNlIHNlYXJjaCBwYXJhbXMgZnJvbSAoYWxtb3N0KSBhbnkgaW5wdXQuXG4gICAqXG4gICAqIFdoaWxlIGxvYWRlcnMgYXJlIHR5cGljYWxseSB1c2VkIGluIHRoZSBjb250ZXh0IG9mIGEgUmVhY3QgUm91dGVyIC8gUmVtaXhcbiAgICogbG9hZGVyIGZ1bmN0aW9uLCBpdCBjYW4gYWxzbyBiZSB1c2VkIGluIE5leHQuanMgQVBJIHJvdXRlcyBvclxuICAgKiBnZXRTZXJ2ZXJTaWRlUHJvcHMgZnVuY3Rpb25zLCBvciBldmVuIHdpdGggdGhlIGFwcCByb3V0ZXIgYHNlYXJjaFBhcmFtc2BcbiAgICogcGFnZSBwcm9wIChzeW5jIG9yIGFzeW5jKSwgaWYgeW91IGRvbid0IG5lZWQgdGhlIGNhY2hlIGJlaGF2aW91cnMuXG4gICAqL1xuICAoXG4gICAgaW5wdXQ6IExvYWRlcklucHV0LFxuICAgIG9wdGlvbnM/OiBMb2FkZXJGdW5jdGlvbk9wdGlvbnNcbiAgKTogaW5mZXJQYXJzZXJUeXBlPFBhcnNlcnM+XG4gIC8qKlxuICAgKiBMb2FkICYgcGFyc2Ugc2VhcmNoIHBhcmFtcyBmcm9tIChhbG1vc3QpIGFueSBpbnB1dC5cbiAgICpcbiAgICogV2hpbGUgbG9hZGVycyBhcmUgdHlwaWNhbGx5IHVzZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBSZWFjdCBSb3V0ZXIgLyBSZW1peFxuICAgKiBsb2FkZXIgZnVuY3Rpb24sIGl0IGNhbiBhbHNvIGJlIHVzZWQgaW4gTmV4dC5qcyBBUEkgcm91dGVzIG9yXG4gICAqIGdldFNlcnZlclNpZGVQcm9wcyBmdW5jdGlvbnMsIG9yIGV2ZW4gd2l0aCB0aGUgYXBwIHJvdXRlciBgc2VhcmNoUGFyYW1zYFxuICAgKiBwYWdlIHByb3AgKHN5bmMgb3IgYXN5bmMpLCBpZiB5b3UgZG9uJ3QgbmVlZCB0aGUgY2FjaGUgYmVoYXZpb3Vycy5cbiAgICpcbiAgICogTm90ZTogdGhpcyBhc3luYyBvdmVybG9hZCBtYWtlcyBpdCBlYXNpZXIgdG8gdXNlIGFnYWluc3QgdGhlIGBzZWFyY2hQYXJhbXNgXG4gICAqIHBhZ2UgcHJvcCBpbiBOZXh0LmpzIDE1IGFwcCByb3V0ZXI6XG4gICAqXG4gICAqIGBgYHRzeFxuICAgKiBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBQYWdlKHsgc2VhcmNoUGFyYW1zIH0pIHtcbiAgICogICBjb25zdCBwYXJzZWRTZWFyY2hQYXJhbXNQcm9taXNlID0gbG9hZFNlYXJjaFBhcmFtcyhzZWFyY2hQYXJhbXMpXG4gICAqICAgcmV0dXJuIChcbiAgICogICAgIC8vIFByZS1yZW5kZXIgJiBzdHJlYW0gdGhlIHNoZWxsIGltbWVkaWF0ZWx5XG4gICAqICAgICA8U3RhdGljU2hlbGw+XG4gICAqICAgICAgIDxTdXNwZW5zZT5cbiAgICogICAgICAgICAvLyBTdHJlYW0gdGhlIFByb21pc2UgZG93blxuICAgKiAgICAgICAgIDxEeW5hbWljQ29tcG9uZW50IHNlYXJjaFBhcmFtcz17cGFyc2VkU2VhcmNoUGFyYW1zUHJvbWlzZX0gLz5cbiAgICogICAgICAgPC9TdXNwZW5zZT5cbiAgICogICAgICA8L1N0YXRpY1NoZWxsPlxuICAgKiAgIClcbiAgICogfVxuICAgKiBgYGBcbiAgICovXG4gIChcbiAgICBpbnB1dDogUHJvbWlzZTxMb2FkZXJJbnB1dD4sXG4gICAgb3B0aW9ucz86IExvYWRlckZ1bmN0aW9uT3B0aW9uc1xuICApOiBQcm9taXNlPGluZmVyUGFyc2VyVHlwZTxQYXJzZXJzPj5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUxvYWRlcjxQYXJzZXJzIGV4dGVuZHMgUGFyc2VyTWFwPihcbiAgcGFyc2VyczogUGFyc2VycyxcbiAgeyB1cmxLZXlzID0ge30gfTogQ3JlYXRlTG9hZGVyT3B0aW9uczxQYXJzZXJzPiA9IHt9XG4pOiBMb2FkZXJGdW5jdGlvbjxQYXJzZXJzPiB7XG4gIHR5cGUgUGFyc2VkU2VhcmNoUGFyYW1zID0gaW5mZXJQYXJzZXJUeXBlPFBhcnNlcnM+XG5cbiAgZnVuY3Rpb24gbG9hZFNlYXJjaFBhcmFtcyhcbiAgICBpbnB1dDogTG9hZGVySW5wdXQsXG4gICAgb3B0aW9ucz86IExvYWRlckZ1bmN0aW9uT3B0aW9uc1xuICApOiBQYXJzZWRTZWFyY2hQYXJhbXNcblxuICBmdW5jdGlvbiBsb2FkU2VhcmNoUGFyYW1zKFxuICAgIGlucHV0OiBQcm9taXNlPExvYWRlcklucHV0PixcbiAgICBvcHRpb25zPzogTG9hZGVyRnVuY3Rpb25PcHRpb25zXG4gICk6IFByb21pc2U8UGFyc2VkU2VhcmNoUGFyYW1zPlxuXG4gIGZ1bmN0aW9uIGxvYWRTZWFyY2hQYXJhbXMoXG4gICAgaW5wdXQ6IExvYWRlcklucHV0IHwgUHJvbWlzZTxMb2FkZXJJbnB1dD4sXG4gICAgeyBzdHJpY3QgPSBmYWxzZSB9OiBMb2FkZXJGdW5jdGlvbk9wdGlvbnMgPSB7fVxuICApIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gaW5wdXQudGhlbihpID0+IGxvYWRTZWFyY2hQYXJhbXMoaSwgeyBzdHJpY3QgfSkpXG4gICAgfVxuICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IGV4dHJhY3RTZWFyY2hQYXJhbXMoaW5wdXQpXG4gICAgY29uc3QgcmVzdWx0ID0ge30gYXMgYW55XG4gICAgZm9yIChjb25zdCBba2V5LCBwYXJzZXJdIG9mIE9iamVjdC5lbnRyaWVzKHBhcnNlcnMpKSB7XG4gICAgICBjb25zdCB1cmxLZXkgPSB1cmxLZXlzW2tleV0gPz8ga2V5XG4gICAgICBjb25zdCBxdWVyeSA9XG4gICAgICAgIHBhcnNlci50eXBlID09PSAnbXVsdGknXG4gICAgICAgICAgPyBzZWFyY2hQYXJhbXMuZ2V0QWxsKHVybEtleSlcbiAgICAgICAgICA6IHNlYXJjaFBhcmFtcy5nZXQodXJsS2V5KVxuICAgICAgaWYgKGlzQWJzZW50RnJvbVVybChxdWVyeSkpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBwYXJzZXIuZGVmYXVsdFZhbHVlID8/IG51bGxcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGxldCBwYXJzZWRWYWx1ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gd2UgaGF2ZSBwcm9wZXJseSBuYXJyb3dlZCBgcXVlcnlgIGhlcmUsIGJ1dCBUUyBkb2Vzbid0IGtlZXAgdHJhY2sgb2YgdGhhdFxuICAgICAgICBwYXJzZWRWYWx1ZSA9IHBhcnNlci5wYXJzZShxdWVyeSBhcyBzdHJpbmcgJiBBcnJheTxzdHJpbmc+KVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHN0cmljdCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBbbnVxc10gRXJyb3Igd2hpbGUgcGFyc2luZyBxdWVyeSBcXGAke3F1ZXJ5fVxcYCBmb3Iga2V5IFxcYCR7a2V5fVxcYDogJHtlcnJvcn1gXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIHBhcnNlZFZhbHVlID0gbnVsbFxuICAgICAgfVxuICAgICAgaWYgKHN0cmljdCAmJiBxdWVyeSAmJiBwYXJzZWRWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFtudXFzXSBGYWlsZWQgdG8gcGFyc2UgcXVlcnkgXFxgJHtxdWVyeX1cXGAgZm9yIGtleSBcXGAke2tleX1cXGAgKGdvdCBudWxsKWBcbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgcmVzdWx0W2tleV0gPSBwYXJzZWRWYWx1ZSA/PyBwYXJzZXIuZGVmYXVsdFZhbHVlID8/IG51bGxcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG4gIHJldHVybiBsb2FkU2VhcmNoUGFyYW1zXG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RTZWFyY2hQYXJhbXMoaW5wdXQ6IExvYWRlcklucHV0KTogVVJMU2VhcmNoUGFyYW1zIHtcbiAgdHJ5IHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICByZXR1cm4gaW5wdXQudXJsID8gbmV3IFVSTChpbnB1dC51cmwpLnNlYXJjaFBhcmFtcyA6IG5ldyBVUkxTZWFyY2hQYXJhbXMoKVxuICAgIH1cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICAgIHJldHVybiBpbnB1dC5zZWFyY2hQYXJhbXNcbiAgICB9XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zKSB7XG4gICAgICByZXR1cm4gaW5wdXRcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKVxuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaW5wdXQpKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgdiBvZiB2YWx1ZSkge1xuICAgICAgICAgICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHYpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBzZWFyY2hQYXJhbXMuc2V0KGtleSwgdmFsdWUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWFyY2hQYXJhbXNcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChVUkwuaGFzT3duUHJvcGVydHkoJ2NhblBhcnNlJykgJiYgVVJMLmNhblBhcnNlKGlucHV0KSkge1xuICAgICAgICByZXR1cm4gbmV3IFVSTChpbnB1dCkuc2VhcmNoUGFyYW1zXG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhpbnB1dClcbiAgICB9XG4gIH0gY2F0Y2gge31cbiAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoKVxufVxuIiwiaW1wb3J0IHsgd2FybiB9IGZyb20gJy4vZGVidWcnXG5cbmV4cG9ydCBmdW5jdGlvbiBzYWZlUGFyc2U8SSwgUj4oXG4gIHBhcnNlcjogKGFyZzogSSkgPT4gUixcbiAgdmFsdWU6IEksXG4gIGtleT86IHN0cmluZ1xuKTogUiB8IG51bGwge1xuICB0cnkge1xuICAgIHJldHVybiBwYXJzZXIodmFsdWUpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgd2FybihcbiAgICAgICdbbnVxc10gRXJyb3Igd2hpbGUgcGFyc2luZyB2YWx1ZSBgJXNgOiAlTycgK1xuICAgICAgICAoa2V5ID8gJyAoZm9yIGtleSBgJXNgKScgOiAnJyksXG4gICAgICB2YWx1ZSxcbiAgICAgIGVycm9yLFxuICAgICAga2V5XG4gICAgKVxuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbiIsImltcG9ydCB0eXBlIHsgU3RhbmRhcmRTY2hlbWFWMSB9IGZyb20gJ0BzdGFuZGFyZC1zY2hlbWEvc3BlYydcbmltcG9ydCB0eXBlIHsgT3B0aW9ucyB9IGZyb20gJy4vZGVmcydcbmltcG9ydCB7IHNhZmVQYXJzZSB9IGZyb20gJy4vbGliL3NhZmUtcGFyc2UnXG5cbnR5cGUgUmVxdWlyZTxULCBLZXlzIGV4dGVuZHMga2V5b2YgVD4gPSBQaWNrPFJlcXVpcmVkPFQ+LCBLZXlzPiAmIE9taXQ8VCwgS2V5cz5cblxuZXhwb3J0IHR5cGUgU2luZ2xlUGFyc2VyPFQ+ID0ge1xuICB0eXBlPzogJ3NpbmdsZSdcbiAgLyoqXG4gICAqIENvbnZlcnQgYSBxdWVyeSBzdHJpbmcgdmFsdWUgaW50byBhIHN0YXRlIHZhbHVlLlxuICAgKlxuICAgKiBJZiB0aGUgc3RyaW5nIHZhbHVlIGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbGlkIHN0YXRlIHZhbHVlLFxuICAgKiB0aGUgcGFyc2VyIHNob3VsZCByZXR1cm4gYG51bGxgLiBUaHJvd2luZyBhbiBlcnJvciBpcyBhbHNvIHN1cHBvcnRlZC5cbiAgICovXG4gIHBhcnNlOiAodmFsdWU6IHN0cmluZykgPT4gVCB8IG51bGxcblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBzdGF0ZSB2YWx1ZSBpbnRvIGEgcXVlcnkgc3RyaW5nIHZhbHVlLlxuICAgKi9cbiAgc2VyaWFsaXplPzogKHZhbHVlOiBUKSA9PiBzdHJpbmdcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdHdvIHN0YXRlIHZhbHVlcyBhcmUgZXF1YWwuXG4gICAqXG4gICAqIFRoaXMgaXMgdXNlZCB3aGVuIHVzaW5nIHRoZSBgY2xlYXJPbkRlZmF1bHRgIHZhbHVlLCB0byBjb21wYXJlIHRoZSBkZWZhdWx0XG4gICAqIHZhbHVlIHdpdGggdGhlIHNldCB2YWx1ZS5cbiAgICpcbiAgICogSXQgbWFrZXMgc2Vuc2UgdG8gcHJvdmlkZSB0aGlzIGZ1bmN0aW9uIHdoZW4gdGhlIHN0YXRlIHZhbHVlIGlzIGFuIG9iamVjdFxuICAgKiBvciBhbiBhcnJheSwgYXMgdGhlIGRlZmF1bHQgcmVmZXJlbnRpYWwgZXF1YWxpdHkgY2hlY2sgd2lsbCBub3Qgd29yay5cbiAgICovXG4gIGVxPzogKGE6IFQsIGI6IFQpID0+IGJvb2xlYW5cbn1cblxuZXhwb3J0IHR5cGUgTXVsdGlQYXJzZXI8VD4gPSB7XG4gIHR5cGU6ICdtdWx0aSdcbiAgcGFyc2U6ICh2YWx1ZTogUmVhZG9ubHlBcnJheTxzdHJpbmc+KSA9PiBUIHwgbnVsbFxuICBzZXJpYWxpemU/OiAodmFsdWU6IFQpID0+IEFycmF5PHN0cmluZz5cbiAgZXE/OiAoYTogVCwgYjogVCkgPT4gYm9vbGVhblxufVxuXG5leHBvcnQgdHlwZSBHZW5lcmljUGFyc2VyPFQ+ID0gU2luZ2xlUGFyc2VyPFQ+IHwgTXVsdGlQYXJzZXI8VD5cbmV4cG9ydCB0eXBlIEdlbmVyaWNQYXJzZXJCdWlsZGVyPFQ+ID1cbiAgfCBTaW5nbGVQYXJzZXJCdWlsZGVyPFQ+XG4gIHwgTXVsdGlQYXJzZXJCdWlsZGVyPFQ+XG5cbi8qIHR5cGUgYWxpYXNlcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgKi9cbi8qKiBAZGVwcmVjYXRlZCB1c2UgU2luZ2xlUGFyc2VyIGluc3RlYWQgKi9cbmV4cG9ydCB0eXBlIFBhcnNlcjxUPiA9IFNpbmdsZVBhcnNlcjxUPlxuLyoqIEBkZXByZWNhdGVkIHVzZSBTaW5nbGVQYXJzZXJCdWlsZGVyIGluc3RlYWQgKi9cbmV4cG9ydCB0eXBlIFBhcnNlckJ1aWxkZXI8VD4gPSBTaW5nbGVQYXJzZXJCdWlsZGVyPFQ+XG5cbmV4cG9ydCB0eXBlIFNpbmdsZVBhcnNlckJ1aWxkZXI8VD4gPSBSZXF1aXJlZDxTaW5nbGVQYXJzZXI8VD4+ICZcbiAgT3B0aW9ucyAmIHtcbiAgICAvKipcbiAgICAgKiBTZXQgaGlzdG9yeSB0eXBlLCBzaGFsbG93IHJvdXRpbmcgYW5kIHNjcm9sbCByZXN0b3JhdGlvbiBvcHRpb25zXG4gICAgICogYXQgdGhlIGhvb2sgZGVjbGFyYXRpb24gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgeW91IGNhbiBvdmVycmlkZSB0aG9zZSBvcHRpb25zIGluIGluZGl2aWR1YWwgY2FsbHMgdG8gdGhlXG4gICAgICogc3RhdGUgdXBkYXRlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICB3aXRoT3B0aW9uczxUaGlzPih0aGlzOiBUaGlzLCBvcHRpb25zOiBPcHRpb25zKTogVGhpc1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmeWluZyBhIGRlZmF1bHQgdmFsdWUgbWFrZXMgdGhlIGhvb2sgc3RhdGUgbm9uLW51bGxhYmxlIHdoZW4gdGhlXG4gICAgICogcXVlcnkgaXMgbWlzc2luZyBmcm9tIHRoZSBVUkw6IHRoZSBkZWZhdWx0IHZhbHVlIGlzIHJldHVybmVkIGluc3RlYWRcbiAgICAgKiBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBzdGF0ZSB0byB0aGUgZGVmYXVsdCB2YWx1ZcK5IHdpbGwgY2xlYXIgdGhlIHF1ZXJ5IHN0cmluZyBrZXlcbiAgICAgKiBmcm9tIHRoZSBVUkwsIHVubGVzcyBgY2xlYXJPbkRlZmF1bHRgIGlzIHNldCB0byBgZmFsc2VgLlxuICAgICAqXG4gICAgICogU2V0dGluZyB0aGUgc3RhdGUgdG8gYG51bGxgIHdpbGwgYWx3YXlzIGNsZWFyIHRoZSBxdWVyeSBzdHJpbmcga2V5XG4gICAgICogZnJvbSB0aGUgVVJMLCBhbmQgcmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlLlxuICAgICAqXG4gICAgICogwrk6IEVxdWFsaXR5IGlzIGNoZWNrZWQgd2l0aCB0aGUgcGFyc2VyJ3MgYGVxYCBmdW5jdGlvbiwgb3IgcmVmZXJlbnRpYWxcbiAgICAgKiBlcXVhbGl0eSBpZiBub3QgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlXG4gICAgICovXG4gICAgd2l0aERlZmF1bHQoXG4gICAgICB0aGlzOiBTaW5nbGVQYXJzZXJCdWlsZGVyPFQ+LFxuICAgICAgZGVmYXVsdFZhbHVlOiBOb25OdWxsYWJsZTxUPlxuICAgICk6IE9taXQ8U2luZ2xlUGFyc2VyQnVpbGRlcjxUPiwgJ3BhcnNlU2VydmVyU2lkZSc+ICYge1xuICAgICAgcmVhZG9ubHkgZGVmYXVsdFZhbHVlOiBOb25OdWxsYWJsZTxUPlxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZSB0aGUgcGFyc2VyIGluIFNlcnZlciBDb21wb25lbnRzXG4gICAgICAgKlxuICAgICAgICogYHBhcnNlYCBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIG9ubHkgYnkgdGhlIGhvb2ssIGJ1dCB5b3UgY2FuIHVzZSB0aGlzXG4gICAgICAgKiBtZXRob2QgdG8gaHlkcmF0ZSBxdWVyeSB2YWx1ZXMgb24gc2VydmVyLXNpZGUgcmVuZGVyZWQgcGFnZXMuXG4gICAgICAgKiBTZWUgdGhlIGBzZXJ2ZXItc2lkZS1wYXJzaW5nYCBkZW1vIGZvciBhbiBleGFtcGxlLlxuICAgICAgICpcbiAgICAgICAqIE5vdGUgdGhhdCB3aGVuIG11bHRpcGxlIHF1ZXJpZXMgYXJlIHByZXNlbnRlZCB0byB0aGUgcGFyc2VyXG4gICAgICAgKiAoZWc6IGAvP2E9MSZhPTJgKSwgb25seSB0aGUgKipmaXJzdCoqIHdpbGwgYmUgcGFyc2VkLCB0byBtaW1pYyB0aGVcbiAgICAgICAqIGJlaGF2aW91ciBvZiBVUkxTZWFyY2hQYXJhbXM6XG4gICAgICAgKiBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI2RvbS11cmxzZWFyY2hwYXJhbXMtZ2V0XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHZhbHVlIGFzIGNvbWluZyBmcm9tIHBhZ2UgcHJvcHNcbiAgICAgICAqXG4gICAgICAgKiBAZGVwcmVjYXRlZCBwcmVmZXIgdXNpbmcgbG9hZGVycyBpbnN0ZWFkLCBhcyB0aGV5IGVuZm9yY2UgYSBzdHJvbmdcbiAgICAgICAqIGJvbmQgYmV0d2VlbiB0aGUgZGF0YSB0eXBlIGFuZCB0aGUgc2VhcmNoIHBhcmFtIGtleS5cbiAgICAgICAqL1xuICAgICAgcGFyc2VTZXJ2ZXJTaWRlKHZhbHVlOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCk6IE5vbk51bGxhYmxlPFQ+XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoZSBwYXJzZXIgaW4gU2VydmVyIENvbXBvbmVudHNcbiAgICAgKlxuICAgICAqIGBwYXJzZWAgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBvbmx5IGJ5IHRoZSBob29rLCBidXQgeW91IGNhbiB1c2UgdGhpc1xuICAgICAqIG1ldGhvZCB0byBoeWRyYXRlIHF1ZXJ5IHZhbHVlcyBvbiBzZXJ2ZXItc2lkZSByZW5kZXJlZCBwYWdlcy5cbiAgICAgKiBTZWUgdGhlIGBzZXJ2ZXItc2lkZS1wYXJzaW5nYCBkZW1vIGZvciBhbiBleGFtcGxlLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHdoZW4gbXVsdGlwbGUgcXVlcmllcyBhcmUgcHJlc2VudGVkIHRvIHRoZSBwYXJzZXJcbiAgICAgKiAoZWc6IGAvP2E9MSZhPTJgKSwgb25seSB0aGUgKipmaXJzdCoqIHdpbGwgYmUgcGFyc2VkLCB0byBtaW1pYyB0aGVcbiAgICAgKiBiZWhhdmlvdXIgb2YgVVJMU2VhcmNoUGFyYW1zOlxuICAgICAqIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jZG9tLXVybHNlYXJjaHBhcmFtcy1nZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSBhcyBjb21pbmcgZnJvbSBwYWdlIHByb3BzXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBwcmVmZXIgdXNpbmcgbG9hZGVycyBpbnN0ZWFkLCBhcyB0aGV5IGVuZm9yY2UgYSBzdHJvbmdcbiAgICAgKiBib25kIGJldHdlZW4gdGhlIGRhdGEgdHlwZSBhbmQgdGhlIHNlYXJjaCBwYXJhbSBrZXkuXG4gICAgICovXG4gICAgcGFyc2VTZXJ2ZXJTaWRlKHZhbHVlOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCk6IFQgfCBudWxsXG4gIH1cblxuZXhwb3J0IHR5cGUgTXVsdGlQYXJzZXJCdWlsZGVyPFQ+ID0gUmVxdWlyZWQ8TXVsdGlQYXJzZXI8VD4+ICZcbiAgT3B0aW9ucyAmIHtcbiAgICB3aXRoT3B0aW9uczxUaGlzPih0aGlzOiBUaGlzLCBvcHRpb25zOiBPcHRpb25zKTogVGhpc1xuICAgIHdpdGhEZWZhdWx0KFxuICAgICAgdGhpczogTXVsdGlQYXJzZXJCdWlsZGVyPFQ+LFxuICAgICAgZGVmYXVsdFZhbHVlOiBOb25OdWxsYWJsZTxUPlxuICAgICk6IE9taXQ8TXVsdGlQYXJzZXJCdWlsZGVyPFQ+LCAncGFyc2VTZXJ2ZXJTaWRlJz4gJiB7XG4gICAgICByZWFkb25seSBkZWZhdWx0VmFsdWU6IE5vbk51bGxhYmxlPFQ+XG4gICAgICAvKipcbiAgICAgICAqIEBkZXByZWNhdGVkIGV4cG9zZWQgZm9yIHN5bW1ldHJ5IHdpdGggU2luZ2xlUGFyc2VyQnVpbGRlciBvbmx5LFxuICAgICAgICogcHJlZmVyIHVzaW5nIGxvYWRlcnMgaW5zdGVhZC5cbiAgICAgICAqL1xuICAgICAgcGFyc2VTZXJ2ZXJTaWRlKHZhbHVlOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCk6IE5vbk51bGxhYmxlPFQ+XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIGV4cG9zZWQgZm9yIHN5bW1ldHJ5IHdpdGggU2luZ2xlUGFyc2VyQnVpbGRlciBvbmx5LFxuICAgICAqIHByZWZlciB1c2luZyBsb2FkZXJzIGluc3RlYWQuXG4gICAgICovXG4gICAgcGFyc2VTZXJ2ZXJTaWRlKHZhbHVlOiBzdHJpbmcgfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCk6IFQgfCBudWxsXG4gIH1cblxuLyoqXG4gKiBXcmFwIGEgc2V0IG9mIHBhcnNlL3NlcmlhbGl6ZSBmdW5jdGlvbnMgaW50byBhIGJ1aWxkZXIgcGF0dGVybiBwYXJzZXJcbiAqIHlvdSBjYW4gcGFzcyB0byBvbmUgb2YgdGhlIGhvb2tzLCBtYWtpbmcgaXRzIGRlZmF1bHQgdmFsdWUgdHlwZSBzYWZlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFyc2VyPFQ+KFxuICBwYXJzZXI6IFJlcXVpcmU8U2luZ2xlUGFyc2VyPFQ+LCAncGFyc2UnIHwgJ3NlcmlhbGl6ZSc+XG4pOiBTaW5nbGVQYXJzZXJCdWlsZGVyPFQ+IHtcbiAgZnVuY3Rpb24gcGFyc2VTZXJ2ZXJTaWRlTnVsbGFibGUodmFsdWU6IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIGxldCBzdHIgPSAnJ1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgLy8gRm9sbG93IHRoZSBzcGVjOlxuICAgICAgLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyNkb20tdXJsc2VhcmNocGFyYW1zLWdldFxuICAgICAgaWYgKHZhbHVlWzBdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgIH1cbiAgICAgIHN0ciA9IHZhbHVlWzBdXG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzdHIgPSB2YWx1ZVxuICAgIH1cbiAgICByZXR1cm4gc2FmZVBhcnNlKHBhcnNlci5wYXJzZSwgc3RyKVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAnc2luZ2xlJyxcbiAgICBlcTogKGEsIGIpID0+IGEgPT09IGIsXG4gICAgLi4ucGFyc2VyLFxuICAgIHBhcnNlU2VydmVyU2lkZTogcGFyc2VTZXJ2ZXJTaWRlTnVsbGFibGUsXG4gICAgd2l0aERlZmF1bHQoZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGlzLFxuICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgIHBhcnNlU2VydmVyU2lkZSh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVNlcnZlclNpZGVOdWxsYWJsZSh2YWx1ZSkgPz8gZGVmYXVsdFZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHdpdGhPcHRpb25zKG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoaXMsXG4gICAgICAgIC4uLm9wdGlvbnNcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU11bHRpUGFyc2VyPFQ+KFxuICBwYXJzZXI6IE9taXQ8UmVxdWlyZTxNdWx0aVBhcnNlcjxUPiwgJ3BhcnNlJyB8ICdzZXJpYWxpemUnPiwgJ3R5cGUnPlxuKTogTXVsdGlQYXJzZXJCdWlsZGVyPFQ+IHtcbiAgZnVuY3Rpb24gcGFyc2VTZXJ2ZXJTaWRlTnVsbGFibGUodmFsdWU6IHN0cmluZyB8IHN0cmluZ1tdIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiBudWxsXG4gICAgfVxuICAgIHJldHVybiBzYWZlUGFyc2UocGFyc2VyLnBhcnNlLCBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHlwZTogJ211bHRpJyxcbiAgICBlcTogKGEsIGIpID0+IGEgPT09IGIsXG4gICAgLi4ucGFyc2VyLFxuICAgIHBhcnNlU2VydmVyU2lkZTogcGFyc2VTZXJ2ZXJTaWRlTnVsbGFibGUsXG4gICAgd2l0aERlZmF1bHQoZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi50aGlzLFxuICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgIHBhcnNlU2VydmVyU2lkZSh2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVNlcnZlclNpZGVOdWxsYWJsZSh2YWx1ZSkgPz8gZGVmYXVsdFZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHdpdGhPcHRpb25zKG9wdGlvbnM6IE9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRoaXMsXG4gICAgICAgIC4uLm9wdGlvbnNcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gUGFyc2VycyBpbXBsZW1lbnRhdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGNvbnN0IHBhcnNlQXNTdHJpbmc6IFNpbmdsZVBhcnNlckJ1aWxkZXI8c3RyaW5nPiA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiB2ID0+IHYsXG4gIHNlcmlhbGl6ZTogU3RyaW5nXG59KVxuXG5leHBvcnQgY29uc3QgcGFyc2VBc0ludGVnZXI6IFNpbmdsZVBhcnNlckJ1aWxkZXI8bnVtYmVyPiA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiB2ID0+IHtcbiAgICBjb25zdCBpbnQgPSBwYXJzZUludCh2KVxuICAgIHJldHVybiBpbnQgPT0gaW50ID8gaW50IDogbnVsbCAvLyBOYU4gY2hlY2sgYXQgbG93IGJ1bmRsZSBzaXplIGNvc3RcbiAgfSxcbiAgc2VyaWFsaXplOiB2ID0+ICcnICsgTWF0aC5yb3VuZCh2KVxufSlcblxuZXhwb3J0IGNvbnN0IHBhcnNlQXNJbmRleDogU2luZ2xlUGFyc2VyQnVpbGRlcjxudW1iZXI+ID0gY3JlYXRlUGFyc2VyKHtcbiAgcGFyc2U6IHYgPT4ge1xuICAgIGNvbnN0IGludCA9IHBhcnNlSW50KHYpXG4gICAgcmV0dXJuIGludCA9PSBpbnQgPyBpbnQgLSAxIDogbnVsbCAvLyBOYU4gY2hlY2sgYXQgbG93IGJ1bmRsZSBzaXplIGNvc3RcbiAgfSxcbiAgc2VyaWFsaXplOiB2ID0+ICcnICsgTWF0aC5yb3VuZCh2ICsgMSlcbn0pXG5cbmV4cG9ydCBjb25zdCBwYXJzZUFzSGV4OiBTaW5nbGVQYXJzZXJCdWlsZGVyPG51bWJlcj4gPSBjcmVhdGVQYXJzZXIoe1xuICBwYXJzZTogdiA9PiB7XG4gICAgY29uc3QgaW50ID0gcGFyc2VJbnQodiwgMTYpXG4gICAgcmV0dXJuIGludCA9PSBpbnQgPyBpbnQgOiBudWxsIC8vIE5hTiBjaGVjayBhdCBsb3cgYnVuZGxlIHNpemUgY29zdFxuICB9LFxuICBzZXJpYWxpemU6IHYgPT4ge1xuICAgIGNvbnN0IGhleCA9IE1hdGgucm91bmQodikudG9TdHJpbmcoMTYpXG4gICAgcmV0dXJuIChoZXgubGVuZ3RoICYgMSA/ICcwJyA6ICcnKSArIGhleFxuICB9XG59KVxuXG5leHBvcnQgY29uc3QgcGFyc2VBc0Zsb2F0OiBTaW5nbGVQYXJzZXJCdWlsZGVyPG51bWJlcj4gPSBjcmVhdGVQYXJzZXIoe1xuICBwYXJzZTogdiA9PiB7XG4gICAgY29uc3QgZmxvYXQgPSBwYXJzZUZsb2F0KHYpXG4gICAgcmV0dXJuIGZsb2F0ID09IGZsb2F0ID8gZmxvYXQgOiBudWxsIC8vIE5hTiBjaGVjayBhdCBsb3cgYnVuZGxlIHNpemUgY29zdFxuICB9LFxuICBzZXJpYWxpemU6IFN0cmluZ1xufSlcblxuZXhwb3J0IGNvbnN0IHBhcnNlQXNCb29sZWFuOiBTaW5nbGVQYXJzZXJCdWlsZGVyPGJvb2xlYW4+ID0gY3JlYXRlUGFyc2VyKHtcbiAgcGFyc2U6IHYgPT4gdiA9PT0gJ3RydWUnLFxuICBzZXJpYWxpemU6IFN0cmluZ1xufSlcblxuZnVuY3Rpb24gY29tcGFyZURhdGVzKGE6IERhdGUsIGI6IERhdGUpIHtcbiAgcmV0dXJuIGEudmFsdWVPZigpID09PSBiLnZhbHVlT2YoKVxufVxuXG4vKipcbiAqIFF1ZXJ5c3RyaW5nIGVuY29kZWQgYXMgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgZXBvY2gsXG4gKiBhbmQgcmV0dXJuZWQgYXMgYSBEYXRlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhcnNlQXNUaW1lc3RhbXA6IFNpbmdsZVBhcnNlckJ1aWxkZXI8RGF0ZT4gPSBjcmVhdGVQYXJzZXIoe1xuICBwYXJzZTogdiA9PiB7XG4gICAgY29uc3QgbXMgPSBwYXJzZUludCh2KVxuICAgIHJldHVybiBtcyA9PSBtcyA/IG5ldyBEYXRlKG1zKSA6IG51bGwgLy8gTmFOIGNoZWNrIGF0IGxvdyBidW5kbGUgc2l6ZSBjb3N0XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHY6IERhdGUpID0+ICcnICsgdi52YWx1ZU9mKCksXG4gIGVxOiBjb21wYXJlRGF0ZXNcbn0pXG5cbi8qKlxuICogUXVlcnlzdHJpbmcgZW5jb2RlZCBhcyBhbiBJU08tODYwMSBzdHJpbmcgKFVUQyksXG4gKiBhbmQgcmV0dXJuZWQgYXMgYSBEYXRlIG9iamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhcnNlQXNJc29EYXRlVGltZTogU2luZ2xlUGFyc2VyQnVpbGRlcjxEYXRlPiA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiB2ID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodilcbiAgICAvLyBOYU4gY2hlY2sgYXQgbG93IGJ1bmRsZSBzaXplIGNvc3RcbiAgICByZXR1cm4gZGF0ZS52YWx1ZU9mKCkgPT0gZGF0ZS52YWx1ZU9mKCkgPyBkYXRlIDogbnVsbFxuICB9LFxuICBzZXJpYWxpemU6ICh2OiBEYXRlKSA9PiB2LnRvSVNPU3RyaW5nKCksXG4gIGVxOiBjb21wYXJlRGF0ZXNcbn0pXG5cbi8qKlxuICogUXVlcnlzdHJpbmcgZW5jb2RlZCBhcyBhbiBJU08tODYwMSBzdHJpbmcgKFVUQylcbiAqIHdpdGhvdXQgdGhlIHRpbWUgem9uZSBvZmZzZXQsIGFuZCByZXR1cm5lZCBhc1xuICogYSBEYXRlIG9iamVjdC5cbiAqXG4gKiBUaGUgRGF0ZSBpcyBwYXJzZWQgd2l0aG91dCB0aGUgdGltZSB6b25lIG9mZnNldCxcbiAqIG1ha2luZyBpdCBhdCAwMDowMDowMCBVVEMuXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJzZUFzSXNvRGF0ZTogU2luZ2xlUGFyc2VyQnVpbGRlcjxEYXRlPiA9IGNyZWF0ZVBhcnNlcih7XG4gIHBhcnNlOiB2ID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodi5zbGljZSgwLCAxMCkpXG4gICAgLy8gTmFOIGNoZWNrIGF0IGxvdyBidW5kbGUgc2l6ZSBjb3N0XG4gICAgcmV0dXJuIGRhdGUudmFsdWVPZigpID09IGRhdGUudmFsdWVPZigpID8gZGF0ZSA6IG51bGxcbiAgfSxcbiAgc2VyaWFsaXplOiAodjogRGF0ZSkgPT4gdi50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKSxcbiAgZXE6IGNvbXBhcmVEYXRlc1xufSlcblxuLyoqXG4gKiBTdHJpbmctYmFzZWQgZW51bXMgcHJvdmlkZSBiZXR0ZXIgdHlwZS1zYWZldHkgZm9yIGtub3duIHNldHMgb2YgdmFsdWVzLlxuICogWW91IHdpbGwgbmVlZCB0byBwYXNzIHRoZSBwYXJzZUFzU3RyaW5nRW51bSBmdW5jdGlvbiBhIGxpc3Qgb2YgeW91ciBlbnVtIHZhbHVlc1xuICogaW4gb3JkZXIgdG8gdmFsaWRhdGUgdGhlIHF1ZXJ5IHN0cmluZy4gQW55dGhpbmcgZWxzZSB3aWxsIHJldHVybiBgbnVsbGAsXG4gKiBvciB5b3VyIGRlZmF1bHQgdmFsdWUgaWYgc3BlY2lmaWVkLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGB0c1xuICogZW51bSBEaXJlY3Rpb24ge1xuICogICB1cCA9ICdVUCcsXG4gKiAgIGRvd24gPSAnRE9XTicsXG4gKiAgIGxlZnQgPSAnTEVGVCcsXG4gKiAgIHJpZ2h0ID0gJ1JJR0hUJ1xuICogfVxuICpcbiAqIGNvbnN0IFtkaXJlY3Rpb24sIHNldERpcmVjdGlvbl0gPSB1c2VRdWVyeVN0YXRlKFxuICogICAnZGlyZWN0aW9uJyxcbiAqICAgIHBhcnNlQXNTdHJpbmdFbnVtPERpcmVjdGlvbj4oT2JqZWN0LnZhbHVlcyhEaXJlY3Rpb24pKSAvLyBwYXNzIGEgbGlzdCBvZiBhbGxvd2VkIHZhbHVlc1xuICogICAgICAud2l0aERlZmF1bHQoRGlyZWN0aW9uLnVwKVxuICogKVxuICogYGBgXG4gKlxuICogTm90ZTogdGhlIHF1ZXJ5IHN0cmluZyB2YWx1ZSB3aWxsIGJlIHRoZSB2YWx1ZSBvZiB0aGUgZW51bSwgbm90IGl0cyBuYW1lXG4gKiAoZXhhbXBsZSBhYm92ZTogYGRpcmVjdGlvbj1VUGApLlxuICpcbiAqIEBwYXJhbSB2YWxpZFZhbHVlcyBUaGUgdmFsdWVzIHlvdSB3YW50IHRvIGFjY2VwdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBc1N0cmluZ0VudW08RW51bSBleHRlbmRzIHN0cmluZz4oXG4gIHZhbGlkVmFsdWVzOiBFbnVtW11cbik6IFNpbmdsZVBhcnNlckJ1aWxkZXI8RW51bT4ge1xuICAvLyBEZWxlZ2F0ZSBpbXBsZW1lbnRhdGlvbiB0byBwYXJzZUFzU3RyaW5nTGl0ZXJhbCB0byBhdm9pZCBkdXBsaWNhdGlvbi5cbiAgcmV0dXJuIHBhcnNlQXNTdHJpbmdMaXRlcmFsKHZhbGlkVmFsdWVzIGFzIHJlYWRvbmx5IEVudW1bXSlcbn1cblxuLyoqXG4gKiBTdHJpbmctYmFzZWQgbGl0ZXJhbHMgcHJvdmlkZSBiZXR0ZXIgdHlwZS1zYWZldHkgZm9yIGtub3duIHNldHMgb2YgdmFsdWVzLlxuICogWW91IHdpbGwgbmVlZCB0byBwYXNzIHRoZSBwYXJzZUFzU3RyaW5nTGl0ZXJhbCBmdW5jdGlvbiBhIGxpc3Qgb2YgeW91ciBzdHJpbmcgdmFsdWVzXG4gKiBpbiBvcmRlciB0byB2YWxpZGF0ZSB0aGUgcXVlcnkgc3RyaW5nLiBBbnl0aGluZyBlbHNlIHdpbGwgcmV0dXJuIGBudWxsYCxcbiAqIG9yIHlvdXIgZGVmYXVsdCB2YWx1ZSBpZiBzcGVjaWZpZWQuXG4gKlxuICogRXhhbXBsZTpcbiAqIGBgYHRzXG4gKiBjb25zdCBjb2xvcnMgPSBbXCJyZWRcIiwgXCJncmVlblwiLCBcImJsdWVcIl0gYXMgY29uc3RcbiAqXG4gKiBjb25zdCBbY29sb3IsIHNldENvbG9yXSA9IHVzZVF1ZXJ5U3RhdGUoXG4gKiAgICdjb2xvcicsXG4gKiAgICBwYXJzZUFzU3RyaW5nTGl0ZXJhbChjb2xvcnMpIC8vIHBhc3MgYSByZWFkb25seSBsaXN0IG9mIGFsbG93ZWQgdmFsdWVzXG4gKiAgICAgIC53aXRoRGVmYXVsdChcInJlZFwiKVxuICogKVxuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbGlkVmFsdWVzIFRoZSB2YWx1ZXMgeW91IHdhbnQgdG8gYWNjZXB0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFzU3RyaW5nTGl0ZXJhbDxjb25zdCBMaXRlcmFsIGV4dGVuZHMgc3RyaW5nPihcbiAgdmFsaWRWYWx1ZXM6IHJlYWRvbmx5IExpdGVyYWxbXVxuKTogU2luZ2xlUGFyc2VyQnVpbGRlcjxMaXRlcmFsPiB7XG4gIHJldHVybiBjcmVhdGVQYXJzZXIoe1xuICAgIHBhcnNlOiAocXVlcnk6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgYXNDb25zdCA9IHF1ZXJ5IGFzIHVua25vd24gYXMgTGl0ZXJhbFxuICAgICAgcmV0dXJuIHZhbGlkVmFsdWVzLmluY2x1ZGVzKGFzQ29uc3QpID8gYXNDb25zdCA6IG51bGxcbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogU3RyaW5nXG4gIH0pXG59XG5cbi8qKlxuICogTnVtYmVyLWJhc2VkIGxpdGVyYWxzIHByb3ZpZGUgYmV0dGVyIHR5cGUtc2FmZXR5IGZvciBrbm93biBzZXRzIG9mIHZhbHVlcy5cbiAqIFlvdSB3aWxsIG5lZWQgdG8gcGFzcyB0aGUgcGFyc2VBc051bWJlckxpdGVyYWwgZnVuY3Rpb24gYSBsaXN0IG9mIHlvdXIgbnVtYmVyIHZhbHVlc1xuICogaW4gb3JkZXIgdG8gdmFsaWRhdGUgdGhlIHF1ZXJ5IHN0cmluZy4gQW55dGhpbmcgZWxzZSB3aWxsIHJldHVybiBgbnVsbGAsXG4gKiBvciB5b3VyIGRlZmF1bHQgdmFsdWUgaWYgc3BlY2lmaWVkLlxuICpcbiAqIEV4YW1wbGU6XG4gKiBgYGB0c1xuICogY29uc3QgZGljZVNpZGVzID0gWzEsIDIsIDMsIDQsIDUsIDZdIGFzIGNvbnN0XG4gKlxuICogY29uc3QgW3NpZGUsIHNldFNpZGVdID0gdXNlUXVlcnlTdGF0ZShcbiAqICAgJ3NpZGUnLFxuICogICAgcGFyc2VBc051bWJlckxpdGVyYWwoZGljZVNpZGVzKSAvLyBwYXNzIGEgcmVhZG9ubHkgbGlzdCBvZiBhbGxvd2VkIHZhbHVlc1xuICogICAgICAud2l0aERlZmF1bHQoNClcbiAqIClcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB2YWxpZFZhbHVlcyBUaGUgdmFsdWVzIHlvdSB3YW50IHRvIGFjY2VwdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBc051bWJlckxpdGVyYWw8Y29uc3QgTGl0ZXJhbCBleHRlbmRzIG51bWJlcj4oXG4gIHZhbGlkVmFsdWVzOiByZWFkb25seSBMaXRlcmFsW11cbik6IFNpbmdsZVBhcnNlckJ1aWxkZXI8TGl0ZXJhbD4ge1xuICByZXR1cm4gY3JlYXRlUGFyc2VyKHtcbiAgICBwYXJzZTogKHF1ZXJ5OiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IGFzQ29uc3QgPSBwYXJzZUZsb2F0KHF1ZXJ5KSBhcyB1bmtub3duIGFzIExpdGVyYWxcbiAgICAgIGlmICh2YWxpZFZhbHVlcy5pbmNsdWRlcyhhc0NvbnN0KSkge1xuICAgICAgICByZXR1cm4gYXNDb25zdFxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogU3RyaW5nXG4gIH0pXG59XG5cbi8qKlxuICogRW5jb2RlIGFueSBvYmplY3Qgc2hhcGUgaW50byB0aGUgcXVlcnlzdHJpbmcgdmFsdWUgYXMgSlNPTi5cbiAqIE5vdGU6IHlvdSBtYXkgd2FudCB0byB1c2UgYHVzZVF1ZXJ5U3RhdGVzYCBmb3IgZmluZXIgY29udHJvbCBvdmVyXG4gKiBtdWx0aXBsZSByZWxhdGVkIHF1ZXJ5IGtleXMuXG4gKlxuICogQHBhcmFtIHJ1bnRpbWVQYXJzZXIgUnVudGltZSBwYXJzZXIgKGVnOiBab2Qgc2NoZW1hIG9yIFN0YW5kYXJkIFNjaGVtYSkgdG8gdmFsaWRhdGUgYWZ0ZXIgSlNPTi5wYXJzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VBc0pzb248VD4oXG4gIHZhbGlkYXRvcjogKCh2YWx1ZTogdW5rbm93bikgPT4gVCB8IG51bGwpIHwgU3RhbmRhcmRTY2hlbWFWMTxUPlxuKTogU2luZ2xlUGFyc2VyQnVpbGRlcjxUPiB7XG4gIHJldHVybiBjcmVhdGVQYXJzZXIoe1xuICAgIHBhcnNlOiBxdWVyeSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKHF1ZXJ5KVxuICAgICAgICBpZiAoJ35zdGFuZGFyZCcgaW4gdmFsaWRhdG9yKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdG9yWyd+c3RhbmRhcmQnXS52YWxpZGF0ZShvYmopXG4gICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgJ1tudXFzXSBPbmx5IHN5bmNocm9ub3VzIFN0YW5kYXJkIFNjaGVtYXMgYXJlIHN1cHBvcnRlZCBpbiBwYXJzZUFzSnNvbi4nXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQuaXNzdWVzID8gbnVsbCA6IHJlc3VsdC52YWx1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZGF0b3Iob2JqKVxuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgICB9XG4gICAgfSxcbiAgICBzZXJpYWxpemU6IHZhbHVlID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSxcbiAgICBlcShhLCBiKSB7XG4gICAgICAvLyBDaGVjayBmb3IgcmVmZXJlbnRpYWwgZXF1YWxpdHkgZmlyc3RcbiAgICAgIHJldHVybiBhID09PSBiIHx8IEpTT04uc3RyaW5naWZ5KGEpID09PSBKU09OLnN0cmluZ2lmeShiKVxuICAgIH1cbiAgfSlcbn1cblxuLyoqXG4gKiBBIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIGl0ZW1zLlxuICogSXRlbXMgYXJlIFVSSS1lbmNvZGVkIGZvciBzYWZldHksIHNvIHRoZXkgbWF5IG5vdCBsb29rIG5pY2UgaW4gdGhlIFVSTC5cbiAqXG4gKiBAcGFyYW0gaXRlbVBhcnNlciBQYXJzZXIgZm9yIGVhY2ggaW5kaXZpZHVhbCBpdGVtIGluIHRoZSBhcnJheVxuICogQHBhcmFtIHNlcGFyYXRvciBUaGUgY2hhcmFjdGVyIHRvIHVzZSB0byBzZXBhcmF0ZSBpdGVtcyAoZGVmYXVsdCAnLCcpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFzQXJyYXlPZjxJdGVtVHlwZT4oXG4gIGl0ZW1QYXJzZXI6IFNpbmdsZVBhcnNlcjxJdGVtVHlwZT4sXG4gIHNlcGFyYXRvciA9ICcsJ1xuKTogU2luZ2xlUGFyc2VyQnVpbGRlcjxJdGVtVHlwZVtdPiB7XG4gIGNvbnN0IGl0ZW1FcSA9IGl0ZW1QYXJzZXIuZXEgPz8gKChhOiBJdGVtVHlwZSwgYjogSXRlbVR5cGUpID0+IGEgPT09IGIpXG4gIGNvbnN0IGVuY29kZWRTZXBhcmF0b3IgPSBlbmNvZGVVUklDb21wb25lbnQoc2VwYXJhdG9yKVxuICAvLyB0b2RvOiBIYW5kbGUgZGVmYXVsdCBpdGVtIHZhbHVlcyBhbmQgbWFrZSByZXR1cm4gdHlwZSBub24tbnVsbGFibGVcbiAgcmV0dXJuIGNyZWF0ZVBhcnNlcih7XG4gICAgcGFyc2U6IHF1ZXJ5ID0+IHtcbiAgICAgIGlmIChxdWVyeSA9PT0gJycpIHtcbiAgICAgICAgLy8gRW1wdHkgcXVlcnkgc2hvdWxkIG5vdCBnbyB0aHJvdWdoIHRoZSBzcGxpdC9tYXAvZmlsdGVyIGxvZ2ljLFxuICAgICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tLzQ3bmcvbnVxcy9pc3N1ZXMvMzI5XG4gICAgICAgIHJldHVybiBbXSBhcyBJdGVtVHlwZVtdXG4gICAgICB9XG4gICAgICByZXR1cm4gcXVlcnlcbiAgICAgICAgLnNwbGl0KHNlcGFyYXRvcilcbiAgICAgICAgLm1hcCgoaXRlbSwgaW5kZXgpID0+XG4gICAgICAgICAgc2FmZVBhcnNlKFxuICAgICAgICAgICAgaXRlbVBhcnNlci5wYXJzZSxcbiAgICAgICAgICAgIGl0ZW0ucmVwbGFjZUFsbChlbmNvZGVkU2VwYXJhdG9yLCBzZXBhcmF0b3IpLFxuICAgICAgICAgICAgYFske2luZGV4fV1gXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgIC5maWx0ZXIodmFsdWUgPT4gdmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkgYXMgSXRlbVR5cGVbXVxuICAgIH0sXG4gICAgc2VyaWFsaXplOiB2YWx1ZXMgPT5cbiAgICAgIHZhbHVlc1xuICAgICAgICAubWFwPHN0cmluZz4odmFsdWUgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0ciA9IGl0ZW1QYXJzZXIuc2VyaWFsaXplXG4gICAgICAgICAgICA/IGl0ZW1QYXJzZXIuc2VyaWFsaXplKHZhbHVlKVxuICAgICAgICAgICAgOiBTdHJpbmcodmFsdWUpXG4gICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlQWxsKHNlcGFyYXRvciwgZW5jb2RlZFNlcGFyYXRvcilcbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oc2VwYXJhdG9yKSxcbiAgICBlcShhLCBiKSB7XG4gICAgICBpZiAoYSA9PT0gYikge1xuICAgICAgICByZXR1cm4gdHJ1ZSAvLyBSZWZlcmVudGlhbGx5IHN0YWJsZVxuICAgICAgfVxuICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHJldHVybiBhLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IGl0ZW1FcSh2YWx1ZSwgYltpbmRleF0hKSlcbiAgICB9XG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFzTmF0aXZlQXJyYXlPZjxJdGVtVHlwZT4oXG4gIGl0ZW1QYXJzZXI6IFNpbmdsZVBhcnNlcjxJdGVtVHlwZT5cbik6IFJldHVyblR5cGU8TXVsdGlQYXJzZXJCdWlsZGVyPEl0ZW1UeXBlW10+Wyd3aXRoRGVmYXVsdCddPiB7XG4gIGNvbnN0IGl0ZW1FcSA9IGl0ZW1QYXJzZXIuZXEgPz8gKChhOiBJdGVtVHlwZSwgYjogSXRlbVR5cGUpID0+IGEgPT09IGIpXG4gIHJldHVybiBjcmVhdGVNdWx0aVBhcnNlcih7XG4gICAgcGFyc2U6IHF1ZXJ5ID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlZCA9IHF1ZXJ5XG4gICAgICAgIC5tYXAoKGl0ZW0sIGluZGV4KSA9PiBzYWZlUGFyc2UoaXRlbVBhcnNlci5wYXJzZSwgaXRlbSwgYFske2luZGV4fV1gKSlcbiAgICAgICAgLmZpbHRlcih2YWx1ZSA9PiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSBhcyBJdGVtVHlwZVtdXG4gICAgICByZXR1cm4gcGFyc2VkLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBwYXJzZWRcbiAgICB9LFxuICAgIHNlcmlhbGl6ZTogdmFsdWVzID0+IHtcbiAgICAgIC8vIGRlZmVuc2l2ZSBjaGVjayBiZWNhdXNlIHdlIHBvdGVudGlhbGx5IGdldCBhIHNpbmdsZSB2YWx1ZSBwYXNzZWQgZnJvbSBhIHN0YW5kYXJkIHNjaGVtYVxuICAgICAgY29uc3Qgc2FmZVZhbHVlcyA9IEFycmF5LmlzQXJyYXkodmFsdWVzKSA/IHZhbHVlcyA6IFt2YWx1ZXNdXG4gICAgICByZXR1cm4gc2FmZVZhbHVlcy5mbGF0TWFwKHZhbHVlID0+IHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZCA9IGl0ZW1QYXJzZXIuc2VyaWFsaXplPy4odmFsdWUpID8/IFN0cmluZyh2YWx1ZSlcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzZXJpYWxpemVkID09PSAnc3RyaW5nJyA/IFtzZXJpYWxpemVkXSA6IFsuLi5zZXJpYWxpemVkXVxuICAgICAgfSlcbiAgICB9LFxuICAgIGVxKGEsIGIpIHtcbiAgICAgIGlmIChhID09PSBiKSB7XG4gICAgICAgIHJldHVybiB0cnVlIC8vIFJlZmVyZW50aWFsbHkgc3RhYmxlXG4gICAgICB9XG4gICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgICAgcmV0dXJuIGEuZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gaXRlbUVxKHZhbHVlLCBiW2luZGV4XSEpKVxuICAgIH1cbiAgfSkud2l0aERlZmF1bHQoW10pXG59XG5cbnR5cGUgaW5mZXJTaW5nbGVQYXJzZXJUeXBlPFBhcnNlcj4gPSBQYXJzZXIgZXh0ZW5kcyBHZW5lcmljUGFyc2VyQnVpbGRlcjxcbiAgaW5mZXIgVmFsdWVcbj4gJiB7XG4gIGRlZmF1bHRWYWx1ZTogaW5mZXIgVmFsdWVcbn1cbiAgPyBWYWx1ZVxuICA6IFBhcnNlciBleHRlbmRzIEdlbmVyaWNQYXJzZXJCdWlsZGVyPGluZmVyIFZhbHVlPlxuICAgID8gVmFsdWUgfCBudWxsXG4gICAgOiBuZXZlclxuXG50eXBlIGluZmVyUGFyc2VyUmVjb3JkVHlwZTxcbiAgTWFwIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgR2VuZXJpY1BhcnNlckJ1aWxkZXI8YW55Pj5cbj4gPSB7XG4gIFtLZXkgaW4ga2V5b2YgTWFwXTogaW5mZXJTaW5nbGVQYXJzZXJUeXBlPE1hcFtLZXldPlxufSAmIHt9XG5cbi8qKlxuICogVHlwZSBoZWxwZXIgdG8gZXh0cmFjdCB0aGUgdW5kZXJseWluZyByZXR1cm5lZCBkYXRhIHR5cGUgb2YgYSBwYXJzZXJcbiAqIG9yIG9mIGFuIG9iamVjdCBkZXNjcmliaW5nIG11bHRpcGxlIHBhcnNlcnMgYW5kIHRoZWlyIGFzc29jaWF0ZWQga2V5cy5cbiAqXG4gKiBVc2FnZTpcbiAqXG4gKiBgYGB0c1xuICogaW1wb3J0IHsgdHlwZSBpbmZlclBhcnNlclR5cGUgfSBmcm9tICdudXFzJyAvLyBvciAnbnVxcy9zZXJ2ZXInXG4gKlxuICogY29uc3QgaW50TnVsbGFibGUgPSBwYXJzZUFzSW50ZWdlclxuICogY29uc3QgaW50Tm9uTnVsbCA9IHBhcnNlQXNJbnRlZ2VyLndpdGhEZWZhdWx0KDApXG4gKlxuICogaW5mZXJQYXJzZXJUeXBlPHR5cGVvZiBpbnROdWxsYWJsZT4gLy8gbnVtYmVyIHwgbnVsbFxuICogaW5mZXJQYXJzZXJUeXBlPHR5cGVvZiBpbnROb25OdWxsPiAvLyBudW1iZXJcbiAqXG4gKiBjb25zdCBwYXJzZXJzID0ge1xuICogIGE6IHBhcnNlQXNJbnRlZ2VyLFxuICogIGI6IHBhcnNlQXNCb29sZWFuLndpdGhEZWZhdWx0KGZhbHNlKVxuICogfVxuICpcbiAqIGluZmVyUGFyc2VyVHlwZTx0eXBlb2YgcGFyc2Vycz5cbiAqIC8vIHsgYTogbnVtYmVyIHwgbnVsbCwgYjogYm9vbGVhbiB9XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHR5cGUgaW5mZXJQYXJzZXJUeXBlPElucHV0PiA9XG4gIElucHV0IGV4dGVuZHMgR2VuZXJpY1BhcnNlckJ1aWxkZXI8YW55PlxuICAgID8gaW5mZXJTaW5nbGVQYXJzZXJUeXBlPElucHV0PlxuICAgIDogSW5wdXQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBHZW5lcmljUGFyc2VyQnVpbGRlcjxhbnk+PlxuICAgICAgPyBpbmZlclBhcnNlclJlY29yZFR5cGU8SW5wdXQ+XG4gICAgICA6IG5ldmVyXG5cbmV4cG9ydCB0eXBlIFBhcnNlcldpdGhPcHRpb25hbERlZmF1bHQ8VD4gPSBHZW5lcmljUGFyc2VyQnVpbGRlcjxUPiAmIHtcbiAgZGVmYXVsdFZhbHVlPzogVFxufVxuZXhwb3J0IHR5cGUgUGFyc2VyTWFwID0gUmVjb3JkPHN0cmluZywgUGFyc2VyV2l0aE9wdGlvbmFsRGVmYXVsdDxhbnk+PlxuIiwiaW1wb3J0IHR5cGUgeyBOdWxsYWJsZSwgT3B0aW9ucywgVXJsS2V5cyB9IGZyb20gJy4vZGVmcydcbmltcG9ydCB7IHJlbmRlclF1ZXJ5U3RyaW5nIH0gZnJvbSAnLi9saWIvdXJsLWVuY29kaW5nJ1xuaW1wb3J0IHR5cGUgeyBpbmZlclBhcnNlclR5cGUsIFBhcnNlck1hcCB9IGZyb20gJy4vcGFyc2VycydcbmltcG9ydCB7IHdyaXRlIH0gZnJvbSAnLi9saWIvc2VhcmNoLXBhcmFtcydcblxudHlwZSBCYXNlID0gc3RyaW5nIHwgVVJMU2VhcmNoUGFyYW1zIHwgVVJMXG5cbmV4cG9ydCB0eXBlIENyZWF0ZVNlcmlhbGl6ZXJPcHRpb25zPFBhcnNlcnMgZXh0ZW5kcyBQYXJzZXJNYXA+ID0gUGljazxcbiAgT3B0aW9ucyxcbiAgJ2NsZWFyT25EZWZhdWx0J1xuPiAmIHtcbiAgdXJsS2V5cz86IFVybEtleXM8UGFyc2Vycz5cbiAgcHJvY2Vzc1VybFNlYXJjaFBhcmFtcz86IChzZWFyY2hQYXJhbXM6IFVSTFNlYXJjaFBhcmFtcykgPT4gVVJMU2VhcmNoUGFyYW1zXG59XG5cbnR5cGUgU2VyaWFsaXplRnVuY3Rpb248XG4gIFBhcnNlcnMgZXh0ZW5kcyBQYXJzZXJNYXAsXG4gIEJhc2VUeXBlIGV4dGVuZHMgQmFzZSA9IEJhc2UsXG4gIFJldHVybiA9IHN0cmluZ1xuPiA9IHtcbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgcXVlcnkgc3RyaW5nIGZvciB0aGUgZ2l2ZW4gdmFsdWVzLlxuICAgKi9cbiAgKHZhbHVlczogUGFydGlhbDxOdWxsYWJsZTxpbmZlclBhcnNlclR5cGU8UGFyc2Vycz4+Pik6IFJldHVyblxuICAvKipcbiAgICogQXBwZW5kL2FtZW5kIHRoZSBxdWVyeSBzdHJpbmcgb2YgdGhlIGdpdmVuIGJhc2Ugd2l0aCB0aGUgZ2l2ZW4gdmFsdWVzLlxuICAgKlxuICAgKiBFeGlzdGluZyBzZWFyY2ggcGFyYW0gdmFsdWVzIHdpbGwga2VwdCwgdW5sZXNzOlxuICAgKiAtIHRoZSB2YWx1ZSBpcyBudWxsLCBpbiB3aGljaCBjYXNlIHRoZSBzZWFyY2ggcGFyYW0gd2lsbCBiZSBkZWxldGVkXG4gICAqIC0gYW5vdGhlciB2YWx1ZSBpcyBnaXZlbiBmb3IgYW4gZXhpc3Rpbmcga2V5LCBpbiB3aGljaCBjYXNlIHRoZVxuICAgKiAgc2VhcmNoIHBhcmFtIHdpbGwgYmUgdXBkYXRlZFxuICAgKi9cbiAgKFxuICAgIGJhc2U6IEJhc2VUeXBlLFxuICAgIHZhbHVlczogUGFydGlhbDxOdWxsYWJsZTxpbmZlclBhcnNlclR5cGU8UGFyc2Vycz4+PiB8IG51bGxcbiAgKTogUmV0dXJuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXJpYWxpemVyPFxuICBQYXJzZXJzIGV4dGVuZHMgUGFyc2VyTWFwLFxuICBCYXNlVHlwZSBleHRlbmRzIEJhc2UgPSBCYXNlLFxuICBSZXR1cm4gPSBzdHJpbmdcbj4oXG4gIHBhcnNlcnM6IFBhcnNlcnMsXG4gIHtcbiAgICBjbGVhck9uRGVmYXVsdCA9IHRydWUsXG4gICAgdXJsS2V5cyA9IHt9LFxuICAgIHByb2Nlc3NVcmxTZWFyY2hQYXJhbXNcbiAgfTogQ3JlYXRlU2VyaWFsaXplck9wdGlvbnM8UGFyc2Vycz4gPSB7fVxuKTogU2VyaWFsaXplRnVuY3Rpb248UGFyc2VycywgQmFzZVR5cGUsIFJldHVybj4ge1xuICB0eXBlIFZhbHVlcyA9IFBhcnRpYWw8TnVsbGFibGU8aW5mZXJQYXJzZXJUeXBlPFBhcnNlcnM+Pj5cblxuICAvKipcbiAgICogR2VuZXJhdGUgYSBxdWVyeSBzdHJpbmcgZm9yIHRoZSBnaXZlbiB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXJpYWxpemUodmFsdWVzOiBWYWx1ZXMpOiBSZXR1cm5cbiAgLyoqXG4gICAqIEFwcGVuZC9hbWVuZCB0aGUgcXVlcnkgc3RyaW5nIG9mIHRoZSBnaXZlbiBiYXNlIHdpdGggdGhlIGdpdmVuIHZhbHVlcy5cbiAgICpcbiAgICogRXhpc3Rpbmcgc2VhcmNoIHBhcmFtIHZhbHVlcyB3aWxsIGtlcHQsIHVubGVzczpcbiAgICogLSB0aGUgdmFsdWUgaXMgbnVsbCwgaW4gd2hpY2ggY2FzZSB0aGUgc2VhcmNoIHBhcmFtIHdpbGwgYmUgZGVsZXRlZFxuICAgKiAtIGFub3RoZXIgdmFsdWUgaXMgZ2l2ZW4gZm9yIGFuIGV4aXN0aW5nIGtleSwgaW4gd2hpY2ggY2FzZSB0aGVcbiAgICogIHNlYXJjaCBwYXJhbSB3aWxsIGJlIHVwZGF0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShiYXNlOiBCYXNlVHlwZSwgdmFsdWVzOiBWYWx1ZXMgfCBudWxsKTogUmV0dXJuXG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZShcbiAgICBhcmcxQmFzZU9yVmFsdWVzOiBCYXNlVHlwZSB8IFZhbHVlcyxcbiAgICBhcmcydmFsdWVzOiBWYWx1ZXMgfCBudWxsID0ge31cbiAgKSB7XG4gICAgbGV0IFtiYXNlLCBzZWFyY2hdID0gaXNCYXNlPEJhc2VUeXBlPihhcmcxQmFzZU9yVmFsdWVzKVxuICAgICAgPyBzcGxpdEJhc2UoYXJnMUJhc2VPclZhbHVlcylcbiAgICAgIDogWycnLCBuZXcgVVJMU2VhcmNoUGFyYW1zKCldXG4gICAgY29uc3QgdmFsdWVzID0gaXNCYXNlKGFyZzFCYXNlT3JWYWx1ZXMpID8gYXJnMnZhbHVlcyA6IGFyZzFCYXNlT3JWYWx1ZXNcbiAgICBpZiAodmFsdWVzID09PSBudWxsKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXJzZXJzKSB7XG4gICAgICAgIGNvbnN0IHVybEtleSA9IHVybEtleXNba2V5XSA/PyBrZXlcbiAgICAgICAgc2VhcmNoLmRlbGV0ZSh1cmxLZXkpXG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzc1VybFNlYXJjaFBhcmFtcykge1xuICAgICAgICBzZWFyY2ggPSBwcm9jZXNzVXJsU2VhcmNoUGFyYW1zKHNlYXJjaClcbiAgICAgIH1cbiAgICAgIHJldHVybiAoYmFzZSArIHJlbmRlclF1ZXJ5U3RyaW5nKHNlYXJjaCkpIGFzIFJldHVyblxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwYXJzZXJzKSB7XG4gICAgICBjb25zdCBwYXJzZXIgPSBwYXJzZXJzW2tleV1cbiAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzW2tleV1cbiAgICAgIGlmICghcGFyc2VyIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVybEtleSA9IHVybEtleXNba2V5XSA/PyBrZXlcbiAgICAgIGNvbnN0IGlzTWF0Y2hpbmdEZWZhdWx0ID1cbiAgICAgICAgcGFyc2VyLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIChwYXJzZXIuZXEgPz8gKChhLCBiKSA9PiBhID09PSBiKSkodmFsdWUsIHBhcnNlci5kZWZhdWx0VmFsdWUpXG5cbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgKChwYXJzZXIuY2xlYXJPbkRlZmF1bHQgPz8gY2xlYXJPbkRlZmF1bHQgPz8gdHJ1ZSkgJiYgaXNNYXRjaGluZ0RlZmF1bHQpXG4gICAgICApIHtcbiAgICAgICAgc2VhcmNoLmRlbGV0ZSh1cmxLZXkpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkID0gcGFyc2VyLnNlcmlhbGl6ZSh2YWx1ZSlcbiAgICAgICAgc2VhcmNoID0gd3JpdGUoc2VyaWFsaXplZCwgdXJsS2V5LCBzZWFyY2gpXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9jZXNzVXJsU2VhcmNoUGFyYW1zKSB7XG4gICAgICBzZWFyY2ggPSBwcm9jZXNzVXJsU2VhcmNoUGFyYW1zKHNlYXJjaClcbiAgICB9XG4gICAgcmV0dXJuIGJhc2UgKyByZW5kZXJRdWVyeVN0cmluZyhzZWFyY2gpXG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZVxufVxuXG5mdW5jdGlvbiBpc0Jhc2U8QmFzZVR5cGU+KGJhc2U6IGFueSk6IGJhc2UgaXMgQmFzZVR5cGUge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBiYXNlID09PSAnc3RyaW5nJyB8fFxuICAgIGJhc2UgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMgfHxcbiAgICBiYXNlIGluc3RhbmNlb2YgVVJMXG4gIClcbn1cblxuZnVuY3Rpb24gc3BsaXRCYXNlPEJhc2VUeXBlIGV4dGVuZHMgQmFzZT4oYmFzZTogQmFzZVR5cGUpIHtcbiAgaWYgKHR5cGVvZiBiYXNlID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IFtwYXRoID0gJycsIC4uLnNlYXJjaF0gPSBiYXNlLnNwbGl0KCc/JylcbiAgICByZXR1cm4gW3BhdGgsIG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoLmpvaW4oJz8nKSldIGFzIGNvbnN0XG4gIH0gZWxzZSBpZiAoYmFzZSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcykge1xuICAgIHJldHVybiBbJycsIG5ldyBVUkxTZWFyY2hQYXJhbXMoYmFzZSldIGFzIGNvbnN0IC8vIE9wZXJhdGUgb24gYSBjb3B5IG9mIFVSTFNlYXJjaFBhcmFtcywgYXMgZGVyaXZlZCBjbGFzc2VzIG1heSByZXN0cmljdCBpdHMgYWxsb3dlZCBtZXRob2RzXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGJhc2Uub3JpZ2luICsgYmFzZS5wYXRobmFtZSxcbiAgICAgIG5ldyBVUkxTZWFyY2hQYXJhbXMoYmFzZS5zZWFyY2hQYXJhbXMpXG4gICAgXSBhcyBjb25zdFxuICB9XG59XG4iLCJpbXBvcnQgdHlwZSB7IFN0YW5kYXJkU2NoZW1hVjEgfSBmcm9tICdAc3RhbmRhcmQtc2NoZW1hL3NwZWMnXG5pbXBvcnQgeyBjcmVhdGVMb2FkZXIsIHR5cGUgQ3JlYXRlTG9hZGVyT3B0aW9ucyB9IGZyb20gJy4vbG9hZGVyJ1xuaW1wb3J0IHR5cGUgeyBQYXJzZXJNYXAsIGluZmVyUGFyc2VyVHlwZSB9IGZyb20gJy4vcGFyc2VycydcbmltcG9ydCB7IGNyZWF0ZVNlcmlhbGl6ZXIgfSBmcm9tICcuL3NlcmlhbGl6ZXInXG5cbmV4cG9ydCB0eXBlIENyZWF0ZVN0YW5kYXJkU2NoZW1hVjFPcHRpb25zPFxuICBQYXJzZXJzIGV4dGVuZHMgUGFyc2VyTWFwLFxuICBQYXJ0aWFsT3V0cHV0IGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlXG4+ID0gQ3JlYXRlTG9hZGVyT3B0aW9uczxQYXJzZXJzPiAmIHtcbiAgLyoqXG4gICAqIE1hcmtzIHRoZSBvdXRwdXQgdHlwZSBhcyBQYXJ0aWFsLCBhbmQgcmVtb3ZlcyBhbnkga2V5c1xuICAgKiBmcm9tIHRoZSBvdXRwdXQgdGhhdCBhcmUgbm90IHByZXNlbnQgaW4gdGhlIGlucHV0LlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgVGFuU3RhY2sgUm91dGVyLCB0byBhdm9pZCByZWZsZWN0aW5nIGRlZmF1bHQgdmFsdWVzXG4gICAqIChvciBudWxsKSBpbiB0aGUgVVJMLCBhbmQgdG8gbWFrZSBzZWFyY2ggcGFyYW1zIG9wdGlvbmFsIGluIExpbmtzLFxuICAgKiBhcyBkZWZhdWx0IHZhbHVlcyBhcmUgaGFuZGxlZCBieSBudXFzLlxuICAgKlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcGFydGlhbE91dHB1dD86IFBhcnRpYWxPdXRwdXRcbn1cblxudHlwZSBNYXliZVBhcnRpYWw8Q29uZGl0aW9uLCBUeXBlPiA9IENvbmRpdGlvbiBleHRlbmRzIHRydWVcbiAgPyBQYXJ0aWFsPFR5cGU+XG4gIDogVHlwZVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3RhbmRhcmRTY2hlbWFWMTxcbiAgUGFyc2VycyBleHRlbmRzIFBhcnNlck1hcCxcbiAgUGFydGlhbE91dHB1dCBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZVxuPihcbiAgcGFyc2VyczogUGFyc2VycyxcbiAge1xuICAgIHVybEtleXMsXG4gICAgcGFydGlhbE91dHB1dCA9IGZhbHNlIGFzIFBhcnRpYWxPdXRwdXRcbiAgfTogQ3JlYXRlU3RhbmRhcmRTY2hlbWFWMU9wdGlvbnM8UGFyc2VycywgUGFydGlhbE91dHB1dD4gPSB7fVxuKTogU3RhbmRhcmRTY2hlbWFWMTxNYXliZVBhcnRpYWw8UGFydGlhbE91dHB1dCwgaW5mZXJQYXJzZXJUeXBlPFBhcnNlcnM+Pj4ge1xuICBjb25zdCBzZXJpYWxpemUgPSBjcmVhdGVTZXJpYWxpemVyKHBhcnNlcnMsIHsgdXJsS2V5cyB9KVxuICBjb25zdCBsb2FkID0gY3JlYXRlTG9hZGVyKHBhcnNlcnMsIHsgdXJsS2V5cyB9KVxuICByZXR1cm4ge1xuICAgICd+c3RhbmRhcmQnOiB7XG4gICAgICB2ZXJzaW9uOiAxLFxuICAgICAgdmVuZG9yOiAnbnVxcycsXG4gICAgICB2YWxpZGF0ZShpbnB1dCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVybCA9IHNlcmlhbGl6ZShpbnB1dCBhcyBhbnkpXG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBsb2FkKHVybCwgeyBzdHJpY3Q6IHRydWUgfSlcbiAgICAgICAgICBpZiAocGFydGlhbE91dHB1dCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgaWYgKCEoa2V5IGluIChpbnB1dCBhcyBhbnkpKSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrZXldXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWUgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpc3N1ZXM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBjcmVhdGVFbWl0dGVyLCB0eXBlIEVtaXR0ZXIgfSBmcm9tICcuL2VtaXR0ZXInXG5pbXBvcnQgdHlwZSB7IFF1ZXJ5IH0gZnJvbSAnLi9zZWFyY2gtcGFyYW1zJ1xuXG5leHBvcnQgdHlwZSBDcm9zc0hvb2tTeW5jUGF5bG9hZCA9IHtcbiAgc3RhdGU6IGFueVxuICBxdWVyeTogUXVlcnkgfCBudWxsXG59XG5cbnR5cGUgRXZlbnRNYXAgPSB7XG4gIFtrZXk6IHN0cmluZ106IENyb3NzSG9va1N5bmNQYXlsb2FkXG59XG5cbmV4cG9ydCBjb25zdCBlbWl0dGVyOiBFbWl0dGVyPEV2ZW50TWFwPiA9IGNyZWF0ZUVtaXR0ZXIoKVxuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlSWQsIHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7XG4gIHVzZUFkYXB0ZXIsXG4gIHVzZUFkYXB0ZXJEZWZhdWx0T3B0aW9ucyxcbiAgdXNlQWRhcHRlclByb2Nlc3NVcmxTZWFyY2hQYXJhbXNcbn0gZnJvbSAnLi9hZGFwdGVycy9saWIvY29udGV4dCdcbmltcG9ydCB0eXBlIHsgTnVsbGFibGUsIE9wdGlvbnMsIFVybEtleXMgfSBmcm9tICcuL2RlZnMnXG5pbXBvcnQgeyBjb21wYXJlUXVlcnkgfSBmcm9tICcuL2xpYi9jb21wYXJlJ1xuaW1wb3J0IHsgZGVidWcgfSBmcm9tICcuL2xpYi9kZWJ1ZydcbmltcG9ydCB7IGVycm9yIH0gZnJvbSAnLi9saWIvZXJyb3JzJ1xuaW1wb3J0IHsgZGVib3VuY2VDb250cm9sbGVyIH0gZnJvbSAnLi9saWIvcXVldWVzL2RlYm91bmNlJ1xuaW1wb3J0IHsgZGVmYXVsdFJhdGVMaW1pdCB9IGZyb20gJy4vbGliL3F1ZXVlcy9yYXRlLWxpbWl0aW5nJ1xuaW1wb3J0IHtcbiAgZ2xvYmFsVGhyb3R0bGVRdWV1ZSxcbiAgdHlwZSBVcGRhdGVRdWV1ZVB1c2hBcmdzXG59IGZyb20gJy4vbGliL3F1ZXVlcy90aHJvdHRsZSdcbmltcG9ydCB7IHNhZmVQYXJzZSB9IGZyb20gJy4vbGliL3NhZmUtcGFyc2UnXG5pbXBvcnQgeyBpc0Fic2VudEZyb21VcmwsIHR5cGUgUXVlcnkgfSBmcm9tICcuL2xpYi9zZWFyY2gtcGFyYW1zJ1xuaW1wb3J0IHsgZW1pdHRlciwgdHlwZSBDcm9zc0hvb2tTeW5jUGF5bG9hZCB9IGZyb20gJy4vbGliL3N5bmMnXG5pbXBvcnQgeyB0eXBlIEdlbmVyaWNQYXJzZXIgfSBmcm9tICcuL3BhcnNlcnMnXG5cbnR5cGUgS2V5TWFwVmFsdWU8VHlwZT4gPSBHZW5lcmljUGFyc2VyPFR5cGU+ICZcbiAgT3B0aW9ucyAmIHtcbiAgICBkZWZhdWx0VmFsdWU/OiBUeXBlXG4gIH1cblxuZXhwb3J0IHR5cGUgVXNlUXVlcnlTdGF0ZXNLZXlzTWFwPE1hcCA9IGFueT4gPSB7XG4gIFtLZXkgaW4ga2V5b2YgTWFwXTogS2V5TWFwVmFsdWU8TWFwW0tleV0+XG59ICYge31cblxuZXhwb3J0IHR5cGUgVXNlUXVlcnlTdGF0ZXNPcHRpb25zPEtleU1hcCBleHRlbmRzIFVzZVF1ZXJ5U3RhdGVzS2V5c01hcD4gPVxuICBPcHRpb25zICYge1xuICAgIHVybEtleXM6IFVybEtleXM8S2V5TWFwPlxuICB9XG5cbmV4cG9ydCB0eXBlIFZhbHVlczxUIGV4dGVuZHMgVXNlUXVlcnlTdGF0ZXNLZXlzTWFwPiA9IHtcbiAgW0sgaW4ga2V5b2YgVF06IFRbS11bJ2RlZmF1bHRWYWx1ZSddIGV4dGVuZHMgTm9uTnVsbGFibGU8XG4gICAgUmV0dXJuVHlwZTxUW0tdWydwYXJzZSddPlxuICA+XG4gICAgPyBOb25OdWxsYWJsZTxSZXR1cm5UeXBlPFRbS11bJ3BhcnNlJ10+PlxuICAgIDogUmV0dXJuVHlwZTxUW0tdWydwYXJzZSddPiB8IG51bGxcbn1cbnR5cGUgTnVsbGFibGVWYWx1ZXM8VCBleHRlbmRzIFVzZVF1ZXJ5U3RhdGVzS2V5c01hcD4gPSBOdWxsYWJsZTxWYWx1ZXM8VD4+XG5cbnR5cGUgVXBkYXRlckZuPFQgZXh0ZW5kcyBVc2VRdWVyeVN0YXRlc0tleXNNYXA+ID0gKFxuICBvbGQ6IFZhbHVlczxUPlxuKSA9PiBQYXJ0aWFsPE51bGxhYmxlPFZhbHVlczxUPj4+IHwgbnVsbFxuXG5leHBvcnQgdHlwZSBTZXRWYWx1ZXM8VCBleHRlbmRzIFVzZVF1ZXJ5U3RhdGVzS2V5c01hcD4gPSAoXG4gIHZhbHVlczogUGFydGlhbDxOdWxsYWJsZTxWYWx1ZXM8VD4+PiB8IFVwZGF0ZXJGbjxUPiB8IG51bGwsXG4gIG9wdGlvbnM/OiBPcHRpb25zXG4pID0+IFByb21pc2U8VVJMU2VhcmNoUGFyYW1zPlxuXG5leHBvcnQgdHlwZSBVc2VRdWVyeVN0YXRlc1JldHVybjxUIGV4dGVuZHMgVXNlUXVlcnlTdGF0ZXNLZXlzTWFwPiA9IFtcbiAgVmFsdWVzPFQ+LFxuICBTZXRWYWx1ZXM8VD5cbl1cblxuLy8gRW5zdXJlIHJlZmVyZW50aWFsIGNvbnNpc3RlbmN5IGZvciB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB1cmxLZXlzXG4vLyBieSBob2lzdGluZyBpdCBvdXQgb2YgdGhlIGZ1bmN0aW9uIHNjb3BlLlxuLy8gT3RoZXJ3aXNlIHVzZUVmZmVjdCBsb29wcyBnbyBicnJyclxuY29uc3QgZGVmYXVsdFVybEtleXMgPSB7fVxuXG4vKipcbiAqIFN5bmNocm9uaXNlIG11bHRpcGxlIHF1ZXJ5IHN0cmluZyBhcmd1bWVudHMgdG8gUmVhY3Qgc3RhdGUgaW4gTmV4dC5qc1xuICpcbiAqIEBwYXJhbSBrZXlzIC0gQW4gb2JqZWN0IGRlc2NyaWJpbmcgdGhlIGtleXMgdG8gc3luY2hyb25pc2UgYW5kIGhvdyB0b1xuICogICAgICAgICAgICAgICBzZXJpYWxpc2UgYW5kIHBhcnNlIHRoZW0uXG4gKiAgICAgICAgICAgICAgIFVzZSBgcGFyc2VBcyhTdHJpbmd8SW50ZWdlcnxGbG9hdHwuLi4pYCBmb3IgcXVpY2sgc2hvcnRoYW5kcy5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgaGlzdG9yeSBtb2RlLCBzaGFsbG93IHJvdXRpbmcgYW5kIHNjcm9sbCByZXN0b3JhdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUXVlcnlTdGF0ZXM8S2V5TWFwIGV4dGVuZHMgVXNlUXVlcnlTdGF0ZXNLZXlzTWFwPihcbiAga2V5TWFwOiBLZXlNYXAsXG4gIG9wdGlvbnM6IFBhcnRpYWw8VXNlUXVlcnlTdGF0ZXNPcHRpb25zPEtleU1hcD4+ID0ge31cbik6IFVzZVF1ZXJ5U3RhdGVzUmV0dXJuPEtleU1hcD4ge1xuICBjb25zdCBob29rSWQgPSB1c2VJZCgpXG4gIGNvbnN0IGRlZmF1bHRPcHRpb25zID0gdXNlQWRhcHRlckRlZmF1bHRPcHRpb25zKClcbiAgY29uc3QgcHJvY2Vzc1VybFNlYXJjaFBhcmFtcyA9IHVzZUFkYXB0ZXJQcm9jZXNzVXJsU2VhcmNoUGFyYW1zKClcblxuICBjb25zdCB7XG4gICAgaGlzdG9yeSA9ICdyZXBsYWNlJyxcbiAgICBzY3JvbGwgPSBkZWZhdWx0T3B0aW9ucz8uc2Nyb2xsID8/IGZhbHNlLFxuICAgIHNoYWxsb3cgPSBkZWZhdWx0T3B0aW9ucz8uc2hhbGxvdyA/PyB0cnVlLFxuICAgIHRocm90dGxlTXMgPSBkZWZhdWx0UmF0ZUxpbWl0LnRpbWVNcyxcbiAgICBsaW1pdFVybFVwZGF0ZXMgPSBkZWZhdWx0T3B0aW9ucz8ubGltaXRVcmxVcGRhdGVzLFxuICAgIGNsZWFyT25EZWZhdWx0ID0gZGVmYXVsdE9wdGlvbnM/LmNsZWFyT25EZWZhdWx0ID8/IHRydWUsXG4gICAgc3RhcnRUcmFuc2l0aW9uLFxuICAgIHVybEtleXMgPSBkZWZhdWx0VXJsS2V5cyBhcyBVcmxLZXlzPEtleU1hcD5cbiAgfSA9IG9wdGlvbnNcblxuICB0eXBlIFYgPSBOdWxsYWJsZVZhbHVlczxLZXlNYXA+XG4gIGNvbnN0IHN0YXRlS2V5cyA9IE9iamVjdC5rZXlzKGtleU1hcCkuam9pbignLCcpXG4gIGNvbnN0IHJlc29sdmVkVXJsS2V5cyA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmtleXMoa2V5TWFwKS5tYXAoa2V5ID0+IFtrZXksIHVybEtleXNba2V5XSA/PyBrZXldKVxuICAgICAgKSxcbiAgICBbc3RhdGVLZXlzLCBKU09OLnN0cmluZ2lmeSh1cmxLZXlzKV1cbiAgKVxuICBjb25zdCBhZGFwdGVyID0gdXNlQWRhcHRlcihPYmplY3QudmFsdWVzKHJlc29sdmVkVXJsS2V5cykpXG4gIGNvbnN0IGluaXRpYWxTZWFyY2hQYXJhbXMgPSBhZGFwdGVyLnNlYXJjaFBhcmFtc1xuICBjb25zdCBxdWVyeVJlZiA9IHVzZVJlZjxSZWNvcmQ8c3RyaW5nLCBRdWVyeSB8IG51bGw+Pih7fSlcbiAgY29uc3QgZGVmYXVsdFZhbHVlcyA9IHVzZU1lbW8oXG4gICAgKCkgPT5cbiAgICAgIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgT2JqZWN0LmtleXMoa2V5TWFwKS5tYXAoa2V5ID0+IFtrZXksIGtleU1hcFtrZXldIS5kZWZhdWx0VmFsdWUgPz8gbnVsbF0pXG4gICAgICApIGFzIFZhbHVlczxLZXlNYXA+LFxuICAgIFtcbiAgICAgIE9iamVjdC52YWx1ZXMoa2V5TWFwKVxuICAgICAgICAubWFwKCh7IGRlZmF1bHRWYWx1ZSB9KSA9PiBkZWZhdWx0VmFsdWUpXG4gICAgICAgIC5qb2luKCcsJylcbiAgICBdXG4gIClcbiAgY29uc3QgcXVldWVkUXVlcmllcyA9IGRlYm91bmNlQ29udHJvbGxlci51c2VRdWV1ZWRRdWVyaWVzKFxuICAgIE9iamVjdC52YWx1ZXMocmVzb2x2ZWRVcmxLZXlzKVxuICApXG4gIGNvbnN0IFtpbnRlcm5hbFN0YXRlLCBzZXRJbnRlcm5hbFN0YXRlXSA9IHVzZVN0YXRlPFY+KCgpID0+IHtcbiAgICBjb25zdCBzb3VyY2UgPSBpbml0aWFsU2VhcmNoUGFyYW1zID8/IG5ldyBVUkxTZWFyY2hQYXJhbXMoKVxuICAgIHJldHVybiBwYXJzZU1hcChrZXlNYXAsIHVybEtleXMsIHNvdXJjZSwgcXVldWVkUXVlcmllcykuc3RhdGVcbiAgfSlcblxuICBjb25zdCBzdGF0ZVJlZiA9IHVzZVJlZihpbnRlcm5hbFN0YXRlKVxuICBkZWJ1ZyhcbiAgICAnW251cSsgJXMgYCVzYF0gcmVuZGVyIC0gc3RhdGU6ICVPLCBpU1A6ICVzJyxcbiAgICBob29rSWQsXG4gICAgc3RhdGVLZXlzLFxuICAgIGludGVybmFsU3RhdGUsXG4gICAgaW5pdGlhbFNlYXJjaFBhcmFtc1xuICApXG5cbiAgLy8gSW5pdGlhbGlzZSB0aGUgcmVmcyB3aXRoIHRoZSBpbml0aWFsIHZhbHVlc1xuICBpZiAoXG4gICAgT2JqZWN0LmtleXMocXVlcnlSZWYuY3VycmVudCkuam9pbignJicpICE9PVxuICAgIE9iamVjdC52YWx1ZXMocmVzb2x2ZWRVcmxLZXlzKS5qb2luKCcmJylcbiAgKSB7XG4gICAgY29uc3QgeyBzdGF0ZSwgaGFzQ2hhbmdlZCB9ID0gcGFyc2VNYXAoXG4gICAgICBrZXlNYXAsXG4gICAgICB1cmxLZXlzLFxuICAgICAgaW5pdGlhbFNlYXJjaFBhcmFtcyxcbiAgICAgIHF1ZXVlZFF1ZXJpZXMsXG4gICAgICBxdWVyeVJlZi5jdXJyZW50LFxuICAgICAgc3RhdGVSZWYuY3VycmVudFxuICAgIClcbiAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgZGVidWcoJ1tudXErICVzIGAlc2BdIFN0YXRlIGNoYW5nZWQ6ICVPJywgaG9va0lkLCBzdGF0ZUtleXMsIHtcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGluaXRpYWxTZWFyY2hQYXJhbXMsXG4gICAgICAgIHF1ZXVlZFF1ZXJpZXMsXG4gICAgICAgIHF1ZXJ5UmVmOiBxdWVyeVJlZi5jdXJyZW50LFxuICAgICAgICBzdGF0ZVJlZjogc3RhdGVSZWYuY3VycmVudFxuICAgICAgfSlcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSBzdGF0ZVxuICAgICAgc2V0SW50ZXJuYWxTdGF0ZShzdGF0ZSlcbiAgICB9XG4gICAgcXVlcnlSZWYuY3VycmVudCA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKHJlc29sdmVkVXJsS2V5cykubWFwKChba2V5LCB1cmxLZXldKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnNlciA9IGtleU1hcFtrZXldXG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgdXJsS2V5LFxuICAgICAgICAgIHBhcnNlcj8udHlwZSA9PT0gJ211bHRpJ1xuICAgICAgICAgICAgPyBpbml0aWFsU2VhcmNoUGFyYW1zPy5nZXRBbGwodXJsS2V5KVxuICAgICAgICAgICAgOiAoaW5pdGlhbFNlYXJjaFBhcmFtcz8uZ2V0KHVybEtleSkgPz8gbnVsbClcbiAgICAgICAgXVxuICAgICAgfSlcbiAgICApXG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdGUsIGhhc0NoYW5nZWQgfSA9IHBhcnNlTWFwKFxuICAgICAga2V5TWFwLFxuICAgICAgdXJsS2V5cyxcbiAgICAgIGluaXRpYWxTZWFyY2hQYXJhbXMsXG4gICAgICBxdWV1ZWRRdWVyaWVzLFxuICAgICAgcXVlcnlSZWYuY3VycmVudCxcbiAgICAgIHN0YXRlUmVmLmN1cnJlbnRcbiAgICApXG4gICAgaWYgKGhhc0NoYW5nZWQpIHtcbiAgICAgIGRlYnVnKCdbbnVxKyAlcyBgJXNgXSBTdGF0ZSBjaGFuZ2VkOiAlTycsIGhvb2tJZCwgc3RhdGVLZXlzLCB7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICBpbml0aWFsU2VhcmNoUGFyYW1zLFxuICAgICAgICBxdWV1ZWRRdWVyaWVzLFxuICAgICAgICBxdWVyeVJlZjogcXVlcnlSZWYuY3VycmVudCxcbiAgICAgICAgc3RhdGVSZWY6IHN0YXRlUmVmLmN1cnJlbnRcbiAgICAgIH0pXG4gICAgICBzdGF0ZVJlZi5jdXJyZW50ID0gc3RhdGVcbiAgICAgIHNldEludGVybmFsU3RhdGUoc3RhdGUpXG4gICAgfVxuICB9LCBbXG4gICAgT2JqZWN0LnZhbHVlcyhyZXNvbHZlZFVybEtleXMpXG4gICAgICAubWFwKGtleSA9PiBgJHtrZXl9PSR7aW5pdGlhbFNlYXJjaFBhcmFtcz8uZ2V0QWxsKGtleSl9YClcbiAgICAgIC5qb2luKCcmJyksXG4gICAgSlNPTi5zdHJpbmdpZnkocXVldWVkUXVlcmllcylcbiAgXSlcblxuICAvLyBTeW5jIGFsbCBob29rcyB0b2dldGhlciAmIHdpdGggZXh0ZXJuYWwgVVJMIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVycyA9IE9iamVjdC5rZXlzKGtleU1hcCkucmVkdWNlKFxuICAgICAgKGhhbmRsZXJzLCBzdGF0ZUtleSkgPT4ge1xuICAgICAgICBoYW5kbGVyc1tzdGF0ZUtleSBhcyBrZXlvZiBLZXlNYXBdID0gKHtcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBxdWVyeVxuICAgICAgICB9OiBDcm9zc0hvb2tTeW5jUGF5bG9hZCkgPT4ge1xuICAgICAgICAgIHNldEludGVybmFsU3RhdGUoY3VycmVudFN0YXRlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGVmYXVsdFZhbHVlIH0gPSBrZXlNYXBbc3RhdGVLZXldIVxuICAgICAgICAgICAgY29uc3QgdXJsS2V5ID0gcmVzb2x2ZWRVcmxLZXlzW3N0YXRlS2V5XSFcbiAgICAgICAgICAgIGNvbnN0IG5leHRWYWx1ZSA9IHN0YXRlID8/IGRlZmF1bHRWYWx1ZSA/PyBudWxsXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBjdXJyZW50U3RhdGVbc3RhdGVLZXldID8/IGRlZmF1bHRWYWx1ZSA/PyBudWxsXG5cbiAgICAgICAgICAgIGlmIChPYmplY3QuaXMoY3VycmVudFZhbHVlLCBuZXh0VmFsdWUpKSB7XG4gICAgICAgICAgICAgIGRlYnVnKFxuICAgICAgICAgICAgICAgICdbbnVxKyAlcyBgJXNgXSBDcm9zcy1ob29rIGtleSBzeW5jICVzOiAlTyAoZGVmYXVsdDogJU8pLiBubyBjaGFuZ2UsIHNraXBwaW5nLCByZXNvbHZlZDogJU8nLFxuICAgICAgICAgICAgICAgIGhvb2tJZCxcbiAgICAgICAgICAgICAgICBzdGF0ZUtleXMsXG4gICAgICAgICAgICAgICAgdXJsS2V5LFxuICAgICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICBzdGF0ZVJlZi5jdXJyZW50XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgLy8gYmFpbCBvdXQgYnkgcmV0dXJuaW5nIHRoZSBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U3RhdGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vdGU6IGNhbm5vdCBtdXRhdGUgaW4tcGxhY2UsIHRoZSBvYmplY3QgcmVmIG11c3QgY2hhbmdlXG4gICAgICAgICAgICAvLyBmb3IgdGhlIHN1YnNlcXVlbnQgc2V0U3RhdGUgdG8gcGljayBpdCB1cC5cbiAgICAgICAgICAgIHN0YXRlUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgIC4uLnN0YXRlUmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAgIFtzdGF0ZUtleSBhcyBrZXlvZiBLZXlNYXBdOiBuZXh0VmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHF1ZXJ5UmVmLmN1cnJlbnRbdXJsS2V5XSA9IHF1ZXJ5XG4gICAgICAgICAgICBkZWJ1ZyhcbiAgICAgICAgICAgICAgJ1tudXErICVzIGAlc2BdIENyb3NzLWhvb2sga2V5IHN5bmMgJXM6ICVPIChkZWZhdWx0OiAlTykuIHVwZGF0ZUludGVybmFsU3RhdGUsIHJlc29sdmVkOiAlTycsXG4gICAgICAgICAgICAgIGhvb2tJZCxcbiAgICAgICAgICAgICAgc3RhdGVLZXlzLFxuICAgICAgICAgICAgICB1cmxLZXksXG4gICAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgIHN0YXRlUmVmLmN1cnJlbnRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZVJlZi5jdXJyZW50XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlcnNcbiAgICAgIH0sXG4gICAgICB7fSBhcyBSZWNvcmQ8a2V5b2YgS2V5TWFwLCAocGF5bG9hZDogQ3Jvc3NIb29rU3luY1BheWxvYWQpID0+IHZvaWQ+XG4gICAgKVxuXG4gICAgZm9yIChjb25zdCBzdGF0ZUtleSBvZiBPYmplY3Qua2V5cyhrZXlNYXApKSB7XG4gICAgICBjb25zdCB1cmxLZXkgPSByZXNvbHZlZFVybEtleXNbc3RhdGVLZXldIVxuICAgICAgZGVidWcoXG4gICAgICAgICdbbnVxKyAlcyBgJXNgXSBTdWJzY3JpYmluZyB0byBzeW5jIGZvciBgJXNgJyxcbiAgICAgICAgaG9va0lkLFxuICAgICAgICB1cmxLZXksXG4gICAgICAgIHN0YXRlS2V5c1xuICAgICAgKVxuICAgICAgZW1pdHRlci5vbih1cmxLZXksIGhhbmRsZXJzW3N0YXRlS2V5XSEpXG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHN0YXRlS2V5IG9mIE9iamVjdC5rZXlzKGtleU1hcCkpIHtcbiAgICAgICAgY29uc3QgdXJsS2V5ID0gcmVzb2x2ZWRVcmxLZXlzW3N0YXRlS2V5XSFcbiAgICAgICAgZGVidWcoXG4gICAgICAgICAgJ1tudXErICVzIGAlc2BdIFVuc3Vic2NyaWJpbmcgdG8gc3luYyBmb3IgYCVzYCcsXG4gICAgICAgICAgaG9va0lkLFxuICAgICAgICAgIHVybEtleSxcbiAgICAgICAgICBzdGF0ZUtleXNcbiAgICAgICAgKVxuICAgICAgICBlbWl0dGVyLm9mZih1cmxLZXksIGhhbmRsZXJzW3N0YXRlS2V5XSlcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtzdGF0ZUtleXMsIHJlc29sdmVkVXJsS2V5c10pXG5cbiAgY29uc3QgdXBkYXRlID0gdXNlQ2FsbGJhY2s8U2V0VmFsdWVzPEtleU1hcD4+KFxuICAgIChzdGF0ZVVwZGF0ZXIsIGNhbGxPcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IG51bGxNYXAgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgIE9iamVjdC5rZXlzKGtleU1hcCkubWFwKGtleSA9PiBba2V5LCBudWxsXSlcbiAgICAgICkgYXMgTnVsbGFibGU8S2V5TWFwPlxuICAgICAgY29uc3QgbmV3U3RhdGU6IFBhcnRpYWw8TnVsbGFibGU8S2V5TWFwPj4gPVxuICAgICAgICB0eXBlb2Ygc3RhdGVVcGRhdGVyID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgPyAoc3RhdGVVcGRhdGVyKFxuICAgICAgICAgICAgICBhcHBseURlZmF1bHRWYWx1ZXMoc3RhdGVSZWYuY3VycmVudCwgZGVmYXVsdFZhbHVlcylcbiAgICAgICAgICAgICkgPz8gbnVsbE1hcClcbiAgICAgICAgICA6IChzdGF0ZVVwZGF0ZXIgPz8gbnVsbE1hcClcbiAgICAgIGRlYnVnKCdbbnVxKyAlcyBgJXNgXSBzZXRTdGF0ZTogJU8nLCBob29rSWQsIHN0YXRlS2V5cywgbmV3U3RhdGUpXG4gICAgICBsZXQgcmV0dXJuZWRQcm9taXNlOiBQcm9taXNlPFVSTFNlYXJjaFBhcmFtcz4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWRcbiAgICAgIGxldCBtYXhEZWJvdW5jZVRpbWUgPSAwXG4gICAgICBsZXQgZG9GbHVzaCA9IGZhbHNlXG4gICAgICBjb25zdCBkZWJvdW5jZUFib3J0czogQXJyYXk8XG4gICAgICAgIChwOiBQcm9taXNlPFVSTFNlYXJjaFBhcmFtcz4pID0+IFByb21pc2U8VVJMU2VhcmNoUGFyYW1zPlxuICAgICAgPiA9IFtdXG4gICAgICBmb3IgKGxldCBbc3RhdGVLZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhuZXdTdGF0ZSkpIHtcbiAgICAgICAgY29uc3QgcGFyc2VyID0ga2V5TWFwW3N0YXRlS2V5XVxuICAgICAgICBjb25zdCB1cmxLZXkgPSByZXNvbHZlZFVybEtleXNbc3RhdGVLZXldIVxuICAgICAgICBpZiAoIXBhcnNlcikge1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChjYWxsT3B0aW9ucy5jbGVhck9uRGVmYXVsdCA/P1xuICAgICAgICAgICAgcGFyc2VyLmNsZWFyT25EZWZhdWx0ID8/XG4gICAgICAgICAgICBjbGVhck9uRGVmYXVsdCkgJiZcbiAgICAgICAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICAgIHBhcnNlci5kZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIChwYXJzZXIuZXEgPz8gKChhLCBiKSA9PiBhID09PSBiKSkodmFsdWUsIHBhcnNlci5kZWZhdWx0VmFsdWUpXG4gICAgICAgICkge1xuICAgICAgICAgIHZhbHVlID0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID1cbiAgICAgICAgICB2YWx1ZSA9PT0gbnVsbCA/IG51bGwgOiAocGFyc2VyLnNlcmlhbGl6ZSA/PyBTdHJpbmcpKHZhbHVlKVxuICAgICAgICBlbWl0dGVyLmVtaXQodXJsS2V5LCB7IHN0YXRlOiB2YWx1ZSwgcXVlcnkgfSlcbiAgICAgICAgY29uc3QgdXBkYXRlOiBVcGRhdGVRdWV1ZVB1c2hBcmdzID0ge1xuICAgICAgICAgIGtleTogdXJsS2V5LFxuICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIC8vIENhbGwtbGV2ZWwgb3B0aW9ucyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBpbmRpdmlkdWFsIHBhcnNlciBvcHRpb25zXG4gICAgICAgICAgICAvLyB3aGljaCB0YWtlIHByZWNlZGVuY2Ugb3ZlciBnbG9iYWwgb3B0aW9uc1xuICAgICAgICAgICAgaGlzdG9yeTogY2FsbE9wdGlvbnMuaGlzdG9yeSA/PyBwYXJzZXIuaGlzdG9yeSA/PyBoaXN0b3J5LFxuICAgICAgICAgICAgc2hhbGxvdzogY2FsbE9wdGlvbnMuc2hhbGxvdyA/PyBwYXJzZXIuc2hhbGxvdyA/PyBzaGFsbG93LFxuICAgICAgICAgICAgc2Nyb2xsOiBjYWxsT3B0aW9ucy5zY3JvbGwgPz8gcGFyc2VyLnNjcm9sbCA/PyBzY3JvbGwsXG4gICAgICAgICAgICBzdGFydFRyYW5zaXRpb246XG4gICAgICAgICAgICAgIGNhbGxPcHRpb25zLnN0YXJ0VHJhbnNpdGlvbiA/P1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhcnRUcmFuc2l0aW9uID8/XG4gICAgICAgICAgICAgIHN0YXJ0VHJhbnNpdGlvblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgY2FsbE9wdGlvbnM/LmxpbWl0VXJsVXBkYXRlcz8ubWV0aG9kID09PSAnZGVib3VuY2UnIHx8XG4gICAgICAgICAgbGltaXRVcmxVcGRhdGVzPy5tZXRob2QgPT09ICdkZWJvdW5jZScgfHxcbiAgICAgICAgICBwYXJzZXIubGltaXRVcmxVcGRhdGVzPy5tZXRob2QgPT09ICdkZWJvdW5jZSdcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHVwZGF0ZS5vcHRpb25zLnNoYWxsb3cgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcig0MjIpKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB0aW1lTXMgPVxuICAgICAgICAgICAgY2FsbE9wdGlvbnM/LmxpbWl0VXJsVXBkYXRlcz8udGltZU1zID8/XG4gICAgICAgICAgICBsaW1pdFVybFVwZGF0ZXM/LnRpbWVNcyA/P1xuICAgICAgICAgICAgcGFyc2VyLmxpbWl0VXJsVXBkYXRlcz8udGltZU1zID8/XG4gICAgICAgICAgICBkZWZhdWx0UmF0ZUxpbWl0LnRpbWVNc1xuICAgICAgICAgIGNvbnN0IGRlYm91bmNlZFByb21pc2UgPSBkZWJvdW5jZUNvbnRyb2xsZXIucHVzaChcbiAgICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICAgIHRpbWVNcyxcbiAgICAgICAgICAgIGFkYXB0ZXJcbiAgICAgICAgICApXG4gICAgICAgICAgaWYgKG1heERlYm91bmNlVGltZSA8IHRpbWVNcykge1xuICAgICAgICAgICAgLy8gVGhlIGxhcmdlc3QgZGVib3VuY2UgaXMgbGlrZWx5IHRvIGJlIHRoZSBsYXN0IFVSTCB1cGRhdGUsXG4gICAgICAgICAgICAvLyBzbyB3ZSBrZWVwIHRoYXQgUHJvbWlzZSB0byByZXR1cm4gaXQuXG4gICAgICAgICAgICByZXR1cm5lZFByb21pc2UgPSBkZWJvdW5jZWRQcm9taXNlXG4gICAgICAgICAgICBtYXhEZWJvdW5jZVRpbWUgPSB0aW1lTXNcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgdGltZU1zID1cbiAgICAgICAgICAgIGNhbGxPcHRpb25zPy5saW1pdFVybFVwZGF0ZXM/LnRpbWVNcyA/P1xuICAgICAgICAgICAgcGFyc2VyPy5saW1pdFVybFVwZGF0ZXM/LnRpbWVNcyA/P1xuICAgICAgICAgICAgbGltaXRVcmxVcGRhdGVzPy50aW1lTXMgPz9cbiAgICAgICAgICAgIGNhbGxPcHRpb25zLnRocm90dGxlTXMgPz9cbiAgICAgICAgICAgIHBhcnNlci50aHJvdHRsZU1zID8/XG4gICAgICAgICAgICB0aHJvdHRsZU1zXG4gICAgICAgICAgZGVib3VuY2VBYm9ydHMucHVzaChkZWJvdW5jZUNvbnRyb2xsZXIuYWJvcnQodXJsS2V5KSlcbiAgICAgICAgICBnbG9iYWxUaHJvdHRsZVF1ZXVlLnB1c2godXBkYXRlLCB0aW1lTXMpXG4gICAgICAgICAgZG9GbHVzaCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gV2UgbmVlZCB0byBmbHVzaCB0aGUgdGhyb3R0bGUgcXVldWUsIGJ1dCB3ZSBtYXkgaGF2ZSBhIHBlbmRpbmdcbiAgICAgIC8vIGRlYm91bmNlZCB1cGRhdGUgdGhhdCB3aWxsIHJlc29sdmUgYWZ0ZXJ3YXJkcy5cbiAgICAgIGNvbnN0IGdsb2JhbFByb21pc2UgPSBkZWJvdW5jZUFib3J0cy5yZWR1Y2UoXG4gICAgICAgIChwcmV2aW91cywgZm4pID0+IGZuKHByZXZpb3VzKSxcbiAgICAgICAgZG9GbHVzaFxuICAgICAgICAgID8gZ2xvYmFsVGhyb3R0bGVRdWV1ZS5mbHVzaChhZGFwdGVyLCBwcm9jZXNzVXJsU2VhcmNoUGFyYW1zKVxuICAgICAgICAgIDogZ2xvYmFsVGhyb3R0bGVRdWV1ZS5nZXRQZW5kaW5nUHJvbWlzZShhZGFwdGVyKVxuICAgICAgKVxuICAgICAgcmV0dXJuIHJldHVybmVkUHJvbWlzZSA/PyBnbG9iYWxQcm9taXNlXG4gICAgfSxcbiAgICBbXG4gICAgICBzdGF0ZUtleXMsXG4gICAgICBoaXN0b3J5LFxuICAgICAgc2hhbGxvdyxcbiAgICAgIHNjcm9sbCxcbiAgICAgIHRocm90dGxlTXMsXG4gICAgICBsaW1pdFVybFVwZGF0ZXM/Lm1ldGhvZCxcbiAgICAgIGxpbWl0VXJsVXBkYXRlcz8udGltZU1zLFxuICAgICAgc3RhcnRUcmFuc2l0aW9uLFxuICAgICAgcmVzb2x2ZWRVcmxLZXlzLFxuICAgICAgYWRhcHRlci51cGRhdGVVcmwsXG4gICAgICBhZGFwdGVyLmdldFNlYXJjaFBhcmFtc1NuYXBzaG90LFxuICAgICAgYWRhcHRlci5yYXRlTGltaXRGYWN0b3IsXG4gICAgICBwcm9jZXNzVXJsU2VhcmNoUGFyYW1zLFxuICAgICAgZGVmYXVsdFZhbHVlc1xuICAgIF1cbiAgKVxuXG4gIGNvbnN0IG91dHB1dFN0YXRlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBhcHBseURlZmF1bHRWYWx1ZXMoaW50ZXJuYWxTdGF0ZSwgZGVmYXVsdFZhbHVlcyksXG4gICAgW2ludGVybmFsU3RhdGUsIGRlZmF1bHRWYWx1ZXNdXG4gIClcbiAgcmV0dXJuIFtvdXRwdXRTdGF0ZSwgdXBkYXRlXVxufVxuXG4vLyAtLVxuXG5mdW5jdGlvbiBwYXJzZU1hcDxLZXlNYXAgZXh0ZW5kcyBVc2VRdWVyeVN0YXRlc0tleXNNYXA+KFxuICBrZXlNYXA6IEtleU1hcCxcbiAgdXJsS2V5czogUGFydGlhbDxSZWNvcmQ8a2V5b2YgS2V5TWFwLCBzdHJpbmc+PixcbiAgc2VhcmNoUGFyYW1zOiBVUkxTZWFyY2hQYXJhbXMsXG4gIHF1ZXVlZFF1ZXJpZXM6IFJlY29yZDxzdHJpbmcsIFF1ZXJ5IHwgbnVsbCB8IHVuZGVmaW5lZD4sXG4gIGNhY2hlZFF1ZXJ5PzogUmVjb3JkPHN0cmluZywgUXVlcnkgfCBudWxsPixcbiAgY2FjaGVkU3RhdGU/OiBOdWxsYWJsZVZhbHVlczxLZXlNYXA+XG4pOiB7XG4gIHN0YXRlOiBOdWxsYWJsZVZhbHVlczxLZXlNYXA+XG4gIGhhc0NoYW5nZWQ6IGJvb2xlYW5cbn0ge1xuICBsZXQgaGFzQ2hhbmdlZCA9IGZhbHNlXG4gIGNvbnN0IHN0YXRlID0gT2JqZWN0LmVudHJpZXMoa2V5TWFwKS5yZWR1Y2UoKG91dCwgW3N0YXRlS2V5LCBwYXJzZXJdKSA9PiB7XG4gICAgY29uc3QgdXJsS2V5ID0gdXJsS2V5cz8uW3N0YXRlS2V5XSA/PyBzdGF0ZUtleVxuICAgIGNvbnN0IHF1ZXVlZFF1ZXJ5ID0gcXVldWVkUXVlcmllc1t1cmxLZXldXG4gICAgY29uc3QgZmFsbGJhY2tWYWx1ZSA9IHBhcnNlci50eXBlID09PSAnbXVsdGknID8gW10gOiBudWxsXG4gICAgY29uc3QgcXVlcnkgPVxuICAgICAgcXVldWVkUXVlcnkgPT09IHVuZGVmaW5lZFxuICAgICAgICA/ICgocGFyc2VyLnR5cGUgPT09ICdtdWx0aSdcbiAgICAgICAgICAgID8gc2VhcmNoUGFyYW1zPy5nZXRBbGwodXJsS2V5KVxuICAgICAgICAgICAgOiBzZWFyY2hQYXJhbXM/LmdldCh1cmxLZXkpKSA/PyBmYWxsYmFja1ZhbHVlKVxuICAgICAgICA6IHF1ZXVlZFF1ZXJ5XG4gICAgaWYgKFxuICAgICAgY2FjaGVkUXVlcnkgJiZcbiAgICAgIGNhY2hlZFN0YXRlICYmXG4gICAgICBjb21wYXJlUXVlcnkoY2FjaGVkUXVlcnlbdXJsS2V5XSA/PyBmYWxsYmFja1ZhbHVlLCBxdWVyeSlcbiAgICApIHtcbiAgICAgIC8vIENhY2hlIGhpdFxuICAgICAgb3V0W3N0YXRlS2V5IGFzIGtleW9mIEtleU1hcF0gPSBjYWNoZWRTdGF0ZVtzdGF0ZUtleV0gPz8gbnVsbFxuICAgICAgcmV0dXJuIG91dFxuICAgIH1cbiAgICAvLyBDYWNoZSBtaXNzXG4gICAgaGFzQ2hhbmdlZCA9IHRydWVcbiAgICBjb25zdCB2YWx1ZSA9IGlzQWJzZW50RnJvbVVybChxdWVyeSlcbiAgICAgID8gbnVsbFxuICAgICAgOiAvLyB3ZSBoYXZlIHByb3Blcmx5IG5hcnJvd2VkIGBxdWVyeWAgaGVyZSwgYnV0IFRTIGRvZXNuJ3Qga2VlcCB0cmFjayBvZiB0aGF0XG4gICAgICAgIHNhZmVQYXJzZShwYXJzZXIucGFyc2UsIHF1ZXJ5IGFzIHN0cmluZyAmIEFycmF5PHN0cmluZz4sIHVybEtleSlcblxuICAgIG91dFtzdGF0ZUtleSBhcyBrZXlvZiBLZXlNYXBdID0gdmFsdWUgPz8gbnVsbFxuICAgIGlmIChjYWNoZWRRdWVyeSkge1xuICAgICAgY2FjaGVkUXVlcnlbdXJsS2V5XSA9IHF1ZXJ5XG4gICAgfVxuICAgIHJldHVybiBvdXRcbiAgfSwge30gYXMgTnVsbGFibGVWYWx1ZXM8S2V5TWFwPilcblxuICBpZiAoIWhhc0NoYW5nZWQpIHtcbiAgICAvLyBjaGVjayB0aGF0IGtleU1hcCBrZXlzIGhhdmUgbm90IGNoYW5nZWRcbiAgICBjb25zdCBrZXlNYXBLZXlzID0gT2JqZWN0LmtleXMoa2V5TWFwKVxuICAgIGNvbnN0IGNhY2hlZFN0YXRlS2V5cyA9IE9iamVjdC5rZXlzKGNhY2hlZFN0YXRlID8/IHt9KVxuICAgIGhhc0NoYW5nZWQgPVxuICAgICAga2V5TWFwS2V5cy5sZW5ndGggIT09IGNhY2hlZFN0YXRlS2V5cy5sZW5ndGggfHxcbiAgICAgIGtleU1hcEtleXMuc29tZShrZXkgPT4gIWNhY2hlZFN0YXRlS2V5cy5pbmNsdWRlcyhrZXkpKVxuICB9XG5cbiAgcmV0dXJuIHsgc3RhdGUsIGhhc0NoYW5nZWQgfVxufVxuXG5mdW5jdGlvbiBhcHBseURlZmF1bHRWYWx1ZXM8S2V5TWFwIGV4dGVuZHMgVXNlUXVlcnlTdGF0ZXNLZXlzTWFwPihcbiAgc3RhdGU6IE51bGxhYmxlVmFsdWVzPEtleU1hcD4sXG4gIGRlZmF1bHRzOiBQYXJ0aWFsPFZhbHVlczxLZXlNYXA+PlxuKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgT2JqZWN0LmtleXMoc3RhdGUpLm1hcChrZXkgPT4gW2tleSwgc3RhdGVba2V5XSA/PyBkZWZhdWx0c1trZXldID8/IG51bGxdKVxuICApIGFzIFZhbHVlczxLZXlNYXA+XG59XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHR5cGUgeyBPcHRpb25zIH0gZnJvbSAnLi9kZWZzJ1xuaW1wb3J0IHR5cGUgeyBHZW5lcmljUGFyc2VyIH0gZnJvbSAnLi9wYXJzZXJzJ1xuaW1wb3J0IHsgdXNlUXVlcnlTdGF0ZXMgfSBmcm9tICcuL3VzZVF1ZXJ5U3RhdGVzJ1xuXG5leHBvcnQgdHlwZSBVc2VRdWVyeVN0YXRlT3B0aW9uczxUPiA9IEdlbmVyaWNQYXJzZXI8VD4gJiBPcHRpb25zXG5cbmV4cG9ydCB0eXBlIFVzZVF1ZXJ5U3RhdGVSZXR1cm48UGFyc2VkLCBEZWZhdWx0PiA9IFtcbiAgRGVmYXVsdCBleHRlbmRzIHVuZGVmaW5lZFxuICAgID8gUGFyc2VkIHwgbnVsbCAvLyB2YWx1ZSBjYW4ndCBiZSBudWxsIGlmIGRlZmF1bHQgaXMgc3BlY2lmaWVkXG4gICAgOiBQYXJzZWQsXG4gIChcbiAgICB2YWx1ZTpcbiAgICAgIHwgbnVsbFxuICAgICAgfCBQYXJzZWRcbiAgICAgIHwgKChcbiAgICAgICAgICBvbGQ6IERlZmF1bHQgZXh0ZW5kcyBQYXJzZWQgPyBQYXJzZWQgOiBQYXJzZWQgfCBudWxsXG4gICAgICAgICkgPT4gUGFyc2VkIHwgbnVsbCksXG4gICAgb3B0aW9ucz86IE9wdGlvbnNcbiAgKSA9PiBQcm9taXNlPFVSTFNlYXJjaFBhcmFtcz5cbl1cblxuLy8gT3ZlcmxvYWQgdHlwZSBzaWduYXR1cmVzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIE5vdGU6IHRoZSBvcmRlciBvZiBkZWNsYXJhdGlvbiBtYXR0ZXJzIChmcm9tIHRoZSBtb3N0IHNwZWNpZmljIHRvIHRoZSBsZWFzdCkuXG5cbi8qKlxuICogUmVhY3Qgc3RhdGUgaG9vayBzeW5jaHJvbml6ZWQgd2l0aCBhIFVSTCBxdWVyeSBzdHJpbmcgaW4gTmV4dC5qc1xuICpcbiAqIFRoaXMgdmFyaWFudCBpcyB1c2VkIHdoZW4gcHJvdmlkaW5nIGEgZGVmYXVsdCB2YWx1ZS4gVGhpcyB3aWxsIG1ha2VcbiAqIHRoZSByZXR1cm5lZCBzdGF0ZSBub24tbnVsbGFibGUgd2hlbiB0aGUgcXVlcnkgaXMgbm90IHByZXNlbnQgaW4gdGhlIFVSTC5cbiAqICh0aGUgZGVmYXVsdCB2YWx1ZSB3aWxsIGJlIHJldHVybmVkIGluc3RlYWQpLlxuICpcbiAqIF9Ob3RlOiB0aGUgVVJMIHdpbGwgKipub3QqKiBiZSB1cGRhdGVkIHdpdGggdGhlIGRlZmF1bHQgdmFsdWUgaWYgdGhlIHF1ZXJ5XG4gKiBpcyBtaXNzaW5nLl9cbiAqXG4gKiBTZXR0aW5nIHRoZSB2YWx1ZSB0byBgbnVsbGAgd2lsbCBjbGVhciB0aGUgcXVlcnkgaW4gdGhlIFVSTCwgYW5kIHJldHVyblxuICogdGhlIGRlZmF1bHQgdmFsdWUgYXMgc3RhdGUuXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqIGBgYHRzXG4gKiAgIGNvbnN0IFtjb3VudCwgc2V0Q291bnRdID0gdXNlUXVlcnlTdGF0ZShcbiAqICAgICAnY291bnQnLFxuICogICAgIHBhcnNlQXNJbnRlZ2VyLmRlZmF1bHRWYWx1ZSgwKVxuICogICApXG4gKlxuICogICBjb25zdCBpbmNyZW1lbnQgPSAoKSA9PiBzZXRDb3VudChvbGRDb3VudCA9PiBvbGRDb3VudCArIDEpXG4gKiAgIGNvbnN0IGRlY3JlbWVudCA9ICgpID0+IHNldENvdW50KG9sZENvdW50ID0+IG9sZENvdW50IC0gMSlcbiAqICAgLy8gQ2xlYXJzIHRoZSBxdWVyeSBrZXkgZnJvbSB0aGUgVVJMIGFuZCBgY291bnRgIGVxdWFscyAwXG4gKiAgIGNvbnN0IGNsZWFyQ291bnRRdWVyeSA9ICgpID0+IHNldENvdW50KG51bGwpXG4gKiBgYGBcbiAqIEBwYXJhbSBrZXkgVGhlIFVSTCBxdWVyeSBzdHJpbmcga2V5IHRvIGJpbmQgdG9cbiAqIEBwYXJhbSBvcHRpb25zIC0gUGFyc2VyIChkZWZpbmVzIHRoZSBzdGF0ZSBkYXRhIHR5cGUpLCBkZWZhdWx0IHZhbHVlIGFuZCBvcHRpb25hbCBoaXN0b3J5IG1vZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyeVN0YXRlPFQ+KFxuICBrZXk6IHN0cmluZyxcbiAgb3B0aW9uczogVXNlUXVlcnlTdGF0ZU9wdGlvbnM8VD4gJiB7IGRlZmF1bHRWYWx1ZTogVCB9XG4pOiBVc2VRdWVyeVN0YXRlUmV0dXJuPFxuICBOb25OdWxsYWJsZTxSZXR1cm5UeXBlPHR5cGVvZiBvcHRpb25zLnBhcnNlPj4sXG4gIHR5cGVvZiBvcHRpb25zLmRlZmF1bHRWYWx1ZVxuPlxuXG4vKipcbiAqIFJlYWN0IHN0YXRlIGhvb2sgc3luY2hyb25pemVkIHdpdGggYSBVUkwgcXVlcnkgc3RyaW5nIGluIE5leHQuanNcbiAqXG4gKiBJZiB0aGUgcXVlcnkgaXMgbWlzc2luZyBpbiB0aGUgVVJMLCB0aGUgc3RhdGUgd2lsbCBiZSBgbnVsbGAuXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqIGBgYHRzXG4gKiAgIC8vIEJsb2cgcG9zdHMgZmlsdGVyaW5nIGJ5IHRhZ1xuICogICBjb25zdCBbdGFnLCBzZWxlY3RUYWddID0gdXNlUXVlcnlTdGF0ZSgndGFnJylcbiAqICAgY29uc3QgZmlsdGVyZWRQb3N0cyA9IHBvc3RzLmZpbHRlcihwb3N0ID0+IHRhZyA/IHBvc3QudGFnID09PSB0YWcgOiB0cnVlKVxuICogICBjb25zdCBjbGVhclRhZyA9ICgpID0+IHNlbGVjdFRhZyhudWxsKVxuICogYGBgXG4gKiBAcGFyYW0ga2V5IFRoZSBVUkwgcXVlcnkgc3RyaW5nIGtleSB0byBiaW5kIHRvXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFBhcnNlciAoZGVmaW5lcyB0aGUgc3RhdGUgZGF0YSB0eXBlKSwgYW5kIG9wdGlvbmFsIGhpc3RvcnkgbW9kZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJ5U3RhdGU8VD4oXG4gIGtleTogc3RyaW5nLFxuICBvcHRpb25zOiBVc2VRdWVyeVN0YXRlT3B0aW9uczxUPlxuKTogVXNlUXVlcnlTdGF0ZVJldHVybjxOb25OdWxsYWJsZTxSZXR1cm5UeXBlPHR5cGVvZiBvcHRpb25zLnBhcnNlPj4sIHVuZGVmaW5lZD5cblxuLyoqXG4gKiBEZWZhdWx0IHR5cGUgc3RyaW5nLCBsaW1pdGVkIG9wdGlvbnMgJiBkZWZhdWx0IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VRdWVyeVN0YXRlKFxuICBrZXk6IHN0cmluZyxcbiAgb3B0aW9uczogT3B0aW9ucyAmIHtcbiAgICBkZWZhdWx0VmFsdWU6IHN0cmluZ1xuICB9ICYge1xuICAgIC8vIE5vdGU6IEVuc3VyZSB0aGlzIG92ZXJsb2FkIGlzbid0IHBpY2tlZCB3aGVuIHNwZWNpZnlpbmcgYSBkZWZhdWx0XG4gICAgLy8gdmFsdWUgYW5kIHNwcmVhZGluZyBhIHBhcnNlciBmb3Igd2hpY2ggdGhlIGRlZmF1bHQgd291bGQgYmUgaW52YWxpZC5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tLzQ3bmcvbnVxcy9wdWxsLzEwNTdcbiAgICBbSyBpbiBrZXlvZiBHZW5lcmljUGFyc2VyPHVua25vd24+XT86IG5ldmVyXG4gIH1cbik6IFVzZVF1ZXJ5U3RhdGVSZXR1cm48c3RyaW5nLCB0eXBlb2Ygb3B0aW9ucy5kZWZhdWx0VmFsdWU+XG5cbi8qKlxuICogUmVhY3Qgc3RhdGUgaG9vayBzeW5jaHJvbml6ZWQgd2l0aCBhIFVSTCBxdWVyeSBzdHJpbmcgaW4gTmV4dC5qc1xuICpcbiAqIElmIHRoZSBxdWVyeSBpcyBtaXNzaW5nIGluIHRoZSBVUkwsIHRoZSBzdGF0ZSB3aWxsIGJlIGBudWxsYC5cbiAqXG4gKiBOb3RlOiBieSBkZWZhdWx0IHRoZSBzdGF0ZSB0eXBlIGlzIGEgYHN0cmluZ2AuIFRvIHVzZSBkaWZmZXJlbnQgdHlwZXMsXG4gKiBjaGVjayBvdXQgdGhlIGBwYXJzZUFzWFlaYCBoZWxwZXJzOlxuICogYGBgdHNcbiAqICAgY29uc3QgW2RhdGUsIHNldERhdGVdID0gdXNlUXVlcnlTdGF0ZShcbiAqICAgICAnZGF0ZScsXG4gKiAgICAgcGFyc2VBc0lzb0RhdGVUaW1lLndpdGhEZWZhdWx0KG5ldyBEYXRlKCcyMDIxLTAxLTAxJykpXG4gKiAgIClcbiAqXG4gKiAgIGNvbnN0IHNldFRvTm93ID0gKCkgPT4gc2V0RGF0ZShuZXcgRGF0ZSgpKVxuICogICBjb25zdCBhZGRPbmVIb3VyID0gKCkgPT4ge1xuICogICAgIHNldERhdGUob2xkRGF0ZSA9PiBuZXcgRGF0ZShvbGREYXRlLnZhbHVlT2YoKSArIDM2MDBfMDAwKSlcbiAqICAgfVxuICogYGBgXG4gKiBAcGFyYW0ga2V5IFRoZSBVUkwgcXVlcnkgc3RyaW5nIGtleSB0byBiaW5kIHRvXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFBhcnNlciAoZGVmaW5lcyB0aGUgc3RhdGUgZGF0YSB0eXBlKSwgYW5kIG9wdGlvbmFsIGhpc3RvcnkgbW9kZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVF1ZXJ5U3RhdGUoXG4gIGtleTogc3RyaW5nLFxuICBvcHRpb25zOiBQaWNrPFVzZVF1ZXJ5U3RhdGVPcHRpb25zPHN0cmluZz4sIGtleW9mIE9wdGlvbnM+XG4pOiBVc2VRdWVyeVN0YXRlUmV0dXJuPHN0cmluZywgdW5kZWZpbmVkPlxuXG4vKipcbiAqIFJlYWN0IHN0YXRlIGhvb2sgc3luY2hyb25pemVkIHdpdGggYSBVUkwgcXVlcnkgc3RyaW5nIGluIE5leHQuanNcbiAqXG4gKiBJZiB0aGUgcXVlcnkgaXMgbWlzc2luZyBpbiB0aGUgVVJMLCB0aGUgc3RhdGUgd2lsbCBiZSBgbnVsbGAuXG4gKlxuICogTm90ZTogYnkgZGVmYXVsdCB0aGUgc3RhdGUgdHlwZSBpcyBhIGBzdHJpbmdgLiBUbyB1c2UgZGlmZmVyZW50IHR5cGVzLFxuICogY2hlY2sgb3V0IHRoZSBgcGFyc2VBc1hZWmAgaGVscGVyczpcbiAqIGBgYHRzXG4gKiAgIGNvbnN0IFtkYXRlLCBzZXREYXRlXSA9IHVzZVF1ZXJ5U3RhdGUoXG4gKiAgICAgJ2RhdGUnLFxuICogICAgIHBhcnNlQXNJc29EYXRlVGltZS53aXRoRGVmYXVsdChuZXcgRGF0ZSgnMjAyMS0wMS0wMScpKVxuICogICApXG4gKlxuICogICBjb25zdCBzZXRUb05vdyA9ICgpID0+IHNldERhdGUobmV3IERhdGUoKSlcbiAqICAgY29uc3QgYWRkT25lSG91ciA9ICgpID0+IHtcbiAqICAgICBzZXREYXRlKG9sZERhdGUgPT4gbmV3IERhdGUob2xkRGF0ZS52YWx1ZU9mKCkgKyAzNjAwXzAwMCkpXG4gKiAgIH1cbiAqIGBgYFxuICogQHBhcmFtIGtleSBUaGUgVVJMIHF1ZXJ5IHN0cmluZyBrZXkgdG8gYmluZCB0b1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUXVlcnlTdGF0ZShcbiAga2V5OiBzdHJpbmdcbik6IFVzZVF1ZXJ5U3RhdGVSZXR1cm48c3RyaW5nLCB1bmRlZmluZWQ+XG5cbi8qKlxuICogUmVhY3Qgc3RhdGUgaG9vayBzeW5jaHJvbml6ZWQgd2l0aCBhIFVSTCBxdWVyeSBzdHJpbmcgaW4gTmV4dC5qc1xuICpcbiAqIElmIHVzZWQgd2l0aG91dCBhIGBkZWZhdWx0VmFsdWVgIHN1cHBsaWVkIGluIHRoZSBvcHRpb25zLCBhbmQgdGhlIHF1ZXJ5IGlzXG4gKiBtaXNzaW5nIGluIHRoZSBVUkwsIHRoZSBzdGF0ZSB3aWxsIGJlIGBudWxsYC5cbiAqXG4gKiAjIyMgQmVoYXZpb3VyIHdpdGggZGVmYXVsdCB2YWx1ZXM6XG4gKlxuICogX05vdGU6IHRoZSBVUkwgd2lsbCAqKm5vdCoqIGJlIHVwZGF0ZWQgd2l0aCB0aGUgZGVmYXVsdCB2YWx1ZSBpZiB0aGUgcXVlcnlcbiAqIGlzIG1pc3NpbmcuX1xuICpcbiAqIFNldHRpbmcgdGhlIHZhbHVlIHRvIGBudWxsYCB3aWxsIGNsZWFyIHRoZSBxdWVyeSBpbiB0aGUgVVJMLCBhbmQgcmV0dXJuXG4gKiB0aGUgZGVmYXVsdCB2YWx1ZSBhcyBzdGF0ZS5cbiAqXG4gKiBFeGFtcGxlIHVzYWdlOlxuICogYGBgdHNcbiAqICAgLy8gQmxvZyBwb3N0cyBmaWx0ZXJpbmcgYnkgdGFnXG4gKiAgIGNvbnN0IFt0YWcsIHNlbGVjdFRhZ10gPSB1c2VRdWVyeVN0YXRlKCd0YWcnKVxuICogICBjb25zdCBmaWx0ZXJlZFBvc3RzID0gcG9zdHMuZmlsdGVyKHBvc3QgPT4gdGFnID8gcG9zdC50YWcgPT09IHRhZyA6IHRydWUpXG4gKiAgIGNvbnN0IGNsZWFyVGFnID0gKCkgPT4gc2VsZWN0VGFnKG51bGwpXG4gKlxuICogICAvLyBXaXRoIGRlZmF1bHQgdmFsdWVzXG4gKlxuICogICBjb25zdCBbY291bnQsIHNldENvdW50XSA9IHVzZVF1ZXJ5U3RhdGUoXG4gKiAgICAgJ2NvdW50JyxcbiAqICAgICBwYXJzZUFzSW50ZWdlci5kZWZhdWx0VmFsdWUoMClcbiAqICAgKVxuICpcbiAqICAgY29uc3QgaW5jcmVtZW50ID0gKCkgPT4gc2V0Q291bnQob2xkQ291bnQgPT4gb2xkQ291bnQgKyAxKVxuICogICBjb25zdCBkZWNyZW1lbnQgPSAoKSA9PiBzZXRDb3VudChvbGRDb3VudCA9PiBvbGRDb3VudCAtIDEpXG4gKiAgIGNvbnN0IGNsZWFyQ291bnRRdWVyeSA9ICgpID0+IHNldENvdW50KG51bGwpXG4gKlxuICogICAvLyAtLVxuICpcbiAqICAgY29uc3QgW2RhdGUsIHNldERhdGVdID0gdXNlUXVlcnlTdGF0ZShcbiAqICAgICAnZGF0ZScsXG4gKiAgICAgcGFyc2VBc0lzb0RhdGVUaW1lLndpdGhEZWZhdWx0KG5ldyBEYXRlKCcyMDIxLTAxLTAxJykpXG4gKiAgIClcbiAqXG4gKiAgIGNvbnN0IHNldFRvTm93ID0gKCkgPT4gc2V0RGF0ZShuZXcgRGF0ZSgpKVxuICogICBjb25zdCBhZGRPbmVIb3VyID0gKCkgPT4ge1xuICogICAgIHNldERhdGUob2xkRGF0ZSA9PiBuZXcgRGF0ZShvbGREYXRlLnZhbHVlT2YoKSArIDM2MDBfMDAwKSlcbiAqICAgfVxuICogYGBgXG4gKiBAcGFyYW0ga2V5IFRoZSBVUkwgcXVlcnkgc3RyaW5nIGtleSB0byBiaW5kIHRvXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFBhcnNlciAoZGVmaW5lcyB0aGUgc3RhdGUgZGF0YSB0eXBlKSwgb3B0aW9uYWwgZGVmYXVsdCB2YWx1ZSBhbmQgaGlzdG9yeSBtb2RlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUXVlcnlTdGF0ZTxUID0gc3RyaW5nPihcbiAga2V5OiBzdHJpbmcsXG4gIG9wdGlvbnM6IFBhcnRpYWw8VXNlUXVlcnlTdGF0ZU9wdGlvbnM8VD4+ICYge1xuICAgIGRlZmF1bHRWYWx1ZT86IFRcbiAgfSA9IHt9XG4pIHtcbiAgY29uc3QgeyBwYXJzZSwgdHlwZSwgc2VyaWFsaXplLCBlcSwgZGVmYXVsdFZhbHVlLCAuLi5ob29rT3B0aW9ucyB9ID0gb3B0aW9uc1xuICBjb25zdCBbeyBba2V5XTogc3RhdGUgfSwgc2V0U3RhdGVdID0gdXNlUXVlcnlTdGF0ZXMoXG4gICAge1xuICAgICAgW2tleV06IHtcbiAgICAgICAgcGFyc2U6IHBhcnNlID8/ICgoeDogYW55KSA9PiB4IGFzIHVua25vd24gYXMgVCksXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHNlcmlhbGl6ZSxcbiAgICAgICAgZXEsXG4gICAgICAgIGRlZmF1bHRWYWx1ZVxuICAgICAgfSBhcyBHZW5lcmljUGFyc2VyPFQ+XG4gICAgfSxcbiAgICBob29rT3B0aW9uc1xuICApXG4gIGNvbnN0IHVwZGF0ZSA9IHVzZUNhbGxiYWNrKFxuICAgIChzdGF0ZVVwZGF0ZXI6IFJlYWN0LlNldFN0YXRlQWN0aW9uPFQgfCBudWxsPiwgY2FsbE9wdGlvbnM6IE9wdGlvbnMgPSB7fSkgPT5cbiAgICAgIHNldFN0YXRlKFxuICAgICAgICBvbGQgPT4gKHtcbiAgICAgICAgICBba2V5XTpcbiAgICAgICAgICAgIHR5cGVvZiBzdGF0ZVVwZGF0ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgPyAvLyBAdHMtZXhwZWN0LWVycm9yIHNvbWVob3cgc3RhdGVVcGRhdGVyIGlzIG5vdCBuYXJyb3dlZCBjb3JyZWN0bHlcbiAgICAgICAgICAgICAgICAvLyBhbmQgdXNlUXVlcnlTdGF0ZXMnIGtleSB0eXBlIGlzIG5vdCBpbmZlcnJlZFxuICAgICAgICAgICAgICAgIHN0YXRlVXBkYXRlcihvbGRba2V5XSlcbiAgICAgICAgICAgICAgOiBzdGF0ZVVwZGF0ZXJcbiAgICAgICAgfSksXG4gICAgICAgIGNhbGxPcHRpb25zXG4gICAgICApLFxuICAgIFtrZXksIHNldFN0YXRlXVxuICApXG4gIHJldHVybiBbc3RhdGUsIHVwZGF0ZV1cbn1cbiJdLCJuYW1lcyI6WyJlcnJvciIsInBhcnNlQXNTdHJpbmc6IFNpbmdsZVBhcnNlckJ1aWxkZXI8c3RyaW5nPiIsInBhcnNlQXNJbnRlZ2VyOiBTaW5nbGVQYXJzZXJCdWlsZGVyPG51bWJlcj4iLCJwYXJzZUFzSW5kZXg6IFNpbmdsZVBhcnNlckJ1aWxkZXI8bnVtYmVyPiIsInBhcnNlQXNIZXg6IFNpbmdsZVBhcnNlckJ1aWxkZXI8bnVtYmVyPiIsInBhcnNlQXNGbG9hdDogU2luZ2xlUGFyc2VyQnVpbGRlcjxudW1iZXI+IiwicGFyc2VBc0Jvb2xlYW46IFNpbmdsZVBhcnNlckJ1aWxkZXI8Ym9vbGVhbj4iLCJwYXJzZUFzVGltZXN0YW1wOiBTaW5nbGVQYXJzZXJCdWlsZGVyPERhdGU+IiwicGFyc2VBc0lzb0RhdGVUaW1lOiBTaW5nbGVQYXJzZXJCdWlsZGVyPERhdGU+IiwicGFyc2VBc0lzb0RhdGU6IFNpbmdsZVBhcnNlckJ1aWxkZXI8RGF0ZT4iLCJlbWl0dGVyOiBFbWl0dGVyPEV2ZW50TWFwPiIsImhhbmRsZXJzIiwibmV3U3RhdGU6IFBhcnRpYWw8TnVsbGFibGU8S2V5TWFwPj4iLCJyZXR1cm5lZFByb21pc2U6IFByb21pc2U8VVJMU2VhcmNoUGFyYW1zPiB8IHVuZGVmaW5lZCIsImRlYm91bmNlQWJvcnRzOiBBcnJheTxcbiAgICAgICAgKHA6IFByb21pc2U8VVJMU2VhcmNoUGFyYW1zPikgPT4gUHJvbWlzZTxVUkxTZWFyY2hQYXJhbXM+XG4gICAgICA+IiwidXBkYXRlOiBVcGRhdGVRdWV1ZVB1c2hBcmdzIiwic3RhcnRUcmFuc2l0aW9uIiwidXBkYXRlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/nuqs/dist/patch-history-D_NXxM--.js":
/*!**********************************************************!*\
  !*** ./node_modules/nuqs/dist/patch-history-D_NXxM--.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   historyUpdateMarker: () => (/* binding */ historyUpdateMarker),\n/* harmony export */   markHistoryAsPatched: () => (/* binding */ markHistoryAsPatched),\n/* harmony export */   patchHistory: () => (/* binding */ patchHistory),\n/* harmony export */   shouldPatchHistory: () => (/* binding */ shouldPatchHistory)\n/* harmony export */ });\n/* harmony import */ var _context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context-B9lexhKS.js */ \"(ssr)/./node_modules/nuqs/dist/context-B9lexhKS.js\");\n/* harmony import */ var _reset_CvWA16Vh_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reset-CvWA16Vh.js */ \"(ssr)/./node_modules/nuqs/dist/reset-CvWA16Vh.js\");\n\n\n\n//#region src/adapters/lib/patch-history.ts\nconst historyUpdateMarker = \"__nuqs__\";\nfunction getSearchParams(url) {\n\tif (url instanceof URL) return url.searchParams;\n\tif (url.startsWith(\"?\")) return new URLSearchParams(url);\n\ttry {\n\t\treturn new URL(url, location.origin).searchParams;\n\t} catch {\n\t\treturn new URLSearchParams(url);\n\t}\n}\nfunction shouldPatchHistory(adapter) {\n\tif (typeof history === \"undefined\") return false;\n\tif (history.nuqs?.version && history.nuqs.version !== \"0.0.0-inject-version-here\") {\n\t\tconsole.error((0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_0__.error)(409), history.nuqs.version, `0.0.0-inject-version-here`, adapter);\n\t\treturn false;\n\t}\n\tif (history.nuqs?.adapters?.includes(adapter)) return false;\n\treturn true;\n}\nfunction markHistoryAsPatched(adapter) {\n\thistory.nuqs = history.nuqs ?? {\n\t\tversion: \"0.0.0-inject-version-here\",\n\t\tadapters: []\n\t};\n\thistory.nuqs.adapters.push(adapter);\n}\nfunction patchHistory(emitter, adapter) {\n\tif (!shouldPatchHistory(adapter)) return;\n\tlet lastSearchSeen = typeof location === \"object\" ? location.search : \"\";\n\temitter.on(\"update\", (search) => {\n\t\tconst searchString = search.toString();\n\t\tlastSearchSeen = searchString.length ? \"?\" + searchString : \"\";\n\t});\n\twindow.addEventListener(\"popstate\", () => {\n\t\tlastSearchSeen = location.search;\n\t\t(0,_reset_CvWA16Vh_js__WEBPACK_IMPORTED_MODULE_1__.resetQueues)();\n\t});\n\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs %s] Patching history (%s adapter)\", \"0.0.0-inject-version-here\", adapter);\n\tfunction sync(url) {\n\t\t(0,_reset_CvWA16Vh_js__WEBPACK_IMPORTED_MODULE_1__.spinQueueResetMutex)();\n\t\ttry {\n\t\t\tif (new URL(url, location.origin).search === lastSearchSeen) return;\n\t\t} catch {}\n\t\ttry {\n\t\t\temitter.emit(\"update\", getSearchParams(url));\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t}\n\t}\n\tconst originalPushState = history.pushState;\n\tconst originalReplaceState = history.replaceState;\n\thistory.pushState = function nuqs_pushState(state, marker, url) {\n\t\toriginalPushState.call(history, state, \"\", url);\n\t\tif (url && marker !== historyUpdateMarker) sync(url);\n\t};\n\thistory.replaceState = function nuqs_replaceState(state, marker, url) {\n\t\toriginalReplaceState.call(history, state, \"\", url);\n\t\tif (url && marker !== historyUpdateMarker) sync(url);\n\t};\n\tmarkHistoryAsPatched(adapter);\n}\n\n//#endregion\n\n//# sourceMappingURL=patch-history-D_NXxM--.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L3BhdGNoLWhpc3RvcnktRF9OWHhNLS0uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFEO0FBQ2tCOztBQUV2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMkRBQUs7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFLCtEQUFXO0FBQ2IsRUFBRTtBQUNGLENBQUMsMkRBQUs7QUFDTjtBQUNBLEVBQUUsdUVBQW1CO0FBQ3JCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDdUY7QUFDdkYiLCJzb3VyY2VzIjpbIi9ob21lL3N1cG9ydGVzYXVkZS9ZVUlDSEkvMDAtYWdlbnRtYWtlci9hZ2VudC11aS9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L3BhdGNoLWhpc3RvcnktRF9OWHhNLS0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZGVidWcsIGVycm9yIH0gZnJvbSBcIi4vY29udGV4dC1COWxleGhLUy5qc1wiO1xuaW1wb3J0IHsgcmVzZXRRdWV1ZXMsIHNwaW5RdWV1ZVJlc2V0TXV0ZXggfSBmcm9tIFwiLi9yZXNldC1DdldBMTZWaC5qc1wiO1xuXG4vLyNyZWdpb24gc3JjL2FkYXB0ZXJzL2xpYi9wYXRjaC1oaXN0b3J5LnRzXG5jb25zdCBoaXN0b3J5VXBkYXRlTWFya2VyID0gXCJfX251cXNfX1wiO1xuZnVuY3Rpb24gZ2V0U2VhcmNoUGFyYW1zKHVybCkge1xuXHRpZiAodXJsIGluc3RhbmNlb2YgVVJMKSByZXR1cm4gdXJsLnNlYXJjaFBhcmFtcztcblx0aWYgKHVybC5zdGFydHNXaXRoKFwiP1wiKSkgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXModXJsKTtcblx0dHJ5IHtcblx0XHRyZXR1cm4gbmV3IFVSTCh1cmwsIGxvY2F0aW9uLm9yaWdpbikuc2VhcmNoUGFyYW1zO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyh1cmwpO1xuXHR9XG59XG5mdW5jdGlvbiBzaG91bGRQYXRjaEhpc3RvcnkoYWRhcHRlcikge1xuXHRpZiAodHlwZW9mIGhpc3RvcnkgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBmYWxzZTtcblx0aWYgKGhpc3RvcnkubnVxcz8udmVyc2lvbiAmJiBoaXN0b3J5Lm51cXMudmVyc2lvbiAhPT0gXCIwLjAuMC1pbmplY3QtdmVyc2lvbi1oZXJlXCIpIHtcblx0XHRjb25zb2xlLmVycm9yKGVycm9yKDQwOSksIGhpc3RvcnkubnVxcy52ZXJzaW9uLCBgMC4wLjAtaW5qZWN0LXZlcnNpb24taGVyZWAsIGFkYXB0ZXIpO1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRpZiAoaGlzdG9yeS5udXFzPy5hZGFwdGVycz8uaW5jbHVkZXMoYWRhcHRlcikpIHJldHVybiBmYWxzZTtcblx0cmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBtYXJrSGlzdG9yeUFzUGF0Y2hlZChhZGFwdGVyKSB7XG5cdGhpc3RvcnkubnVxcyA9IGhpc3RvcnkubnVxcyA/PyB7XG5cdFx0dmVyc2lvbjogXCIwLjAuMC1pbmplY3QtdmVyc2lvbi1oZXJlXCIsXG5cdFx0YWRhcHRlcnM6IFtdXG5cdH07XG5cdGhpc3RvcnkubnVxcy5hZGFwdGVycy5wdXNoKGFkYXB0ZXIpO1xufVxuZnVuY3Rpb24gcGF0Y2hIaXN0b3J5KGVtaXR0ZXIsIGFkYXB0ZXIpIHtcblx0aWYgKCFzaG91bGRQYXRjaEhpc3RvcnkoYWRhcHRlcikpIHJldHVybjtcblx0bGV0IGxhc3RTZWFyY2hTZWVuID0gdHlwZW9mIGxvY2F0aW9uID09PSBcIm9iamVjdFwiID8gbG9jYXRpb24uc2VhcmNoIDogXCJcIjtcblx0ZW1pdHRlci5vbihcInVwZGF0ZVwiLCAoc2VhcmNoKSA9PiB7XG5cdFx0Y29uc3Qgc2VhcmNoU3RyaW5nID0gc2VhcmNoLnRvU3RyaW5nKCk7XG5cdFx0bGFzdFNlYXJjaFNlZW4gPSBzZWFyY2hTdHJpbmcubGVuZ3RoID8gXCI/XCIgKyBzZWFyY2hTdHJpbmcgOiBcIlwiO1xuXHR9KTtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCAoKSA9PiB7XG5cdFx0bGFzdFNlYXJjaFNlZW4gPSBsb2NhdGlvbi5zZWFyY2g7XG5cdFx0cmVzZXRRdWV1ZXMoKTtcblx0fSk7XG5cdGRlYnVnKFwiW251cXMgJXNdIFBhdGNoaW5nIGhpc3RvcnkgKCVzIGFkYXB0ZXIpXCIsIFwiMC4wLjAtaW5qZWN0LXZlcnNpb24taGVyZVwiLCBhZGFwdGVyKTtcblx0ZnVuY3Rpb24gc3luYyh1cmwpIHtcblx0XHRzcGluUXVldWVSZXNldE11dGV4KCk7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChuZXcgVVJMKHVybCwgbG9jYXRpb24ub3JpZ2luKS5zZWFyY2ggPT09IGxhc3RTZWFyY2hTZWVuKSByZXR1cm47XG5cdFx0fSBjYXRjaCB7fVxuXHRcdHRyeSB7XG5cdFx0XHRlbWl0dGVyLmVtaXQoXCJ1cGRhdGVcIiwgZ2V0U2VhcmNoUGFyYW1zKHVybCkpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0fVxuXHR9XG5cdGNvbnN0IG9yaWdpbmFsUHVzaFN0YXRlID0gaGlzdG9yeS5wdXNoU3RhdGU7XG5cdGNvbnN0IG9yaWdpbmFsUmVwbGFjZVN0YXRlID0gaGlzdG9yeS5yZXBsYWNlU3RhdGU7XG5cdGhpc3RvcnkucHVzaFN0YXRlID0gZnVuY3Rpb24gbnVxc19wdXNoU3RhdGUoc3RhdGUsIG1hcmtlciwgdXJsKSB7XG5cdFx0b3JpZ2luYWxQdXNoU3RhdGUuY2FsbChoaXN0b3J5LCBzdGF0ZSwgXCJcIiwgdXJsKTtcblx0XHRpZiAodXJsICYmIG1hcmtlciAhPT0gaGlzdG9yeVVwZGF0ZU1hcmtlcikgc3luYyh1cmwpO1xuXHR9O1xuXHRoaXN0b3J5LnJlcGxhY2VTdGF0ZSA9IGZ1bmN0aW9uIG51cXNfcmVwbGFjZVN0YXRlKHN0YXRlLCBtYXJrZXIsIHVybCkge1xuXHRcdG9yaWdpbmFsUmVwbGFjZVN0YXRlLmNhbGwoaGlzdG9yeSwgc3RhdGUsIFwiXCIsIHVybCk7XG5cdFx0aWYgKHVybCAmJiBtYXJrZXIgIT09IGhpc3RvcnlVcGRhdGVNYXJrZXIpIHN5bmModXJsKTtcblx0fTtcblx0bWFya0hpc3RvcnlBc1BhdGNoZWQoYWRhcHRlcik7XG59XG5cbi8vI2VuZHJlZ2lvblxuZXhwb3J0IHsgaGlzdG9yeVVwZGF0ZU1hcmtlciwgbWFya0hpc3RvcnlBc1BhdGNoZWQsIHBhdGNoSGlzdG9yeSwgc2hvdWxkUGF0Y2hIaXN0b3J5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXRjaC1oaXN0b3J5LURfTlh4TS0tLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/patch-history-D_NXxM--.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/nuqs/dist/reset-CvWA16Vh.js":
/*!**************************************************!*\
  !*** ./node_modules/nuqs/dist/reset-CvWA16Vh.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resetQueues: () => (/* binding */ resetQueues),\n/* harmony export */   setQueueResetMutex: () => (/* binding */ setQueueResetMutex),\n/* harmony export */   spinQueueResetMutex: () => (/* binding */ spinQueueResetMutex)\n/* harmony export */ });\n/* harmony import */ var _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./debounce-F8USatWE.js */ \"(ssr)/./node_modules/nuqs/dist/debounce-F8USatWE.js\");\n/* harmony import */ var _context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./context-B9lexhKS.js */ \"(ssr)/./node_modules/nuqs/dist/context-B9lexhKS.js\");\n\n\n\n//#region src/lib/queues/reset.ts\nlet mutex = 0;\nfunction setQueueResetMutex(value = 1) {\n\tmutex = value;\n}\nfunction spinQueueResetMutex() {\n\tmutex = Math.max(0, mutex - 1);\n\tif (mutex > 0) return;\n\tresetQueues();\n}\nfunction resetQueues() {\n\t(0,_context_B9lexhKS_js__WEBPACK_IMPORTED_MODULE_0__.debug)(\"[nuqs] Aborting queues\");\n\t_debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.debounceController.abortAll();\n\t_debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.globalThrottleQueue.abort().forEach((key) => _debounce_F8USatWE_js__WEBPACK_IMPORTED_MODULE_1__.debounceController.queuedQuerySync.emit(key));\n}\n\n//#endregion\n\n//# sourceMappingURL=reset-CvWA16Vh.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L3Jlc2V0LUN2V0ExNlZoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlGO0FBQ25DOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywyREFBSztBQUNOLENBQUMscUVBQWtCO0FBQ25CLENBQUMsc0VBQW1CLDBCQUEwQixxRUFBa0I7QUFDaEU7O0FBRUE7QUFDZ0U7QUFDaEUiLCJzb3VyY2VzIjpbIi9ob21lL3N1cG9ydGVzYXVkZS9ZVUlDSEkvMDAtYWdlbnRtYWtlci9hZ2VudC11aS9ub2RlX21vZHVsZXMvbnVxcy9kaXN0L3Jlc2V0LUN2V0ExNlZoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlYm91bmNlQ29udHJvbGxlciwgZ2xvYmFsVGhyb3R0bGVRdWV1ZSB9IGZyb20gXCIuL2RlYm91bmNlLUY4VVNhdFdFLmpzXCI7XG5pbXBvcnQgeyBkZWJ1ZyB9IGZyb20gXCIuL2NvbnRleHQtQjlsZXhoS1MuanNcIjtcblxuLy8jcmVnaW9uIHNyYy9saWIvcXVldWVzL3Jlc2V0LnRzXG5sZXQgbXV0ZXggPSAwO1xuZnVuY3Rpb24gc2V0UXVldWVSZXNldE11dGV4KHZhbHVlID0gMSkge1xuXHRtdXRleCA9IHZhbHVlO1xufVxuZnVuY3Rpb24gc3BpblF1ZXVlUmVzZXRNdXRleCgpIHtcblx0bXV0ZXggPSBNYXRoLm1heCgwLCBtdXRleCAtIDEpO1xuXHRpZiAobXV0ZXggPiAwKSByZXR1cm47XG5cdHJlc2V0UXVldWVzKCk7XG59XG5mdW5jdGlvbiByZXNldFF1ZXVlcygpIHtcblx0ZGVidWcoXCJbbnVxc10gQWJvcnRpbmcgcXVldWVzXCIpO1xuXHRkZWJvdW5jZUNvbnRyb2xsZXIuYWJvcnRBbGwoKTtcblx0Z2xvYmFsVGhyb3R0bGVRdWV1ZS5hYm9ydCgpLmZvckVhY2goKGtleSkgPT4gZGVib3VuY2VDb250cm9sbGVyLnF1ZXVlZFF1ZXJ5U3luYy5lbWl0KGtleSkpO1xufVxuXG4vLyNlbmRyZWdpb25cbmV4cG9ydCB7IHJlc2V0UXVldWVzLCBzZXRRdWV1ZVJlc2V0TXV0ZXgsIHNwaW5RdWV1ZVJlc2V0TXV0ZXggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc2V0LUN2V0ExNlZoLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/nuqs/dist/reset-CvWA16Vh.js\n");

/***/ })

};
;